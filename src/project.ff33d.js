window.__require=function e(t,n,o){function i(s,c){if(!n[s]){if(!t[s]){var r=s.split("/");if(r=r[r.length-1],!t[r]){var l="function"==typeof __require&&__require;if(!c&&l)return l(r,!0);if(a)return a(r,!0);throw new Error("Cannot find module '"+s+"'")}s=r}var d=n[s]={exports:{}};t[s][0].call(d.exports,function(e){return i(t[s][1][e]||e)},d,d.exports,e,t,n,o)}return n[s].exports}for(var a="function"==typeof __require&&__require,s=0;s<o.length;s++)i(o[s]);return i}({adCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"993c8QtKKlI4okVXKTGGoxS","adCtrl");var o=a(e("userData")),i=a(e("../other/cache"));function a(e){return e&&e.__esModule?e:{default:e}}e("config");var s=0,c=1;cc.Class({extends:cc.Component,properties:{},_getLaunchScene:function(){if("undefined"!=typeof tt){var e=tt.getLaunchOptionsSync();this.launchScene=e.scene}},_openShare:function(){"undefined"!=typeof tt&&(tt.showShareMenu({withShareTicket:!1}),tt.onShareAppMessage(function(){return{}}))},manualShare:function(e){if("undefined"!=typeof tt){this.rewardTag=e,this.rewardStartTime=(new Date).getTime();var t=this;tt.shareAppMessage({templateId:"e3a1217gif2b1b4jff",query:"",success:function(){console.log("\u5206\u4eab\u6210\u529f"),t.shareSucces()},fail:function(e){console.log("\u5206\u4eab\u5931\u8d25"),t.shareFail()}})}},_shareJudge:function(){var e=this;"undefined"!=typeof tt&&tt.onShow(function(t){console.log(t.scene,"\u8fd4\u56de\u524d\u53f0"),e.startTimeCount=0})},shareSucces:function(){this.rewardState=c},shareFail:function(){this.iniReward(),this.gameScene.createTipsUI("shareFail")},showVideoAd:function(e){var t=this;if("undefined"!=typeof tt){this.iniReward(),this.soundCtrl.pauseAllSound(),this.rewardTag=e;var n=null;n="ah105m5lkb518p8enp";var i=tt.createRewardedVideoAd({adUnitId:n});i.onError(function(e){e.errCode&&(t.gameScene.createTipsUI("videoWait"),t.soundCtrl.resumeAllSound())});i.onClose(function e(n){try{i.offClose(e)}catch(e){console.warn("--------------videoAd.offClose error:"),console.error(e)}n&&n.isEnded||void 0===n?(t.soundCtrl.resumeAllSound(),t.rewardState=c,o.default.giftCenter.todayVideoCount++):(t.soundCtrl.resumeAllSound(),t.rewardState=s,t.gameScene.createTipsUI("videoFail"),console.log("\u672a\u89c2\u770b\u5b8c\u6574\u89c6\u9891"))}),i.show().catch(function(){i.load().then(function(){return i.show()}).catch(function(e){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u663e\u793a\u5931\u8d25"),console.log(e,"\u9519\u8bef\u4fe1\u606f")})})}},_createBannerAd:function(){var e=this;if("undefined"!=typeof tt&&"Toutiao"===this.sysInfo.appName){this.bannerAd=tt.createBannerAd({adUnitId:"5pfm1bnl74p164j79j",adIntervals:30,style:{width:200,left:0,top:this.sysInfo.windowHeight-112.5}}),this.bannerAd.onLoad(function(e){console.log("banner \u52a0\u8f7d\u6210\u529f")}),this.bannerAd.onError(function(t){e.bannerAdState=s,console.log("banner \u52a0\u8f7d\u5931\u8d25",t)}),this.bannerAd.onResize(function(t){console.log("\u7f29\u653e\u540e\u7684bannerSize",t.width,NaN+t.height),e.bannerAd.style.left=(e.sysInfo.windowWidth-t.width)/2,e.bannerAd.style.top=e.sysInfo.windowHeight-t.height})}},showBannerAd:function(){var e=this;if("undefined"!=typeof tt&&this.bannerAdState!=s&&"Toutiao"===this.sysInfo.appName)if(0==this.showBannerAdTime)this.showBannerAdTime=(new Date).getTime(),this.bannerAd.show().then(function(){e.bannerType="adBanner",console.log("Banner\u5e7f\u544a\u663e\u793a\u6210\u529f")}).catch(function(t){e.bannerType="jumbBanner",console.log("Banner\u5e7f\u544a\u663e\u793a\u5931\u8d25",t),e.showJumbBanner()});else{var t=(new Date).getTime();(t-this.showBannerAdTime)/1e3<=300?(this.showBannerAdTime=t,this.bannerAd.show().then(function(){e.bannerType="adBanner",console.log("Banner\u5e7f\u544a\u663e\u793a\u6210\u529f")}).catch(function(t){e.bannerType="jumbBanner",console.log("Banner\u5e7f\u544a\u663e\u793a\u5931\u8d25",t),e.showJumbBanner()})):(this.bannerType="jumbBanner",this.showJumbBanner())}},hideBannerAd:function(){if("undefined"!=typeof tt&&this.bannerAdState!=s&&"Toutiao"===this.sysInfo.appName)switch(this.bannerType){case"adBanner":this.bannerAd.hide(),console.log("hideBannerAd");break;case"jumbBanner":this.hideJumbBanner()}},_createJumbBanner:function(){var e=this;"undefined"!=typeof tt&&"ios"!=this.sysInfo.platform&&"Toutiao"===this.sysInfo.appName&&(this.jumbBannerState=c,tt.setMoreGamesInfo({appLaunchOptions:[{appId:"tt007376ce9f59795b",query:"foo=bar&baz=qux",extraData:{}},{appId:"ttbfefc95220ca5b19",query:"foo=bar&baz=qux",extraData:{}}]}),this.jumbBanner=tt.createMoreGamesBanner({style:{width:150,height:40,left:0,top:0},appLaunchOptions:[{appId:"tt80a9f6141f83bb61",query:"foo=bar&baz=qux",extraData:{}},{appId:"tt007376ce9f59795b",query:"foo=bar&baz=qux",extraData:{}}]}),this.jumbBanner.onResize(function(t){e.jumbBanner.style.top=e.sysInfo.windowHeight-t.height,e.jumbBanner.style.left=(e.sysInfo.windowWidth-t.width)/2}),this.jumbBanner.onError(function(t){console.log(t,"jumbBanner \u521b\u5efa\u5931\u8d25"),e.jumbBannerState=s}),this.jumbBanner.onTap(function(){console.log("\u70b9\u51fb\u8df3\u8f6c\u6e38\u620f\u76d2\u5b50")}))},showJumbBanner:function(){"undefined"!=typeof tt&&"ios"!=this.sysInfo.platform&&this.jumbBannerState!=s&&"Toutiao"===this.sysInfo.appName&&(this.jumbBanner.show(),console.log("showJumbBannerAd"))},hideJumbBanner:function(){"undefined"!=typeof tt&&"ios"!=this.sysInfo.platform&&this.jumbBannerState!=s&&"Toutiao"===this.sysInfo.appName&&(this.jumbBanner.hide(),console.log("hideJumbBannerAd"))},tapeStart:function(){var e=this;"undefined"!=typeof tt&&(this.recorder||(this.recorder=tt.getGameRecorderManager(),this.recorder.onStart(function(t){console.log("\u5f55\u5c4f\u5f00\u59cb"),e.tapeStartTime=(new Date).getTime(),e._tapeTimeCtrl(),i.default.tapePath=null}),this.recorder.onStop(function(t){e.unschedule(e.tapeTimeSch),i.default.tapePath=t.videoPath,console.log(i.default.tapePath,"\u5f55\u5c4f\u7ed3\u675f")})),this.recorder.stop(),this.scheduleOnce(function(){e.tapeMaxTime=60,e.recorder.start({duration:e.tapeMaxTime})},1))},tapeStop:function(){"undefined"!=typeof tt&&(((new Date).getTime()-this.tapeStartTime)/1e3<=3?(console.log("\u5f55\u5c4f\u65f6\u95f4\u5c0f\u4e8e3\u79d2"),this.gameScene.createTipsUI("tapeNoTime")):this.recorder.stop())},_tapeTimeCtrl:function(){this.tapeTimeSch&&this.unschedule(this.tapeTimeSch),this.tapeTimeSch=function(){((new Date).getTime()-this.tapeStartTime)/1e3>=this.tapeMaxTime&&(this.unschedule(this.tapeTimeSch),this.tapeStop(),console.log("\u8fbe\u5230\u6700\u5927\u5f55\u5c4f\u65f6\u957f"))},this.schedule(this.tapeTimeSch,1)},tapeShare:function(){var e=this;if("undefined"!=typeof tt&&null!=i.default.tapePath){var t=[],n=t[Math.floor(Math.random()*t.length)];tt.shareAppMessage({channel:"video",title:"\u6bd4\u7279\u5c0f\u9c7c",desc:n,extra:{videoPath:i.default.tapePath,videoTopics:["\u6bd4\u7279\u5c0f\u9c7c","\u5c0f\u6e38\u620f"]},success:function(){console.log("\u5f55\u5c4f\u5206\u4eab\u6210\u529f"),e.tapeShareSucces()},fail:function(){console.log("\u5f55\u5c4f\u5206\u4eab\u5931\u8d25",i.default.tapePath),e.tapeShareFail()}})}},iniReward:function(){this.rewardTag=null,this.rewardState=null,this.rewardStartTime=null},onLoad:function(){cc.game.addPersistRootNode(this.node),"undefined"!=typeof tt&&(this.sysInfo=tt.getSystemInfoSync()),this.gameScene=cc.find("ctrlNode").getComponent("gameScene"),this.soundCtrl=cc.find("ctrlNode").getComponent("soundCtrl"),this.showBannerAdTime=0,this._getLaunchScene(),this._openShare(),this.iniReward(),this._createJumbBanner(),this._createBannerAd(),this.startTimeCount=0},update:function(e){this.startTimeCount+=e}}),cc._RF.pop()},{"../other/cache":"cache",config:"config",userData:"userData"}],animEffect:[function(e,t,n){"use strict";cc._RF.push(t,"67210L9IZFDDL/pb1srXg15","animEffect"),cc.Class({extends:cc.Component,properties:{},iniNode:function(e,t){var n=this;this.gameRules=cc.find("Canvas").getComponent("gameRules"),this.createScene=cc.find("Canvas").getComponent("createScene"),this.adCtrl=cc.find("ctrlNode").getComponent("adCtrl"),this.soundCtrl=cc.find("ctrlNode").getComponent("soundCtrl"),this.node.setPosition(e),this.node.scale=2*t;var o=this.node.getComponent(cc.Animation);o.resume(),o.once("finished",function(){n.createScene.onNodeKill(n.node)})},start:function(){}}),cc._RF.pop()},{}],bgGoldGroup:[function(e,t,n){"use strict";cc._RF.push(t,"5f7c2Svi4pEEZmX9gZ239bP","bgGoldGroup");var o=e("config");cc.Class({extends:cc.Component,properties:{},iniNode:function(){this.setPos(),this.iniState=!0;for(var e=0;e<this.node.children.length;e++)this.node.children[e].active=!0},onChildDestroy:function(){for(var e=0,t=0;t<this.node.children.length;t++)0==this.node.children[t].active&&e++;e>=4&&this.node.destroy()},cameraOut:function(e){if(this.cameraTestTime+=e,!(this.cameraTestTime<=o.cameraTestTime)){this.cameraTestTime=0;var t=this.node.parent.convertToWorldSpaceAR(this.node.position),n=this.mainCamera.node.convertToNodeSpaceAR(t);Math.abs(n.x)>=750/this.mainCamera.zoomRatio||Math.abs(n.y)>=1334/this.mainCamera.zoomRatio?this.node.opacity=0:this.node.opacity=255}},getCirclePoints:function(e,t,n,o){for(var i=[],a=Math.PI/180*Math.round(360/n),s=0;s<n;s++){var c=t.x+e*Math.sin(a*s),r=t.y+e*Math.cos(a*s);i.unshift(cc.v3(c+Math.random()*o,r+Math.random()*o,0))}return i},setPos:function(){var e=3e3/this.mainCamera.zoomRatio,t=500/this.mainCamera.zoomRatio,n=this.getCirclePoints(e,this.playerNode.position,8,t);this.node.position=n[Math.floor(Math.random()*n.length)]},onLoad:function(){this.createScene=cc.find("Canvas").getComponent("createScene"),this.playerNode=cc.find("Canvas/player"),this.mainCamera=cc.find("Canvas/Main Camera").getComponent(cc.Camera),this.cameraTestTime=0},start:function(){},update:function(e){},lateUpdate:function(e){this.iniState&&this.cameraOut(e)}}),cc._RF.pop()},{config:"config"}],bgGoldOne:[function(e,t,n){"use strict";cc._RF.push(t,"b5b36K5MaRNxrDoQSEh6Ht9","bgGoldOne"),cc.Class({extends:cc.Component,properties:{},onCollisionEnter:function(e,t){this.gameRules.addGold(),this.node.destroy()},iniNode:function(e){this.node.setPosition(e)},onLoad:function(){this.gameRules=cc.find("Canvas").getComponent("gameRules")},start:function(){},update:function(e){}}),cc._RF.pop()},{}],bgGold:[function(e,t,n){"use strict";cc._RF.push(t,"6ed22wWLS5HZ6/JEJ6Xt/PB","bgGold"),cc.Class({extends:cc.Component,properties:{},onCollisionEnter:function(e,t){this.gameRules.addGold(),this.node.active=!1,this.node.parent.getComponent("bgGoldGroup").onChildDestroy()},iniNode:function(e){this.node.setPosition(e)},onLoad:function(){this.gameRules=cc.find("Canvas").getComponent("gameRules")},start:function(){},update:function(e){}}),cc._RF.pop()},{}],bgShadow:[function(e,t,n){"use strict";cc._RF.push(t,"0f8f4VDPSNH5oPPiKrNHam5","bgShadow");var o=e("config");cc.Class({extends:cc.Component,properties:{},setIcon:function(){this.node.angle=Math.floor(360*Math.random()),this.node.scale=Math.floor(8*Math.random()+.5),this.opacityNum=Math.floor(150*Math.random())+10},iniNode:function(){this.setIcon(),this.setPos(),this.getRoamingPos(),this.iniState=!0},aiMove:function(e){if(this.node.position.fuzzyEquals(this.roamingPos,50))this.getRoamingPos();else{var t=this.roamingPos.sub(this.node.position);this.roamingPos.x>=this.node.position.x?this.node.scaleX<0&&(this.node.scaleX=-this.node.scaleX):this.node.scaleX>0&&(this.node.scaleX=-this.node.scaleX),this.node.position=this.node.position.add(t.normalize().mul(this.moveSpeed*e)),this.playerNode.position.sub(this.node.position).mag()>5e3/this.mainCamera.zoomRatio&&this.createScene.onNodeKill(this.node)}},cameraOut:function(e){if(this.cameraTestTime+=e,!(this.cameraTestTime<=o.cameraTestTime)){this.cameraTestTime=0;var t=this.node.parent.convertToWorldSpaceAR(this.node.position),n=this.mainCamera.node.convertToNodeSpaceAR(t);Math.abs(n.x)>=1500/this.mainCamera.zoomRatio||Math.abs(n.y)>=2668/this.mainCamera.zoomRatio?this.node.opacity=0:this.node.opacity=this.opacityNum}},getCirclePoints:function(e,t,n,o){for(var i=[],a=Math.PI/180*Math.round(360/n),s=0;s<n;s++){var c=t.x+e*Math.sin(a*s),r=t.y+e*Math.cos(a*s);i.unshift(cc.v3(c+Math.random()*o,r+Math.random()*o,0))}return i},setPos:function(){var e=3e3/this.mainCamera.zoomRatio,t=500/this.mainCamera.zoomRatio,n=this.getCirclePoints(e,this.playerNode.position,8,t);this.node.position=n[Math.floor(Math.random()*n.length)]},getRoamingPos:function(){this.startPos=this.node.position;var e=Math.random()>.5?1:-1,t=500*Math.random()+this.node.position.x,n=500*Math.random()+this.node.position.y;this.roamingPos=cc.v3(t/this.mainCamera.zoomRatio*e,n/this.mainCamera.zoomRatio*e)},onLoad:function(){this.createScene=cc.find("Canvas").getComponent("createScene"),this.playerNode=cc.find("Canvas/player"),this.mainCamera=cc.find("Canvas/Main Camera").getComponent(cc.Camera),this.cameraTestTime=0,this.moveSpeed=o.shadowSpeed},start:function(){},update:function(e){this.aiMove(e)},lateUpdate:function(e){this.iniState&&this.cameraOut(e)}}),cc._RF.pop()},{config:"config"}],bubbleEffect:[function(e,t,n){"use strict";cc._RF.push(t,"69170VbQWxHMqxborr04r6z","bubbleEffect");var o=e("config");cc.Class({extends:cc.Component,properties:{},iniNode:function(){this.node.angle=Math.floor(360*Math.random()),this.node.scale=Math.floor(3*Math.random()+.1),this.node.opacity=Math.floor(100*Math.random())+155,this.opacityNum=this.node.opacity,this.setPos(),this.iniState=!0},aiMove:function(e){if(this.node.position.fuzzyEquals(this.roamingPos,50))this.createScene.onNodeKill(this.node);else{var t=this.roamingPos.sub(this.node.position);this.roamingPos.x>=this.node.position.x?this.node.scaleX<0&&(this.node.scaleX=-this.node.scaleX):this.node.scaleX>0&&(this.node.scaleX=-this.node.scaleX),this.node.position=this.node.position.add(t.normalize().mul(this.moveSpeed*e)),this.playerNode.position.sub(this.node.position).mag()>3e3/this.mainCamera.zoomRatio&&this.createScene.onNodeKill(this.node)}},getCirclePoints:function(e,t,n,o){for(var i=[],a=Math.PI/180*Math.round(360/n),s=0;s<n;s++){var c=t.x+e*Math.sin(a*s),r=t.y+e*Math.cos(a*s);i.unshift(cc.v3(c+Math.random()*o,r+Math.random()*o,0))}return i},cameraOut:function(e){if(this.cameraTestTime+=e,!(this.cameraTestTime<=o.cameraTestTime)){this.cameraTestTime=0;var t=this.node.parent.convertToWorldSpaceAR(this.node.position),n=this.mainCamera.node.convertToNodeSpaceAR(t);Math.abs(n.x)>=750/this.mainCamera.zoomRatio||Math.abs(n.y)>=1334/this.mainCamera.zoomRatio?this.node.opacity=0:this.node.opacity=this.opacityNum}},setPos:function(){var e=this.playerNode.position.x,t=this.playerNode.position.y;this.node.x=e,this.node.y=t-1500;var n=Math.random()>.5?1:-1,o=Math.random()*this.playerNode.position.x*n;this.roamingPos=cc.v3(o,this.playerNode.position.y+1500)},onLoad:function(){this.createScene=cc.find("Canvas").getComponent("createScene"),this.playerNode=cc.find("Canvas/player"),this.mainCamera=cc.find("Canvas/Main Camera").getComponent(cc.Camera),this.cameraTestTime=0,this.moveSpeed=Math.random()*o.bubbleEffectSpeed+100},start:function(){},update:function(e){this.aiMove(e)},lateUpdate:function(e){this.iniState&&this.cameraOut(e)}}),cc._RF.pop()},{config:"config"}],bubbleGoldEffect:[function(e,t,n){"use strict";cc._RF.push(t,"a24311ijdFJm6UHXFwyOkxP","bubbleGoldEffect"),cc.Class({extends:cc.Component,properties:{label:cc.Label},iniNode:function(e,t){this.oceanScene=cc.find("Canvas").getComponent("oceanScene");var n=e.parent.convertToWorldSpaceAR(e.position),o=this.node.parent.convertToNodeSpaceAR(n);this.label.string="+"+t,this.node.setPosition(o),this.label.node.opacity=0,this.label.node.scale=0,this.label.node.y=-50,this.iniAnim()},iniAnim:function(){var e=this;cc.tween(this.label.node).to(.2,{opacity:255,y:0,scale:1},{easing:"sineOut"}).to(.6,{opacity:0,y:200,scale:.5},{easing:"sineIn"}).call(function(){e.oceanScene.onNodeKill(e.node)}).start()},start:function(){}}),cc._RF.pop()},{}],buttonEvents:[function(e,t,n){"use strict";cc._RF.push(t,"9d336vQNt1NMbuJ7P5aaPNv","buttonEvents");var o=e("userData"),i=0,a=-1,s=-2,c=1;cc.Class({extends:cc.Component,properties:{},onGameBtnClick:function(){this.soundCtrl.playSoundEffect("btnClick"),this.setBtnNormal(),this.startBtnNode.state==i&&(cc.tween(this.mainCamera).to(.3,{x:0},{easing:"sineOut"}).start(),this.setBtnClicked(this.startBtnNode),this.setBtnUnclick(this.startBtnNode))},onFishBtnClick:function(){(this.soundCtrl.playSoundEffect("btnClick"),this.setBtnNormal(),this.fishBtnNode.state==i)&&(cc.tween(this.mainCamera).to(.3,{x:-750},{easing:"sineOut"}).start(),cc.find("Canvas/UINodeGroup/fishUI").getComponent("fishUI").iniNode(),0==o.noviceGuide.fishUI&&this.gameScene.createNoviceGuideUI("fishUI"),this.setBtnClicked(this.fishBtnNode),this.setBtnUnclick(this.fishBtnNode))},onMoneyBtnClick:function(){(this.soundCtrl.playSoundEffect("btnClick"),this.setBtnNormal(),this.moneyBtnNode.state==i)&&(cc.tween(this.mainCamera).to(.3,{x:1500},{easing:"sineOut"}).start(),cc.find("Canvas/UINodeGroup/moneyUI").getComponent("moneyUI").iniNode(),0==o.noviceGuide.moneyUI&&this.gameScene.createNoviceGuideUI("moneyUI"),this.setBtnClicked(this.moneyBtnNode),this.setBtnUnclick(this.moneyBtnNode))},onEggBtnClick:function(){(this.soundCtrl.playSoundEffect("btnClick"),this.setBtnNormal(),this.eggBtnNode.state==i)&&(cc.tween(this.mainCamera).to(.3,{x:750},{easing:"sineOut"}).start(),cc.find("Canvas/UINodeGroup/eggUI").getComponent("eggUI").iniNode(),0==o.noviceGuide.eggUI&&this.gameScene.createNoviceGuideUI("eggUI"),this.setBtnClicked(this.eggBtnNode),this.setBtnUnclick(this.eggBtnNode))},onShopBtnClick:function(){(this.soundCtrl.playSoundEffect("btnClick"),this.setBtnNormal(),this.shopBtnNode.state==i)&&(cc.tween(this.mainCamera).to(.3,{x:-1500},{easing:"sineOut"}).start(),cc.find("Canvas/UINodeGroup/shopUI").getComponent("shopUI").iniNode(),0==o.noviceGuide.shopUI&&this.gameScene.createNoviceGuideUI("shopUI"),this.setBtnClicked(this.shopBtnNode),this.setBtnUnclick(this.shopBtnNode))},onOptionBtnClick:function(){this.soundCtrl.playSoundEffect("btnClick"),this.gameScene.createOptionUI()},onGiftCenterBtnClick:function(){this.soundCtrl.playSoundEffect("btnClick"),this.gameScene.createGiftCenterUI()},onLotteryBtnClick:function(){this.soundCtrl.playSoundEffect("btnClick"),this.gameScene.createLotteryUI()},onSignInBtnClick:function(){this.soundCtrl.playSoundEffect("btnClick"),this.gameScene.createSigninUI()},setBtnClicked:function(e){e.state=a,cc.tween(e).to(.1,{scale:.8}).to(.1,{y:e.y+20}).to(.1,{scale:1}).start()},setBtnUnclick:function(e){e.state=s,e.getComponent(cc.Button).interactable=!1},setBtnNormal:function(){for(var e=0;e<this.btnArr.length;e++)this.btnArr[e].state==s&&(this.btnArr[e].state=i,this.btnArr[e].getComponent(cc.Button).interactable=!0,cc.tween(this.btnArr[e]).to(.1,{y:this.btnArr[e].y-20}).start())},iniNode:function(){this.mainCamera=cc.find("Canvas/Main Camera"),this.homeRules=cc.find("Canvas").getComponent("homeRules"),this.gameScene=cc.find("ctrlNode").getComponent("gameScene"),this.soundCtrl=cc.find("ctrlNode").getComponent("soundCtrl"),this.adCtrl=cc.find("ctrlNode").getComponent("adCtrl"),this.fishBtnNode=cc.find("Canvas/bottom/fish_button"),this.startBtnNode=cc.find("Canvas/bottom/start_button"),this.eggBtnNode=cc.find("Canvas/bottom/egg_button"),this.moneyBtnNode=cc.find("Canvas/bottom/money_button"),this.shopBtnNode=cc.find("Canvas/bottom/shop_button"),this.btnArr=[this.fishBtnNode,this.startBtnNode,this.eggBtnNode,this.moneyBtnNode,this.shopBtnNode];for(var e=0;e<this.btnArr.length;e++)this.btnArr[e].state=i,this.btnArr[e].createState=c},onLoad:function(){},start:function(){}}),cc._RF.pop()},{userData:"userData"}],cache:[function(e,t,n){"use strict";cc._RF.push(t,"7b625hjEn5G7ZD4GVpxDmc9","cache"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default={playerFish:null,playerFishCopy:null,gunFish:null,gunFishTips:null,backHomeType:null,gameOverEgg:null,gameOverUI:null,goldIconNode:null,optionNode:null,bubbleGoldNode:null,ocRewardGold:0,centerIndex:0,tapePath:null},t.exports=n.default,cc._RF.pop()},{}],commonUI:[function(e,t,n){"use strict";cc._RF.push(t,"3c4d8zufupFrKfnrL/vpmv1","commonUI");(function(e){e&&e.__esModule})(e("cache"));cc.Class({extends:cc.Component,properties:{common_ui_node:cc.Node,bg_node:cc.Node,center_node:cc.Node,title_label_node:cc.Node,tips_label_node:cc.Node,icon_arry:[cc.SpriteFrame],icon_node:cc.Node,doble_select_node:cc.Node,blue_button_node:cc.Node},iniAnim:function(){cc.tween(this.bg_node).to(.2,{opacity:200}).start(),cc.tween(this.center_node).to(.2,{scale:1},{easing:"backOut"}).start()},iniNode:function(e){this.gameScene=cc.find("ctrlNode").getComponent("gameScene"),this.soundCtrl=cc.find("ctrlNode").getComponent("soundCtrl"),this.homeRules=cc.find("Canvas").getComponent("homeRules"),this.adCtrl=cc.find("ctrlNode").getComponent("adCtrl"),this.node.setPosition(cc.v2(0,0)),this.bg_node.opacity=0,this.center_node.scale=0,this.doble_select_node.active=!1,this.blue_button_node.active=!0,this.iniAnim(),this.iniData(e),this.adCtrl.showBannerAd()},iniData:function(e){var t=this.title_label_node.getComponent(cc.Label),n=this.tips_label_node.getComponent(cc.Label),o=this.icon_node.getComponent(cc.Sprite),i=0;switch(e){case"skill1":i=0,t.string="\u901f\u5ea6\u63d0\u5347",n.string="\u6e38\u52a8\u901f\u5ea6\u63d0\u53475%",o.spriteFrame=this.icon_arry[i];break;case"skill2":i=1,t.string="\u5065\u5eb7\u63d0\u5347",n.string="\u9965\u997f\u901f\u5ea6\u4e0b\u964d20%",o.spriteFrame=this.icon_arry[i];break;case"skill3":i=2,t.string="\u6536\u76ca\u63d0\u5347",n.string="\u6e38\u620f\u5185\u5f97\u5206\u7ffb\u500d",o.spriteFrame=this.icon_arry[i];break;case"crystla":i=3,t.string="\u661f\u8fb0\u6c34\u6676",n.string="\u89c2\u770b\u89c6\u9891\u83b7\u5f97\uff0c\u7528\u4e8e\u5151\u6362\u5546\u54c1",o.spriteFrame=this.icon_arry[i];break;case"gold":i=4,t.string="\u4e00\u4e9b\u91d1\u5e01",n.string="\u968f\u673a\u83b7\u5f97\u5927\u91cf\u91d1\u5e01",o.spriteFrame=this.icon_arry[i];break;case"crab":i=4,this.setDoubleJudge(),t.string="\u5206\u4eab\u6709\u793c",n.string="\u7acb\u5373\u83b7\u5f97\u91d1\u5e01x15",o.spriteFrame=this.icon_arry[i];break;case"egg":i=5,t.string="\u7acb\u5373\u5b75\u5316",n.string="\u7acb\u5373\u83b7\u5f97\u4e00\u4e2a\u65b0\u7684\u5c0f\u9c7c",o.spriteFrame=this.icon_arry[i];break;case"buff":i=6,t.string="\u795e\u5723\u795d\u798f",n.string="\u6bcf\u70b9\u4eae\u4e00\u4e2a\u795d\u798f\uff0c\u9965\u997f\u503c\u8870\u51cf\u901f\u5ea6\u964d\u4f4e5%",o.spriteFrame=this.icon_arry[i];break;default:return void cc.log("\u65e0\u6548\u7684\u7269\u54c1\u540d\u79f0")}},exit_button_click:function(){var e=this;this.soundCtrl.playSoundEffect("exit"),this.adCtrl.hideBannerAd(),cc.tween(this.bg_node).to(.1,{opacity:0}).start(),cc.tween(this.center_node).to(.1,{scale:0}).call(function(){e.gameScene.onNodeKill(e.node)}).start()},yellow_button_click:function(){this.adCtrl.manualShare("crab"),this.shareJudge()},shareJudge:function(){this.schedule(function e(){1==this.adCtrl.rewardState&&"crab"==this.adCtrl.rewardTag?(this.unschedule(e),this.adCtrl.iniReward(),this.gameScene.createGetRewardUI("smallGold",15),this.homeRules.updateGold(15),this.exit_button_click()):0==this.adCtrl.rewardState&&null==this.adCtrl.rewardTag&&this.unschedule(e)},.2)},setDoubleJudge:function(){this.doble_select_node.active=!0,this.blue_button_node.active=!1},onLoad:function(){},start:function(){}}),cc._RF.pop()},{cache:"cache"}],config:[function(e,t,n){"use strict";cc._RF.push(t,"91521rezJVHVIeUZUTS80W6","config"),t.exports={clickFishGetGoldTime:5,playerSpeed:[800,850,900,950,1e3,1050,1100],playerFishScale:[.2,.3,.5,.4,.5,.6,.6],playerHpDecayNum:[.012,.02,.15,.35,1.2,3],playerHpMax:[30,60,120,240,500,800],getFish:[0,100,300,500,1e3,2e3,3e3,4e3,5e3,6e3,3e4],enemyCameraScale:[1,.9,.7,.4,.3,.2,.2],bubbleEffectSpeed:800,shadowSpeed:50,bgGold:2,gunFishTime:[18,16,10,8,6,4,4,4],cameraTestTime:.2,growGold:1,treaSureBoxCapacity:[50,100,200,500,800],treaSureBoxCost:[200,1e3,3e3,5e3],fishUpNeed:[200,1e3,3e3],fishUpOnceNeed:[20,50,200],eggNeedTime:10,lotteryReward:{freeCount:1,allCount:10,smallGold:20,bigGold:100,smallScore:20,bigScore:100},animState:{isPlaying:1,finished:0},sevenDaySignIn:{0:{name:"\u7b2c\u4e00\u5929",type:"crystla",count:5},1:{name:"\u7b2c\u4e8c\u5929",type:"smallGold",count:1e3},2:{name:"\u7b2c\u4e09\u5929",type:"crystla",count:10},3:{name:"\u7b2c\u56db\u5929",type:"smallGold",count:3e3},4:{name:"\u7b2c\u4e94\u5929",type:"crystla",count:15},5:{name:"\u7b2c\u516d\u5929",type:"bigGold",count:5e3},6:{name:"\u7b2c\u4e03\u5929",type:"crystla",count:20}},moreSkill:{skill0:{cost:50},skill1:{cost:50},skill2:{cost:80}},startTimeCount:90,showInterAdTime:90,showBoxAdTime:60,clickBannerTime:45,addColorSign:50,subscription:150,todayVideo:150,todayShare:75,shareTitle:["\u6a2a\u626b\u9c7c\u7fa4\uff0c\u70b9\u6211\u6765\u8bd5\u8bd5\uff01","\u6211\u662f\u6d77\u6d0b\u91cc\u6700\u9753\u7684\u4ed4\uff0c\u670d\u6c14\u5417\uff1f","\u7a7a\u95f4\u91cc\u90fd\u73a9\u75af\u4e86\u7684\u5927\u9c7c\u5403\u5c0f\u9c7c\uff0c\u4f60\u4e0d\u6765\u8bd5\u8bd5\u5417\uff1f","\u9707\u60ca\uff01\u6d77\u6d0b\u91cc\u4e5f\u6709\u4e2d\u56fd\u9f99\uff1f\u5feb\u6765\u77a7\u77a7\u600e\u4e48\u56de\u4e8b"],tapeDesc:["\u771f\u7684\u6709\u4e2d\u56fd\u9f99\u53ef\u4ee5\u89e3\u9501\uff0c\u6211\u6709\u89c6\u9891\u4e3a\u8bc1","\u50cf\u7d20\u9c7c\u4e2d\u7684\u9690\u85cf\u6a21\u5f0f\u88ab\u6211\u53d1\u73b0\u4e86\uff0c\u5feb\u6765\u770b\u770b","\u6700\u7b80\u5355\u7684\u529e\u6cd5\u83b7\u5f97\u6700\u5389\u5bb3\u7684\u76ae\u80a4","\u5f53\u4f60\u5728\u6d77\u6d0b\u91cc\u8fd8\u662f\u4e00\u6761\u5c0f\u9c7c\u65f6\uff0c\u4f1a\u53d1\u751f\u4ec0\u4e48\uff1f","\u5feb\u70b9\u8fdb\u6765\u770b\u770b\u8d85\u597d\u73a9\u7684\u7684\u5927\u9c7c\u5403\u5c0f\u9c7c\u6e38\u620f","\u5929\u5450\uff01\u5c45\u7136\u8fd8\u80fd\u6709\u8fd9\u4e48\u597d\u73a9\u7684\u5927\u9c7c\u5403\u5c0f\u9c7c\u6e38\u620f","\u50cf\u7d20\u9c7c\u91cc\u4e0d\u4e3a\u4eba\u77e5\u7684\u79d8\u5bc6","\u6296\u97f3\u91cc\u90fd\u5728\u73a9\u7684\u70ed\u95e8\u5c0f\u6e38\u620f\u5feb\u6765\u770b\u770b\u5427","\u5927\u6d77\u91cc\u597d\u5371\u9669\uff0c\u6211\u5dee\u70b9\u5c31\u80fd\u6253\u7834\u8bb0\u5f55\u4e86","\u6211\u627e\u5230\u4e86\u4e00\u4e2a\u4f60\u60f3\u73a9\u5374\u4e0d\u77e5\u9053\u540d\u5b57\u7684\u597d\u73a9\u6e38\u620f","\u5077\u5077\u73a9\u6e38\u620f\u5dee\u70b9\u88ab\u8001\u5a46\u53d1\u73b0\uff0c\u597d\u9669\uff0c\u8fd8\u597d\u6211\u53cd\u5e94\u5feb\u8bf4\u662f\u770b\u7684\u89c6\u9891","\u6311\u6218\u5168\u7f51\uff0c\u4f60\u4eec\u8c01\u80fd\u89e3\u9501\u7684\u76ae\u80a4\u6bd4\u6211\u7684\u591a\uff01","\u8fd9\u4e2a\u6e38\u620f\u771f\u7684\u597d\u597d\u73a9\uff0c\u5feb\u6765\u8bd5\u73a9\u5427","\u4f60\u77e5\u9053\u6d77\u6d0b\u91cc\u6709\u591a\u5c11\u79cd\u9c7c\u5417\uff1f","\u706b\u7206\u4e0a\u7ebf\u7684\u5927\u9c7c\u5403\u5c0f\u9c7c\u6e38\u620f\uff0c\u5168\u65b0\u6539\u7248\u4e86\uff01\uff01"],fish:{0:{name:"\u91d1\u9c7c\u70b9\u70b9",introduce:"\u6211\u662f\u4e00\u53ea\u6700\u666e\u901a\u7684\u5c0f\u9c7c",video:0,crystlaNeed:0},1:{name:"\u53cc\u9762\u9f9f\u9f9f",introduce:"\u6211\u53ef\u6ca1\u8bf4\u6211\u662f\u9c7c\uff01",video:0,crystlaNeed:0},2:{name:"\u975e\u6d32\u738b\u5b50",introduce:"\u770b\u4ec0\u4e48\uff01\u8fd9\u53ef\u662f\u6700\u5065\u5eb7\u7684\u80a4\u8272",video:0,crystlaNeed:40},3:{name:"\u96f7\u8fbe",introduce:"\u65e0\u575a\u4e0d\u6467\uff01",video:1,crystlaNeed:60},4:{name:"\u4e09\u89d2\u9cb7",introduce:"\u6211\u662f\u6700\u7a33\u5b9a\u7684\u5c0f\u9c7c~",video:0,crystlaNeed:40},5:{name:"\u5927\u9ec4\u4e2b",introduce:"\u6211\u4eec\u90fd\u7231\u5927\u9ec4\u4e2b~",video:1,crystlaNeed:40},6:{name:"\u706b\u70c8\u9e1f",introduce:"\u8fd9\u6b21\u662f\u5728\u6d77\u6d0b\u91cc\u98de\u54e6~",video:0,crystlaNeed:0},7:{name:"\u73ca\u745a\u599e\u599e",introduce:"\u65e0\u804a\u7684\u65f6\u5019\u591a\u60f3\u60f3\u6211~",video:1,crystlaNeed:50},8:{name:"\u4e2d\u56fd\u9f99",introduce:"\u6765\uff0c\u5de6\u8fb9\u8ddf\u6211\u4e00\u8d77\u753b\u4e2a\u9f99\uff01",video:1,crystlaNeed:80}},enemyDetail:{enemyLv1:{level:1,moveSpeed:150,addHp:2,addScore:1,runAwaySpeed:300,thinkTime:1,vision:300},enemyLv2:{level:2,moveSpeed:130,addHp:6,addScore:2,runAwaySpeed:300,thinkTime:2,vision:600},enemyLv3:{level:3,moveSpeed:150,addHp:20,addScore:5,runAwaySpeed:300,thinkTime:3,vision:500},enemyLv4:{level:4,moveSpeed:100,addHp:45,addScore:10,runAwaySpeed:300,thinkTime:4,vision:450},enemyLv5:{level:5,moveSpeed:250,addHp:80,addScore:30,runAwaySpeed:300,thinkTime:1,vision:800},enemyLv6:{level:6,moveSpeed:150,addHp:100,addScore:100,runAwaySpeed:300,thinkTime:6,vision:500},enemyLv7:{level:7,moveSpeed:100,addHp:5,addScore:1e3,runAwaySpeed:300,thinkTime:6,vision:150},goldFish:{level:1,moveSpeed:600,addHp:0,addScore:0,addGold:20},gunFish:{level:1,moveSpeed:2800,addHp:0,addScore:0,addGold:0}}},cc._RF.pop()},{}],crab:[function(e,t,n){"use strict";cc._RF.push(t,"b65c4LCeJ5ISIbeQcyTWp1n","crab"),cc.Class({extends:cc.Component,properties:{},onCrabClick:function(){this.soundCtrl.playSoundEffect("btnClick"),this.gameScene.createCommonUI("crab")},onLoad:function(){this.homeRules=cc.find("Canvas").getComponent("homeRules"),this.gameScene=cc.find("ctrlNode").getComponent("gameScene"),this.soundCtrl=cc.find("ctrlNode").getComponent("soundCtrl")},start:function(){}}),cc._RF.pop()},{}],createScene:[function(e,t,n){"use strict";cc._RF.push(t,"9c3b90v3wlMVJnk3kp0lR+z","createScene");var o=e("config");cc.Class({extends:cc.Component,properties:{},newEnemyLv1NodePool:function(){var e=this;this.newEnemyLv1NodePool=new cc.NodePool;for(var t=["prefabs/enemy/enemy1-1","prefabs/enemy/enemy1-2","prefabs/enemy/enemy1-3"],n=function(n){var o=t[Math.floor(Math.random()*t.length)],i=null;cc.loader.loadRes(o,cc.Prefab,function(t,n){i=cc.instantiate(n),e.newEnemyLv1NodePool.put(i)})},o=0;o<10;o++)n()},newEnemyLv2NodePool:function(){var e=this;this.newEnemyLv2NodePool=new cc.NodePool;for(var t=["prefabs/enemy/enemy2-1","prefabs/enemy/enemy2-2","prefabs/enemy/enemy2-3","prefabs/enemy/enemy2-4","prefabs/enemy/enemy2-5"],n=function(n){var o=t[Math.floor(Math.random()*t.length)],i=null;cc.loader.loadRes(o,cc.Prefab,function(t,n){i=cc.instantiate(n),e.newEnemyLv2NodePool.put(i)})},o=0;o<10;o++)n()},newEnemyLv3NodePool:function(){var e=this;this.newEnemyLv3NodePool=new cc.NodePool;for(var t=["prefabs/enemy/enemy3-1","prefabs/enemy/enemy3-2","prefabs/enemy/enemy3-3","prefabs/enemy/enemy3-4","prefabs/enemy/enemy3-5","prefabs/enemy/enemy3-6","prefabs/enemy/enemy3-7"],n=function(n){var o=t[Math.floor(Math.random()*t.length)],i=null;cc.loader.loadRes(o,cc.Prefab,function(t,n){i=cc.instantiate(n),e.newEnemyLv3NodePool.put(i)})},o=0;o<10;o++)n()},newEnemyLv4NodePool:function(){var e=this;this.newEnemyLv4NodePool=new cc.NodePool;for(var t=["prefabs/enemy/enemy4-1","prefabs/enemy/enemy4-2","prefabs/enemy/enemy4-3"],n=function(n){var o=t[Math.floor(Math.random()*t.length)],i=null;cc.loader.loadRes(o,cc.Prefab,function(t,n){i=cc.instantiate(n),e.newEnemyLv4NodePool.put(i)})},o=0;o<5;o++)n()},newEnemyLv5NodePool:function(){var e=this;this.newEnemyLv5NodePool=new cc.NodePool;for(var t=["prefabs/enemy/enemy5-1","prefabs/enemy/enemy5-2","prefabs/enemy/enemy5-3"],n=function(n){var o=t[Math.floor(Math.random()*t.length)],i=null;cc.loader.loadRes(o,cc.Prefab,function(t,n){i=cc.instantiate(n),e.newEnemyLv5NodePool.put(i)})},o=0;o<5;o++)n()},newEnemyLv6NodePool:function(){var e=this;this.newEnemyLv6NodePool=new cc.NodePool;for(var t=["prefabs/enemy/enemy6-1","prefabs/enemy/enemy6-2","prefabs/enemy/enemy6-3","prefabs/enemy/enemy6-4"],n=function(n){var o=t[Math.floor(Math.random()*t.length)],i=null;cc.loader.loadRes(o,cc.Prefab,function(t,n){i=cc.instantiate(n),e.newEnemyLv6NodePool.put(i)})},o=0;o<5;o++)n()},newEnemyLv7NodePool:function(){var e=this;this.newEnemyLv7NodePool=new cc.NodePool;for(var t=["prefabs/enemy/enemy7-1","prefabs/enemy/enemy7-2","prefabs/enemy/enemy7-3"],n=function(n){var o=t[Math.floor(Math.random()*t.length)],i=null;cc.loader.loadRes(o,cc.Prefab,function(t,n){i=cc.instantiate(n),e.newEnemyLv7NodePool.put(i)})},o=0;o<3;o++)n()},newEnemyRewardNodePool:function(){var e=this;this.newEnemyRewardNodePool=new cc.NodePool;var t="prefabs/enemy/enemyRewrd",n=t[Math.floor(Math.random()*t.length)],o=null;cc.loader.loadRes(n,cc.Prefab,function(t,n){o=cc.instantiate(n),e.newEnemyRewardNodePool.put(o)})},newEnemyGunFishNodePool:function(){var e=this;this.newEnemyGunFishNodePool=new cc.NodePool;var t="prefabs/enemy/enemyGunFish",n=t[Math.floor(Math.random()*t.length)],o=null;cc.loader.loadRes(n,cc.Prefab,function(t,n){o=cc.instantiate(n),e.newEnemyGunFishNodePool.put(o)})},newKillEffectNodePool:function(){var e=this;this.newKillEffectNodePool=new cc.NodePool;var t=null;cc.loader.loadRes("prefabs/effect/killEffect",cc.Prefab,function(n,o){t=cc.instantiate(o),e.newKillEffectNodePool.put(t)})},newScoreEffectNodePool:function(){var e=this;this.newScoreEffectNodePool=new cc.NodePool;var t=null;cc.loader.loadRes("prefabs/effect/scoreEffect",cc.Prefab,function(n,o){t=cc.instantiate(o),e.newScoreEffectNodePool.put(t)})},newBubbleEffectNodePool:function(){var e=this;this.newBubbleEffectNodePool=new cc.NodePool;var t=null;cc.loader.loadRes("prefabs/effect/bubbleEffect",cc.Prefab,function(n,o){t=cc.instantiate(o),e.newBubbleEffectNodePool.put(t)})},newBgShadowNodePool:function(){var e=this;this.newBgShadowNodePool=new cc.NodePool;var t=null;cc.loader.loadRes("prefabs/effect/bgShadow",cc.Prefab,function(n,o){t=cc.instantiate(o),e.newBgShadowNodePool.put(t)})},createEnemyLv1:function(){var e=null;this.newEnemyLv1NodePool.size()>0&&((e=this.newEnemyLv1NodePool.get()).getComponent("enemy").iniNode("enemyLv1"),e.parent=this.enemyGroup)},createEnemyLv2:function(){var e=null;this.newEnemyLv2NodePool.size()>0&&((e=this.newEnemyLv2NodePool.get()).getComponent("enemy").iniNode("enemyLv2"),e.parent=this.enemyGroup)},createEnemyLv3:function(){var e=null;this.newEnemyLv3NodePool.size()>0&&((e=this.newEnemyLv3NodePool.get()).getComponent("enemy").iniNode("enemyLv3"),e.parent=this.enemyGroup)},createEnemyLv4:function(){var e=null;this.newEnemyLv4NodePool.size()>0&&((e=this.newEnemyLv4NodePool.get()).getComponent("enemy").iniNode("enemyLv4"),e.parent=this.enemyGroup)},createEnemyLv5:function(){var e=null;this.newEnemyLv5NodePool.size()>0&&((e=this.newEnemyLv5NodePool.get()).getComponent("enemy").iniNode("enemyLv5"),e.parent=this.enemyGroup)},createEnemyLv6:function(){var e=null;this.newEnemyLv6NodePool.size()>0&&((e=this.newEnemyLv6NodePool.get()).getComponent("enemy").iniNode("enemyLv6"),e.parent=this.enemyGroup)},createEnemyLv7:function(){var e=null;this.newEnemyLv7NodePool.size()>0&&((e=this.newEnemyLv7NodePool.get()).getComponent("enemy").iniNode("enemyLv7"),e.parent=this.enemyGroup)},createGoldFish:function(){var e=this,t=null;cc.loader.loadRes("prefabs/enemy/enemyGoldFish",cc.Prefab,function(n,o){(t=cc.instantiate(o)).parent=e.rewardGroup,t.getComponent("enemyGoldFish").iniNode()})},createKillEffect:function(e,t,n){var o=this,i=null;this.newKillEffectNodePool.size>0?((i=this.newKillEffectNodePool.get()).parent=this.effectGroup,i.getComponent("killEffect").iniNode(e,t,n)):cc.loader.loadRes("prefabs/effect/killEffect",cc.Prefab,function(a,s){(i=cc.instantiate(s)).parent=o.effectGroup,i.getComponent("killEffect").iniNode(e,t,n)})},createLevelUpEffect:function(){var e=this,t=null;cc.loader.loadRes("prefabs/effect/levelUpEffect",cc.Prefab,function(n,o){(t=cc.instantiate(o)).parent=e.gameRules.playerNode,t.getComponent("levelUpEffect").iniNode()})},createScoreEffect:function(e){var t=this,n=null;this.newScoreEffectNodePool.size>0?((n=this.newScoreEffectNodePool.get()).parent=this.effectGroup,n.getComponent("scoreEffect").iniNode(e)):cc.loader.loadRes("prefabs/effect/scoreEffect",cc.Prefab,function(o,i){(n=cc.instantiate(i)).parent=t.effectGroup,n.getComponent("scoreEffect").iniNode(e)})},createRewardGoldEffect:function(e){var t=this,n=null;cc.loader.loadRes("prefabs/effect/rewardGoldEffect",cc.Prefab,function(o,i){(n=cc.instantiate(i)).parent=t.effectGroup,n.getComponent("scoreEffect").iniNode(e)})},createBubbleEffect:function(){var e=this,t=null;this.newBubbleEffectNodePool.size>0?((t=this.newBubbleEffectNodePool.get()).parent=this.effectGroup,t.getComponent("bubbleEffect").iniNode()):cc.loader.loadRes("prefabs/effect/bubbleEffect",cc.Prefab,function(n,o){(t=cc.instantiate(o)).parent=e.effectGroup,t.getComponent("bubbleEffect").iniNode()})},createBgShadow:function(){var e=this,t=null;this.newBgShadowNodePool.size>0?((t=this.newBgShadowNodePool.get()).parent=this.effectGroup,t.getComponent("bgShadow").iniNode()):cc.loader.loadRes("prefabs/effect/bgShadow",cc.Prefab,function(n,o){(t=cc.instantiate(o)).parent=e.effectGroup,t.getComponent("bgShadow").iniNode()})},createBgGoldGroup:function(){var e=this,t=null;cc.loader.loadRes("prefabs/effect/bgGoldGroup",cc.Prefab,function(n,o){(t=cc.instantiate(o)).parent=e.rewardGroup,t.getComponent("bgGoldGroup").iniNode()})},createGunFish:function(){var e=this,t=null;cc.loader.loadRes("prefabs/enemy/enemyGunFish",cc.Prefab,function(n,o){(t=cc.instantiate(o)).parent=e.tipsGroup,t.getComponent("enemyGunFish").iniNode(),e.createGunFishTips()})},createGunFishTips:function(){var e=this,t=null;cc.loader.loadRes("prefabs/prop/gunFishTips",cc.Prefab,function(n,o){(t=cc.instantiate(o)).parent=e.tipsGroup,t.getComponent("gunFishTips").iniNode()})},createBoomEffect:function(e,t){var n=this,o=null;this.boomEffectNodePool.size()>0?((o=this.boomEffectNodePool.get()).parent=this.effectGroup,o.getComponent("animEffect").iniNode(e,t)):cc.loader.loadRes("prefabs/effect/boomEffect",cc.Prefab,function(i,a){(o=cc.instantiate(a)).parent=n.effectGroup,o.getComponent("animEffect").iniNode(e,t)})},createBgGoldOne:function(e){var t=this,n=null;cc.loader.loadRes("prefabs/prop/bgGoldOne",cc.Prefab,function(o,i){(n=cc.instantiate(i)).parent=t.rewardGroup,n.getComponent("bgGoldOne").iniNode(e)})},createWorld:function(){var e=this;this.createEnemyLv1Sch=function(){1!==e.gameRules.playerState||e.enemyGroup.children.length>=150||e.gameRules.playerLevel>=4||e.createEnemyLv1()},this.createEnemyLv2Sch=function(){1!==e.gameRules.playerState||e.enemyGroup.children.length>=150||e.gameRules.playerLevel>=4||e.createEnemyLv2()},this.createEnemyLv3Sch=function(){1!==e.gameRules.playerState||e.enemyGroup.children.length>=150||e.gameRules.playerLevel<2||e.createEnemyLv3()},this.createEnemyLv4Sch=function(){1!==e.gameRules.playerState||e.enemyGroup.children.length>=150||e.gameRules.playerLevel<3||e.createEnemyLv4()},this.createEnemyLv5Sch=function(){1!==e.gameRules.playerState||e.enemyGroup.children.length>=150||e.gameRules.playerLevel<4||e.createEnemyLv5()},this.createEnemyLv6Sch=function(){1!==e.gameRules.playerState||e.enemyGroup.children.length>=150||e.gameRules.playerLevel<4||e.createEnemyLv6()},this.createEnemyLv7Sch=function(){1!==e.gameRules.playerState||e.enemyGroup.children.length>=150||e.gameRules.playerLevel<4||e.createEnemyLv7()},this.createDecorationSch=function(){0==e.gameRules.playerState||e.effectGroup.children.length>=150?cc.log("\u505c\u6b62\u751f\u6210\u88c5\u9970"):e.createBubbleEffect()},this.createBgGoldGroupSch=function(){0==e.gameRules.playerState||e.rewardGroup.children.length>=10?cc.log("\u505c\u6b62\u751f\u6210\u91d1\u5e01"):e.createBgGoldGroup()},this.createGoldFishSch=function(){0==e.gameRules.playerState||e.enemyGroup.children.length>=150||e.createGoldFish()},this.schedule(this.createEnemyLv1Sch,.1),this.schedule(this.createEnemyLv2Sch,.4),this.schedule(this.createEnemyLv3Sch,.6),this.schedule(this.createEnemyLv4Sch,.6),this.schedule(this.createEnemyLv5Sch,1),this.schedule(this.createEnemyLv6Sch,3),this.schedule(this.createEnemyLv7Sch,5),this.schedule(this.createDecorationSch,5),this.schedule(this.createBgGoldGroupSch,10),this.schedule(this.createGoldFishSch,15)},dynamicGunFish:function(e){1===this.gameRules.playerState&&1!=this.gameRules.moreSkill.skill2&&(this.gunFishTime+=e,this.gunFishTime>=o.gunFishTime[this.gameRules.playerLevel]&&(this.gunFishTime=0,this.createGunFish()))},onEnemyKill:function(e,t){switch(t){case"enemyLv1":this.newEnemyLv1NodePool.put(e);break;case"enemyLv2":this.newEnemyLv2NodePool.put(e);break;case"enemyLv3":this.newEnemyLv3NodePool.put(e);break;case"enemyLv4":this.newEnemyLv4NodePool.put(e);break;case"enemyLv5":this.newEnemyLv5NodePool.put(e);break;case"enemyLv6":this.newEnemyLv6NodePool.put(e);break;case"enemyLv7":this.newEnemyLv7NodePool.put(e);break;case"goldFish":case"gunFish":e.destroy();break;default:return cc.log(e.name,"\u672a\u6b63\u786e\u56de\u6536\u7684\u8282\u70b9"),void e.destroy()}cc.log(e.name,"\u653e\u5165\u8282\u70b9\u6c60")},onNodeKill:function(e){switch(e.name){case"killEffect":this.newKillEffectNodePool.put(e);break;case"scoreEffect":this.newScoreEffectNodePool.put(e);break;case"bubbleEffect":this.newBubbleEffectNodePool.put(e);break;case"bgShadow":this.newBgShadowNodePool.put(e);break;case"boomEffect":this.boomEffectNodePool.put(e);break;default:return cc.log(e.name,"\u672a\u6b63\u786e\u56de\u6536\u7684\u8282\u70b9"),void e.destroy()}cc.log(e.name,"\u653e\u5165\u8282\u70b9\u6c60")},clearEnemyGroup:function(){for(var e=this.enemyGroup.children.length-1;e>=0;e--){var t=this.enemyGroup.children[e].getComponent("enemy").enemyType;this.onEnemyKill(this.enemyGroup.children[e],t)}cc.log(this.enemyGroup)},iniNodePool:function(){this.boomEffectNodePool=new cc.NodePool,this.newEnemyLv1NodePool(),this.newEnemyLv2NodePool(),this.newEnemyLv3NodePool(),this.newEnemyLv4NodePool(),this.newEnemyLv5NodePool(),this.newEnemyLv6NodePool(),this.newEnemyLv7NodePool(),this.newKillEffectNodePool(),this.newScoreEffectNodePool(),this.newBubbleEffectNodePool()},onLoad:function(){this.enemyGroup=cc.find("Canvas/groupCtrl/enemyGroup"),this.effectGroup=cc.find("Canvas/groupCtrl/effectGroup"),this.rewardGroup=cc.find("Canvas/groupCtrl/rewardGroup"),this.tipsGroup=cc.find("Canvas/groupCtrl/tipsGroup"),this.moreRewardGroup=cc.find("Canvas/groupCtrl/moreRewradGroup"),this.gameRules=this.node.getComponent("gameRules"),this.gunFishTime=0,this.iniNodePool()},start:function(){this.createWorld()},update:function(e){this.dynamicGunFish(e)}}),cc._RF.pop()},{config:"config"}],doubleGoldUI:[function(e,t,n){"use strict";cc._RF.push(t,"a4634nCuMZDfZ4fa7Z53jBc","doubleGoldUI");(function(e){e&&e.__esModule})(e("cache"));var o=e("userData"),i=e("config");cc.Class({extends:cc.Component,properties:{center:cc.Node,now_gold_label:cc.Node,bg_node:cc.Node,share_double_node:cc.Node,video_duble_node:cc.Node,yellow_button_node:cc.Node,blue_button_node:cc.Node},setNowGoldLabel:function(){var e=this.now_gold_label.getComponent(cc.Label),t=o.treaSureBoxLv,n=(new Date).getTime(),a=Math.floor((n-o.getOfflineGoldTime)/1e3/60),s=o.haveFishArr.length;this.offlineGold=a*i.growGold*s;var c=i.treaSureBoxCapacity[t-1];this.offlineGold>=c&&(this.offlineGold=c),this.share_double_node.active=!1,this.video_duble_node.active=!0,this.getType="video",e.string="x"+this.offlineGold*this.doubleState},centerAnim:function(){var e=this.center;cc.tween(e).to(.3,{scale:1},{easing:"elasticOut"}).start(),cc.tween(this.bg_node).to(.2,{opacity:194}).start()},iniNode:function(){this.gameScene=cc.find("ctrlNode").getComponent("gameScene"),this.homeRules=cc.find("Canvas").getComponent("homeRules"),this.adCtrl=cc.find("ctrlNode").getComponent("adCtrl"),this.soundCtrl=cc.find("ctrlNode").getComponent("soundCtrl"),this.adCtrl.showBannerAd(),this.node.position=cc.v2(0,0),this.center.scale=0,this.center.opacity=255,this.blue_button_node.width=220,this.yellow_button_node.active=!0,this.blue_button_node.x=-180,this.doubleState=1,this.centerAnim(),this.setNowGoldLabel()},exit_double_gold_ui:function(){var e=this.offlineGold*this.doubleState;this.adCtrl.hideBannerAd(),this.soundCtrl.playSoundEffect("btnClick"),this.gameScene.createGetRewardUI("smallGold",e),o.getOfflineGoldTime=(new Date).getTime(),this.exitAnim()},onYellowBtnClick:function(){this.soundCtrl.playSoundEffect("btnClick"),"share"==this.getType?(this.adCtrl.manualShare("treaSureBox"),this.shareJudge()):(this.adCtrl.showVideoAd("treaSureBox"),this.videoJudge())},videoJudge:function(){this.schedule(function e(){1==this.adCtrl.rewardState&&"treaSureBox"==this.adCtrl.rewardTag?(this.unschedule(e),this.adCtrl.iniReward(),this.doubleSucces()):0==this.adCtrl.rewardState&&null==this.adCtrl.rewardTag&&this.unschedule(e)},.2)},shareJudge:function(){this.schedule(function e(){1==this.adCtrl.rewardState&&"treaSureBox"==this.adCtrl.rewardTag?(this.unschedule(e),this.adCtrl.iniReward(),this.doubleSucces()):0==this.adCtrl.rewardState&&null==this.adCtrl.rewardTag&&this.unschedule(e)},.2)},doubleSucces:function(){this.gameScene.createTipsUI("getDoubelGold"),this.doubleState=2,this.setNowGoldLabel(),this.yellow_button_node.active=!1,this.blue_button_node.width=582,this.blue_button_node.x=0},exitAnim:function(){var e=this;this.soundCtrl.playSoundEffect("getGold"),cc.tween(this.center).to(.1,{opacity:0},{easing:"sineOut"}).call(function(){cc.tween(e.bg_node).to(.1,{opacity:0}).call(function(){e.gameScene.onNodeKill(e.node)}).start()}).start()},onLoad:function(){},start:function(){}}),cc._RF.pop()},{cache:"cache",config:"config",userData:"userData"}],eggUI:[function(e,t,n){"use strict";cc._RF.push(t,"8c47cHoNIhGea1l9k4pqmGr","eggUI");var o=function(e){return e&&e.__esModule?e:{default:e}}(e("fx"));var i=e("userData"),a=e("config");cc.Class({extends:cc.Component,properties:{eggProgressBarNode:cc.Node,eggScoreLabelNode:cc.Node,receiveBtnNode:cc.Node,eggNode:cc.Node,eggTimeNode:cc.Node,eggTimeBarNode:cc.Node,eggTimeLabelNode:cc.Node,bottomNode:cc.Node,eggBtnNode:cc.Node,speedUpBtnNode:cc.Node},setProgressScore:function(){var e=this.eggProgressBarNode,t=this.eggScoreLabelNode.getComponent(cc.Label),n=i.cumScore,o=i.haveFishArr.length;1==i.haveEgg&&o++;var s=a.getFish[o],c=this.receiveBtnNode.getComponent(cc.Button);n>=s?(n=s,i.cumScore=s,t.string="\u70b9\u51fb\u9886\u53d6",c.interactable=!0):(t.string=n+"/"+s,c.interactable=!1);var r=n/s*512;cc.tween(e).to(.3,{width:r},{easing:"backOut"}).start()},getRandomFish:function(){for(var e=[],t=Object.keys(i.fishArr),n=0;n<t.length;n++)0==i.fishArr[n].have&&e.push(n);return e[Math.floor(Math.random()*e.length+1)-1]},onEggButtonClick:function(){this.soundCtrl.playSoundEffect("btnClick");var e=this.getRandomFish();return void 0==e?(cc.log("\u5df2\u62e5\u6709\u6240\u6709\u7684\u9c7c"),void this.gameScene.createTipsUI("fishFull")):(i.haveEgg=0,i.eggStartTime=0,this.haveEgg(),this.gameScene.createNewPropUI("fish",e),this.setProgressScore(),void(i.haveEgg=0))},setTimeProgress:function(){if(1==i.haveEgg){this.eggTimeNode.active=!0;var e=this.eggTimeBarNode,t=this.eggTimeLabelNode.getComponent(cc.Label),n=(new Date).getTime(),o=i.eggStartTime,s=n-o,c=60*a.eggNeedTime*1e3,r=c-s;if(o>n&&(i.eggStartTime=n),this.speedUpBtnNode.active=!(r<=18e4),s>=c&&1==i.haveEgg)return s=c,t.string="\u5b75\u5316\u5b8c\u6210",this.eggAnimSelect("egg_full"),this.eggBtnNode.getComponent(cc.Button).interactable=!0,cc.tween(e).to(.3,{width:300},{easing:"backOut"}).start(),!1;this.eggBtnNode.getComponent(cc.Button).interactable=!1,!0!==this.eggNode.getComponent(cc.Animation).getAnimationState("egg_get").isPlaying&&this.eggAnimSelect("egg_idle");var l=Math.floor(r/1e3/60/60),d=Math.floor(r/1e3/60)%60,h=Math.floor(r/1e3)%60;d<10?(t.string=l+":0"+d+":"+h,h<10&&(t.string=l+":0"+d+":0"+h)):(t.string=l+":"+d+":"+h,h<10&&(t.string=l+":"+d+":0"+h));var u=s/c*300;u>=300&&(u=300),cc.tween(e).to(.3,{width:u},{easing:"backOut"}).start()}},eggAnimSelect:function(e){this.eggNode.active=!0;var t=this.eggNode.getComponent(cc.Animation);!0!==t.getAnimationState(e).isPlaying&&(cc.log("play!!!!!!!!!!!!!!!!!!!!!!!!!"),t.play(e)),t.get_anim_over=function(){t.play("egg_idle")}},setEggSchedule:function(){this.setTimeProgress();this.schedule(function e(){0==this.setTimeProgress()&&(this.unschedule(e),cc.log("\u5173\u95ed\u5b9a\u65f6\u5668"))},1)},haveEgg:function(){var e=i.haveEgg,t=i.eggStartTime;0==e?(this.eggNode.active=!1,this.eggTimeNode.active=!1,this.speedUpBtnNode.active=!1):1==e&&(this.eggNode.active=!0,0!=t?this.setEggSchedule():this.eggTimeNode.active=!1)},test_get_egg:function(){i.haveEgg=1,this.eggAnimSelect("egg_get"),this.saveEggStartTime()},test_full_egg:function(){this.eggAnimSelect("egg_full")},onReceiveBtnClick:function(){this.soundCtrl.playSoundEffect("btnClick");var e=i.haveEgg;1!=e?0==e&&(i.haveEgg=1,this.eggAnimSelect("egg_get"),this.saveEggStartTime(),this.upDateCumScore(),this.setProgressScore(),o.default.save()):this.gameScene.createTipsUI("haveEgg")},saveEggStartTime:function(){var e=i.eggStartTime;if(0==e){e=1;var t=(new Date).getTime();i.eggStartTime=t,this.setEggSchedule(),cc.log("\u5b75\u86cb\u7684\u5f00\u59cb\u65f6\u95f4\u5df2\u7ecf\u8bb0\u5f55")}},upDateCumScore:function(){var e=i.cumScore,t=i.haveFishArr.length,n=a.getFish[t];e>=n&&(i.cumScore-=n)},bottomAnim:function(){cc.tween(this.bottomNode).to(.3,{y:-16},{easing:"backOut"}).start()},canGetEgg:function(e){0==e||(this.eggBtnNode.getComponent(cc.Button).interactable=!0)},onSpeedUpClick:function(){this.soundCtrl.playSoundEffect("btnClick"),this.adCtrl.showVideoAd("eggSpeedUp"),this.videoJudge()},videoJudge:function(){this.schedule(function e(){1==this.adCtrl.rewardState&&"eggSpeedUp"==this.adCtrl.rewardTag?(this.unschedule(e),this.adCtrl.iniReward(),i.eggStartTime-=60*a.eggNeedTime*1e3,this.gameScene.createTipsUI("eggSpeedUp"),this.setTimeProgress()):0==this.adCtrl.rewardState&&null==this.adCtrl.rewardTag&&this.unschedule(e)},.2)},cameraOut:function(){if(this.mainCamera){var e=this.node.parent.convertToWorldSpaceAR(this.node.position),t=this.mainCamera.convertToNodeSpaceAR(e);Math.abs(t.x)>=750?this.node.opacity=0:this.node.opacity=255}},iniNode:function(){this.gameScene=cc.find("ctrlNode").getComponent("gameScene"),this.adCtrl=cc.find("ctrlNode").getComponent("adCtrl"),this.soundCtrl=cc.find("ctrlNode").getComponent("soundCtrl"),this.mainCamera=cc.find("Canvas/Main Camera"),this.bottomNode.y=-1e3,this.setProgressScore(),this.bottomAnim(),this.iniState=!0},start:function(){this.haveEgg()},update:function(e){this.iniState&&this.cameraOut()}}),cc._RF.pop()},{config:"config",fx:"fx",userData:"userData"}],enemyGoldFish:[function(e,t,n){"use strict";cc._RF.push(t,"76050VBOH9LbrsLhtYsRbU0","enemyGoldFish");var o=e("config");cc.Class({extends:cc.Component,properties:{},onCollisionEnter:function(e,t){1===this.gameRules.playerState&&(this.gameRules.killSpecialEnemy(this.enemyType,this.enemyLevel),this.node.destroy())},iniNode:function(){this.setPos(),this.iniState=!0,this.node.scale=.6},aiMove:function(e){var t=this;if(this.node.position.fuzzyEquals(this.roamingPos,50))cc.tween(this.node).to(.3,{scale:1.5}).to(.1,{scale:0}).call(function(){t.node.destroy()}).start();else{var n=this.roamingPos.sub(this.node.position);this.roamingPos.x>=this.node.position.x?this.node.scaleX<0&&(this.node.scaleX=-this.node.scaleX):this.node.scaleX>0&&(this.node.scaleX=-this.node.scaleX),this.node.position=this.node.position.add(n.normalize().mul(this.moveSpeed*e))}},getCirclePoints:function(e,t,n,o){for(var i=[],a=Math.PI/180*Math.round(360/n),s=0;s<n;s++){var c=t.x+e*Math.sin(a*s),r=t.y+e*Math.cos(a*s);i.unshift(cc.v3(c+Math.random()*o,r+Math.random()*o,0))}return i},cameraOut:function(e){if(this.cameraTestTime+=e,!(this.cameraTestTime<=o.cameraTestTime)){this.cameraTestTime=0;var t=this.node.parent.convertToWorldSpaceAR(this.node.position),n=this.mainCamera.node.convertToNodeSpaceAR(t);Math.abs(n.x)>=750/this.mainCamera.zoomRatio||Math.abs(n.y)>=1334/this.mainCamera.zoomRatio?this.node.opacity=0:this.node.opacity=255}},setPos:function(){var e=this.playerNode.position.x,t=this.playerNode.position.y;this.node.x=e,this.node.y=t-1500;var n=Math.random()>.5?1:-1,o=Math.random()*this.playerNode.position.x*n;this.roamingPos=cc.v3(o,this.playerNode.position.y+3e3)},onLoad:function(){this.createScene=cc.find("Canvas").getComponent("createScene"),this.gameRules=cc.find("Canvas").getComponent("gameRules"),this.playerNode=cc.find("Canvas/player"),this.mainCamera=cc.find("Canvas/Main Camera").getComponent(cc.Camera),this.cameraTestTime=0,this.enemyType="goldFish",this.enemyLevel=o.enemyDetail[this.enemyType].level,this.moveSpeed=o.enemyDetail[this.enemyType].moveSpeed/this.mainCamera.zoomRatio},start:function(){},update:function(e){this.iniState&&this.aiMove(e)},lateUpdate:function(e){this.iniState&&this.cameraOut(e)}}),cc._RF.pop()},{config:"config"}],enemyGunFish:[function(e,t,n){"use strict";cc._RF.push(t,"dc503H1rp9NkqI0hcYQwPwq","enemyGunFish");var o=function(e){return e&&e.__esModule?e:{default:e}}(e("cache"));var i=e("config");cc.Class({extends:cc.Component,properties:{},onCollisionEnter:function(e,t){1===this.gameRules.playerState&&(this.gameRules.playerState=0)},iniNode:function(){var e=this;this.setPos(),this.node.scale=.7,o.default.gunFish=this.node,this.scheduleOnce(function(){e.iniState=!0},.5)},aiMove:function(e){if(this.node.position.fuzzyEquals(this.roamingPos,50))return cc.log("\u67aa\u9c7c\u5230\u8fbe\u5de1\u903b\u70b9"),void this.node.destroy();var t=this.roamingPos.sub(this.node.position);this.node.position=this.node.position.add(t.normalize().mul(this.moveSpeed*e))},getCirclePoints:function(e,t,n,o){for(var i=[],a=Math.PI/180*Math.round(360/n),s=0;s<n;s++){var c=t.x+e*Math.sin(a*s),r=t.y+e*Math.cos(a*s);i.unshift(cc.v3(c+Math.random()*o,r+Math.random()*o,0))}return i},cameraOut:function(e){if(this.cameraTestTime+=e,!(this.cameraTestTime<=i.cameraTestTime)){this.cameraTestTime=0;var t=this.node.parent.convertToWorldSpaceAR(this.node.position),n=this.mainCamera.node.convertToNodeSpaceAR(t);Math.abs(n.x)>=750/this.mainCamera.zoomRatio||Math.abs(n.y)>=1334/this.mainCamera.zoomRatio?this.node.opacity=0:this.node.opacity=this.opacityNum}},setPos:function(){var e=this.playerNode.position.x,t=this.playerNode.position.y;this.node.x=e+1e3/this.mainCamera.zoomRatio,this.node.y=t,this.roamingPos=cc.v3(e-1e3/this.mainCamera.zoomRatio,this.playerNode.position.y)},onLoad:function(){this.createScene=cc.find("Canvas").getComponent("createScene"),this.gameRules=cc.find("Canvas").getComponent("gameRules"),this.playerNode=cc.find("Canvas/player"),this.mainCamera=cc.find("Canvas/Main Camera").getComponent(cc.Camera),this.cameraTestTime=0,this.enemyType="gunFish",this.enemyLevel=i.enemyDetail[this.enemyType].level,this.moveSpeed=i.enemyDetail[this.enemyType].moveSpeed/this.mainCamera.zoomRatio},start:function(){},update:function(e){this.iniState&&this.aiMove(e)},lateUpdate:function(e){this.iniState&&this.cameraOut(e)}}),cc._RF.pop()},{cache:"cache",config:"config"}],enemy:[function(e,t,n){"use strict";cc._RF.push(t,"14be7hswK1LJpQk9LsAvi/f","enemy");var o=e("config"),i=0,a=1;cc.Class({extends:cc.Component,properties:{},onCollisionEnter:function(e,t){1===this.gameRules.playerState&&(this.gameRules.playerLevel>=this.enemyLevel?(this.createScene.onEnemyKill(this.node,this.enemyType),this.gameRules.killEnemy(this.enemyType,this.enemyLevel)):(cc.log(this.gameRules.playerState,"\u73a9\u5bb6\u72b6\u6001"),this.gameRules.playerState=0))},getCirclePoints:function(e,t,n,o){for(var i=[],a=Math.PI/180*Math.round(360/n),s=0;s<n;s++){var c=t.x+e*Math.sin(a*s),r=t.y+e*Math.cos(a*s);i.unshift(cc.v3(c+Math.random()*o,r+Math.random()*o,0))}return i},setPos:function(){var e=cc.find("Canvas/groupCtrl/enemyGroup").children.length,t=(500*this.enemyLevel+30*e)/this.mainCamera.zoomRatio,n=200*this.gameRules.playerLevel/this.mainCamera.zoomRatio,o=this.getCirclePoints(t,this.playerNode.position,8,n);this.node.position=o[Math.floor(Math.random()*o.length)]},createAanim:function(){cc.tween(this.node).to(.3,{opacity:255},{easing:"sineOut"}).start()},enemyStateExecut:function(e){switch(this.enemyState){case i:if(this.node.position.fuzzyEquals(this.roamingPos,50))return cc.log("\u5230\u8fbe\u6f2b\u6e38\u70b9"),void this.getRoamingPos();var t=this.roamingPos.sub(this.node.position);this.roamingPos.x>=this.node.position.x?this.node.scaleX<0&&(this.node.scaleX=-this.node.scaleX):this.node.scaleX>0&&(this.node.scaleX=-this.node.scaleX),this.node.position=this.node.position.add(t.normalize().mul(this.moveSpeed*e));break;case a:if(this.node.position.fuzzyEquals(this.playerNode.position,50))return cc.log("\u51fb\u6740\u73a9\u5bb6"),this.getRoamingPos(),void(this.enemyState=i);var n=this.playerNode.position.sub(this.node.position);this.playerNode.x>=this.node.position.x?this.node.scaleX<0&&(this.node.scaleX=-this.node.scaleX):this.node.scaleX>0&&(this.node.scaleX=-this.node.scaleX),this.node.position=this.node.position.add(n.normalize().mul(this.moveSpeed*e))}},getRoamingPos:function(){this.startPos=this.node.position;var e=Math.random()>.5?1:-1,t=500*Math.random()+this.node.position.x,n=500*Math.random()+this.node.position.y;this.roamingPos=cc.v3(t/this.mainCamera.zoomRatio*e,n/this.mainCamera.zoomRatio*e)},iniNode:function(e){this.createScene=cc.find("Canvas").getComponent("createScene"),this.gameRules=cc.find("Canvas").getComponent("gameRules"),this.playerNode=cc.find("Canvas/player"),this.mainCamera=cc.find("Canvas/Main Camera").getComponent(cc.Camera),this.getRoamingPos(),this.enemyType=e,this.moventDir=Math.random(),this.moveSpeed=o.enemyDetail[e].moveSpeed/this.mainCamera.zoomRatio,this.runAwaySpeed=o.enemyDetail[e].runAwaySpeed/this.mainCamera.zoomRatio,this.node.opacity=0,this.enemyLevel=o.enemyDetail[e].level,this.node.opacity=0,this.thinkTime=0,this.cameraTestTime=0,this.enemyState=i,this.setPos(),this.createAanim()},cameraOut:function(e){if(this.cameraTestTime+=e,!(this.cameraTestTime<=o.cameraTestTime)){this.cameraTestTime=0;var t=this.node.parent.convertToWorldSpaceAR(this.node.position),n=this.mainCamera.node.convertToNodeSpaceAR(t);Math.abs(n.x)>=750/this.mainCamera.zoomRatio||Math.abs(n.y)>=1334/this.mainCamera.zoomRatio?this.node.opacity=0:this.node.opacity=255}},enemyThink:function(e){(this.thinkTime+=e,this.thinkTime<o.enemyDetail[this.enemyType].thinkTime)||(this.thinkTime=0,this.playerNode.position.sub(this.node.position).mag()<=o.enemyDetail[this.enemyType].vision?this.enemyLevel>this.gameRules.playerLevel&&(this.enemyState=a):this.enemyState=i)},onLoad:function(){},start:function(){},update:function(e){1===this.gameRules.playerState&&void 0!=this.enemyType&&(this.gameRules.playerLevel>=4&&this.enemyLevel<3&&this.createScene.onEnemyKill(this.node,this.enemyType),this.enemyThink(e),this.enemyStateExecut(e))},lateUpdate:function(e){1===this.gameRules.playerState&&void 0!=this.enemyType&&this.cameraOut(e)}}),cc._RF.pop()},{config:"config"}],errClickUI:[function(e,t,n){"use strict";cc._RF.push(t,"1b9c9I64GRA4YjaHcLdOfeY","errClickUI");i(e("userData"));var o=i(e("cache"));function i(e){return e&&e.__esModule?e:{default:e}}cc.Class({extends:cc.Component,properties:{bgNode:cc.Node,centerNode:cc.Node,introduceLabel:cc.Label,exitNode:cc.Node},setIntroduceLabel:function(e){this.rewardGold=2*e,this.introduceLabel.string="\u91d1\u5e01+ "+this.rewardGold},touchExit:function(){var e=this;this.adCtrl.hideBannerAd(),cc.tween(this.bgNode).to(.1,{opacity:0}).start(),cc.tween(this.centerNode).to(.1,{scale:0}).call(function(){e.node.destroy()}).start()},onYellowBtnClick:function(){this.adCtrl.showVideoAd("littleGold"),this.videoJudge()},videoJudge:function(){this.schedule(function e(){1==this.adCtrl.rewardState&&"littleGold"==this.adCtrl.rewardTag?(this.unschedule(e),this.adCtrl.iniReward(),this.gameScene.createMoreProp("rewardGold",this.node,o.default.goldIconNode,10),this.homeRules.updateGold(this.rewardGold),this.touchExit()):0==this.adCtrl.rewardState&&null==this.adCtrl.rewardTag&&this.unschedule(e)},.2)},iniNode:function(e){var t=this;this.homeRules=cc.find("Canvas").getComponent("homeRules"),this.gameScene=cc.find("ctrlNode").getComponent("gameScene"),this.soundCtrl=cc.find("ctrlNode").getComponent("soundCtrl"),this.adCtrl=cc.find("ctrlNode").getComponent("adCtrl"),this.adCtrl.showBannerAd(),this.bgNode.opacity=0,this.centerNode.scale=0,this.exitNode.active=!1,cc.tween(this.bgNode).to(.2,{opacity:200}).start(),cc.tween(this.centerNode).to(.2,{scale:1},{easing:"backOut"}).start(),this.setIntroduceLabel(e),this.scheduleOnce(function(){t.exitNode.active=!0},1.5)},start:function(){}}),cc._RF.pop()},{cache:"cache",userData:"userData"}],fishContent:[function(e,t,n){"use strict";cc._RF.push(t,"e6ce2kSJ7pPaLCeo8VM8bi6","fishContent"),cc.Class({extends:cc.Component,properties:{label:cc.Label},iniNode:function(e,t){this.progress=e%1},onLoad:function(){this.anim=this.node.getComponent(cc.Animation),this.clip=this.anim.currentClip},start:function(){},update:function(e){null!=this.clip&&(this.progress=this.progress%1,this.anim.setCurrentTime(this.clip.duration*this.progress))}}),cc._RF.pop()},{}],fishUI_old:[function(e,t,n){"use strict";cc._RF.push(t,"08ab3iy8k9OxIaJ2e0LUfw+","fishUI_old");var o=function(e){return e&&e.__esModule?e:{default:e}}(e("fx"));var i=e("userData"),a=e("config"),s=1,c=2;cc.Class({extends:cc.Component,properties:{fish_icon_prefabs:{type:cc.Prefab,default:null},content:{type:cc.Node,default:null},PageView_node:cc.Node,fishNameLabel:cc.Label,fishLevelLabel:cc.Label,selectBtnNode:cc.Node,selectBtnFrames:{type:cc.SpriteFrame,default:[]},starLabel:cc.Label,selectLabel:cc.Label,progressBar:cc.Node,costLabel:cc.Label,upGradeBtnNode:cc.Node,skillArr:[cc.Node],crystlaLabel:cc.Label,introduceLabel:cc.Label},updateCrystla:function(){this.schedule(function(){var e=i.crystla;this.crystlaLabel.getComponent(cc.Label).string=e},.5)},fishPageView:function(){this.soundCtrl.playSoundEffect("changeFish"),this.setFishBreed(),this.setFishIconGray()},setSkillState:function(e){var t=this.skillArr,n=i.fishArr[e].level;if(1==n)for(var o=0;o<t.length;o++)t[o].opacity=55;else{for(var a=0;a<t.length-1;a++)t[a].opacity=55;for(var s=0;s<n-1;s++)cc.tween(t[s]).to(.1,{opacity:255}).start()}},setUpGradeBtnState:function(e){var t=i.fishArr[e].have;this.upGradeBtnNode.active=0!=t},setFishBreed:function(){var e=this.PageView_node.getComponent(cc.PageView).getCurrentPageIndex();i.pageIndex=e,this.fishNameLabel.string=a.fish[e].name,this.introduceLabel.string=a.fish[e].introduce,this.setSelectBtnState(e),this.setProgress(e),this.setUpGradeBtnState(e),this.setSkillState(e)},setFishIconGray:function(){for(var e=Object.keys(i.fishArr),t=0;t<e.length;t++){var n=i.fishArr[t].have,o=this.content.children[t].getChildByName("icon").getComponent(cc.Sprite);0==n?o.setMaterial(0,cc.MaterialVariant.createWithBuiltin("2d-gray-sprite",o)):o.setMaterial(0,cc.MaterialVariant.createWithBuiltin("2d-sprite",o))}},setSelectBtnState:function(e){var t=this.selectBtnNode.getComponent(cc.Button),n=this.selectBtnNode.getComponent(cc.Sprite),o=i.fishArr[e].use,r=a.fish[e].video,l=a.fish[e].crystlaNeed,d=i.crystla,h=i.fishArr[e].have;d>=l&&(d=l),1==r?1==h?1==o?(n.spriteFrame=this.selectBtnFrames[0],this.starLabel.string="",this.selectLabel.string="\u4f7f\u7528\u4e2d",this.selectLabel.node.color=new cc.Color(16,120,23),t.interactable=!1):(n.spriteFrame=this.selectBtnFrames[1],this.starLabel.string="",this.selectLabel.string="\u9009\u62e9",this.selectLabel.node.color=new cc.Color(96,36,0),t.interactable=!0,this.selectBtnNode.state=s):(n.spriteFrame=this.selectBtnFrames[2],this.starLabel.string=d+"/"+l,this.selectLabel.string="",t.interactable=!0,this.selectBtnNode.state=c):1==h?1==o?(n.spriteFrame=this.selectBtnFrames[0],this.starLabel.string="",this.selectLabel.string="\u4f7f\u7528\u4e2d",this.selectLabel.node.color=new cc.Color(16,120,23),t.interactable=!1):(n.spriteFrame=this.selectBtnFrames[1],this.starLabel.string="",this.selectLabel.string="\u9009\u62e9",this.selectLabel.node.color=new cc.Color(96,36,0),t.interactable=!0,this.selectBtnNode.state=s):(n.spriteFrame=this.selectBtnFrames[3],this.starLabel.string="",this.selectLabel.string="\u672a\u62e5\u6709",this.selectLabel.node.color=new cc.Color(153,195,210),t.interactable=!1),"\u672a\u62e5\u6709"==this.selectLabel.string?this.selectLabel.node.x=20:this.selectLabel.node.x=0},onSelectBtnClick:function(){var e=this;this.soundCtrl.playSoundEffect("btnClick");var t=this.PageView_node.getComponent(cc.PageView).getCurrentPageIndex(),n=i.crystla,r=a.fish[t].crystlaNeed;if(this.selectBtnNode.state==s){i.useFish=t;for(var l=Object.keys(i.fishArr),d=0;d<l.length;d++)i.fishArr[d].use=0;i.fishArr[t].use=1,i.useFish=t,o.default.save(),this.setSelectBtnState(t)}else this.selectBtnNode.state==c&&(n>=r?(i.crystla-=r,this.gameScene.createNewPropUI("fish",t),i.fishArr[t].have=1,this.setFishBreed(),this.setFishIconGray()):(this.soundCtrl.playSoundEffect("noMoney"),this.gameScene.createTipsUI("noCrystla"),this.scheduleOnce(function(){e.adCtrl.showVideoAd("getCrystla"),e.videoJudge()},.5)))},videoJudge:function(){var e=this;this.schedule(function t(){1==e.adCtrl.rewardState&&"getCrystla"==e.adCtrl.rewardTag?(e.unschedule(t),e.adCtrl.iniReward(),e.gameScene.createGetRewardUI("crystla",1)):0==e.adCtrl.rewardState&&null==e.adCtrl.rewardTag&&e.unschedule(t)},.2)},setProgress:function(e){var t=i.fishArr[e].nowEx,n=i.fishArr[e].level,o=a.fishUpNeed[n-1],s=this.upGradeBtnNode.getComponent(cc.Button);n>3?(this.fishLevelLabel.string="\u6700\u9ad8\u7ea7",this.costLabel.string="MAX",t=0,s.interactable=!1):(s.interactable=!0,this.fishLevelLabel.string=n+"\u7ea7",this.costLabel.string=a.fishUpOnceNeed[n-1]+""),t>=o&&(t=0,i.fishArr[e].nowEx=0,i.fishArr[e].level++,this.soundCtrl.playSoundEffect("levelUpHome"),2==i.fishArr[e].level?this.gameScene.createCommonUI("skill1"):(i.fishArr[e].level,this.gameScene.createCommonUI("skill1")),this.setProgress(e),this.setSkillState(e)),cc.tween(this.progressBar).to(.3,{width:0},{easing:"sineIn"}).start(),cc.tween(this.progressBar).to(.3,{width:t/o*652},{easing:"sineInOut"}).start()},onUpGradeBtnClick:function(){var e=this.PageView_node.getComponent(cc.PageView).getCurrentPageIndex(),t=i.gold,n=i.fishArr[e].level,o=a.fishUpOnceNeed[n-1];t>=o?(this.soundCtrl.playSoundEffect("btnClick"),this.homeRules.updateGold(-o),i.fishArr[e].nowEx+=o):(cc.log("\u91d1\u5e01\u4e0d\u8db3"),this.soundCtrl.playSoundEffect("noMoney"),this.gameScene.createLotteryUI()),this.setProgress(e)},setSprite:function(e,t){var n="texture/icon/fishIcon"+t;cc.loader.loadRes(n,cc.SpriteFrame,function(t,n){e.spriteFrame=n})},addFishIcon:function(){for(var e=this.PageView_node.getComponent(cc.PageView),t=Object.keys(i.fishArr),n=0;n<t.length;n++){var o=cc.instantiate(this.fish_icon_prefabs),a=o.getChildByName("icon").getComponent(cc.Sprite);this.setSprite(a,n),e.addPage(o)}this.autoScrollOffset()},autoScrollOffset:function(){var e=this.PageView_node.getComponent(cc.PageView),t=i.useFish;e.scrollToPage(t,.01),cc.log(i.pageIndex,"\u5f53\u524d\u7d22\u5f15"),this.setFishIconGray()},skillArrOpacity:function(){for(var e=this.skillArr,t=0;t<e.length;t++)e[t].opacity=55},onSkillBtnClick:function(e,t){this.soundCtrl.playSoundEffect("btnClick"),this.gameScene.createCommonUI(t)},iniNode:function(){this.homeRules=cc.find("Canvas").getComponent("homeRules"),this.gameScene=cc.find("ctrlNode").getComponent("gameScene"),this.soundCtrl=cc.find("ctrlNode").getComponent("soundCtrl"),this.adCtrl=cc.find("ctrlNode").getComponent("adCtrl"),this.mainCamera=cc.find("Canvas/Main Camera"),this.skillArrOpacity(),this.setFishBreed(),this.iniState=!0},cameraOut:function(){if(this.mainCamera){var e=this.node.parent.convertToWorldSpaceAR(this.node.position),t=this.mainCamera.convertToNodeSpaceAR(e);Math.abs(t.x)>=750?this.node.opacity=0:this.node.opacity=255}},onLoad:function(){this.node.getComponent(cc.Widget).updateAlignment()},start:function(){this.addFishIcon(),this.updateCrystla()},update:function(e){this.iniState&&this.cameraOut()}}),cc._RF.pop()},{config:"config",fx:"fx",userData:"userData"}],fishUI:[function(e,t,n){"use strict";cc._RF.push(t,"a62209LTKBNrqhgyAdcy3Qn","fishUI");var o=e("userData"),i=e("config"),a=e("fx"),s=e("cache"),c=1,r=2;cc.Class({extends:cc.Component,properties:{fishNameLabel:cc.Label,fishLevelLabel:cc.Label,selectBtnNode:cc.Node,selectBtnFrames:{type:cc.SpriteFrame,default:[]},starLabel:cc.Label,selectLabel:cc.Label,progressBar:cc.Node,costLabel:cc.Label,upGradeBtnNode:cc.Node,skillArr:[cc.Node],crystlaLabel:cc.Label,introduceLabel:cc.Label},updateCrystla:function(){this.schedule(function(){var e=o.crystla;this.crystlaLabel.getComponent(cc.Label).string=e},.5)},setSkillState:function(){var e=this.skillArr,t=o.fishArr[this.centerIndex].level;if(1==t)for(var n=0;n<e.length;n++)e[n].opacity=55;else{for(var i=0;i<e.length-1;i++)e[i].opacity=55;for(var a=0;a<t-1;a++)e[a].opacity=255}},setUpGradeBtnState:function(){var e=o.fishArr[this.centerIndex].have;this.upGradeBtnNode.active=0!=e},updateFishData:function(){this.centerIndex!=s.centerIndex&&(this.centerIndex=s.centerIndex,this.fishNameLabel.string=i.fish[this.centerIndex].name,this.introduceLabel.string=i.fish[this.centerIndex].introduce,this.soundCtrl.playSoundEffect("changeFish"),this.setSelectBtnState(),this.setUpGradeBtnState(),this.setSkillState(),this.setProgress())},setSelectBtnState:function(){var e=this.selectBtnNode.getComponent(cc.Button),t=this.selectBtnNode.getComponent(cc.Sprite),n=o.fishArr[this.centerIndex].use,a=i.fish[this.centerIndex].video,s=i.fish[this.centerIndex].crystlaNeed,l=o.crystla,d=o.fishArr[this.centerIndex].have;l>=s&&(l=s),1==a?1==d?1==n?(t.spriteFrame=this.selectBtnFrames[0],this.starLabel.string="",this.selectLabel.string="\u4f7f\u7528\u4e2d",this.selectLabel.node.color=new cc.Color(16,120,23),e.interactable=!1):(t.spriteFrame=this.selectBtnFrames[1],this.starLabel.string="",this.selectLabel.string="\u9009\u62e9",this.selectLabel.node.color=new cc.Color(96,36,0),e.interactable=!0,this.selectBtnNode.state=c):(t.spriteFrame=this.selectBtnFrames[2],this.starLabel.string=l+"/"+s,this.selectLabel.string="",e.interactable=!0,this.selectBtnNode.state=r):1==d?1==n?(t.spriteFrame=this.selectBtnFrames[0],this.starLabel.string="",this.selectLabel.string="\u4f7f\u7528\u4e2d",this.selectLabel.node.color=new cc.Color(16,120,23),e.interactable=!1):(t.spriteFrame=this.selectBtnFrames[1],this.starLabel.string="",this.selectLabel.string="\u9009\u62e9",this.selectLabel.node.color=new cc.Color(96,36,0),e.interactable=!0,this.selectBtnNode.state=c):(t.spriteFrame=this.selectBtnFrames[3],this.starLabel.string="",this.selectLabel.string="\u672a\u62e5\u6709",this.selectLabel.node.color=new cc.Color(153,195,210),e.interactable=!1),"\u672a\u62e5\u6709"==this.selectLabel.string?this.selectLabel.node.x=20:this.selectLabel.node.x=0},onSelectBtnClick:function(){var e=this;this.soundCtrl.playSoundEffect("btnClick");var t=o.crystla,n=i.fish[this.centerIndex].crystlaNeed;if(this.selectBtnNode.state==c){o.useFish=this.centerIndex;for(var s=Object.keys(o.fishArr),l=0;l<s.length;l++)o.fishArr[l].use=0;o.fishArr[this.centerIndex].use=1,o.useFish=this.centerIndex,a.save()}else this.selectBtnNode.state==r&&(t>=n?(o.crystla-=n,this.gameScene.createNewPropUI("fish",this.centerIndex),o.fishArr[this.centerIndex].have=1,this.touchScrollJs.setFishIconGray()):(this.soundCtrl.playSoundEffect("noMoney"),this.gameScene.createTipsUI("noCrystla"),this.scheduleOnce(function(){e.adCtrl.showVideoAd("getCrystla"),e.videoJudge()},.5)));this.setSelectBtnState(),this.setUpGradeBtnState()},videoJudge:function(){var e=this;this.schedule(function t(){1==e.adCtrl.rewardState&&"getCrystla"==e.adCtrl.rewardTag?(e.unschedule(t),e.adCtrl.iniReward(),e.gameScene.createGetRewardUI("crystla",1)):0==e.adCtrl.rewardState&&null==e.adCtrl.rewardTag&&e.unschedule(t)},.2)},setProgress:function(){var e=o.fishArr[this.centerIndex].nowEx,t=o.fishArr[this.centerIndex].level,n=i.fishUpNeed[t-1],a=this.upGradeBtnNode.getComponent(cc.Button);if(t>3)return this.fishLevelLabel.string="\u6700\u9ad8\u7ea7",this.costLabel.string="MAX",e=0,void(a.interactable=!1);a.interactable=!0,this.fishLevelLabel.string=t+"\u7ea7",this.costLabel.string=i.fishUpOnceNeed[t-1]+"",e>=n&&(e=0,o.fishArr[this.centerIndex].nowEx=0,o.fishArr[this.centerIndex].level++,this.soundCtrl.playSoundEffect("levelUpHome"),2==o.fishArr[this.centerIndex].level?this.gameScene.createCommonUI("skill1"):(o.fishArr[this.centerIndex].level,this.gameScene.createCommonUI("skill1")),this.setProgress()),cc.tween(this.progressBar).to(.3,{width:0},{easing:"sineIn"}).start(),cc.tween(this.progressBar).to(.3,{width:e/n*652},{easing:"sineInOut"}).start()},onUpGradeBtnClick:function(){var e=o.gold,t=o.fishArr[this.centerIndex].level,n=i.fishUpOnceNeed[t-1];e>=n?(this.soundCtrl.playSoundEffect("btnClick"),this.homeRules.updateGold(-n),o.fishArr[this.centerIndex].nowEx+=n):(cc.log("\u91d1\u5e01\u4e0d\u8db3"),this.soundCtrl.playSoundEffect("noMoney"),this.gameScene.createLotteryUI()),this.setProgress()},skillArrOpacity:function(){for(var e=this.skillArr,t=0;t<e.length;t++)e[t].opacity=55},onSkillBtnClick:function(e,t){this.soundCtrl.playSoundEffect("btnClick"),this.gameScene.createCommonUI(t)},iniNode:function(){this.homeRules=cc.find("Canvas").getComponent("homeRules"),this.gameScene=cc.find("ctrlNode").getComponent("gameScene"),this.soundCtrl=cc.find("ctrlNode").getComponent("soundCtrl"),this.adCtrl=cc.find("ctrlNode").getComponent("adCtrl"),this.mainCamera=cc.find("Canvas/Main Camera"),this.touchScrollJs=cc.find("center/touchScroll",this.node).getComponent("touchScroll"),this.centerIndex=s.centerIndex,this.skillArrOpacity(),this.updateFishData(),this.touchScrollJs.setFishIconGray(),this.iniState=!0},cameraOut:function(){if(this.mainCamera){var e=this.node.parent.convertToWorldSpaceAR(this.node.position),t=this.mainCamera.convertToNodeSpaceAR(e);Math.abs(t.x)>=750?this.node.opacity=0:this.node.opacity=255}},onLoad:function(){this.node.getComponent(cc.Widget).updateAlignment()},start:function(){this.updateCrystla()},update:function(e){this.iniState&&(this.cameraOut(),this.updateFishData())}}),cc._RF.pop()},{cache:"cache",config:"config",fx:"fx",userData:"userData"}],fx:[function(e,t,n){"use strict";cc._RF.push(t,"960b3lnBBRCRJRMiqvVpv2v","fx"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(e("userData"));var i={mergeJSON:function(e,t){var n=Object.prototype.toString.call(t),o=Object.prototype.toString.call(e);if("[object Object]"==o&&"[object Object]"==n){for(var i in e)if(e.hasOwnProperty(i)&&!t.hasOwnProperty(i))t[i]=e[i];else if(e.hasOwnProperty(i)&&t.hasOwnProperty(i)){var a=Object.prototype.toString.call(t[i]),s=Object.prototype.toString.call(e[i]);("[object Object]"==s&&"[object Object]"==a||"[object Array]"==s&&"[object Array]"==a)&&this.mergeJSON(e[i],t[i])}}else if("[object Array]"==o&&"[object Array]"==n)for(var c in e){var r=Object.prototype.toString.call(t[c]),l=Object.prototype.toString.call(e[c]);("[object Object]"==l&&"[object Object]"==r||"[object Array]"==l&&"[object Array]"==r)&&this.mergeJSON(e[c],t[c])}return e=t},updateUserData:function(e){var t=this.mergeJSON(o.default,e);Object.assign(o.default,t),cc.log(o.default,"userData")},load:function(){try{var e=JSON.parse(cc.sys.localStorage.getItem("userData"));null!==e?(this.updateUserData(e),cc.log("\u4f7f\u7528\u5b58\u6863")):this.save()}catch(e){this.save(),cc.log("\u62a5\u9519\u5904\u7406"),cc.log(e)}},save:function(){var e=o.default;this.clear(),cc.sys.localStorage.setItem("userData",JSON.stringify(e)),cc.log("\u5df2\u5b58\u6863"),cc.log(JSON.stringify(o.default))},clear:function(){cc.sys.localStorage.removeItem("userData")},unitConversion:function(e){return e>=1e3&&e<1e7?(e/1e3).toFixed(2)+"k":e>=1e7?(e/1e3).toFixed(0)+"k":e},calWeight:function(e){for(var t,n=0,o=[],i=0;i<e.length;i++)o[i]=Number(e[i].weight),n+=o[i];if(n<=0)return-1;for(var a=Math.floor(Math.random()*(n-1+1)+1),s=0,c=0;c<o.length;c++){if(s<a&&a<=s+o[c]){t=c;break}s+=o[c]}return e[t].name},videoJudge:function(){var e=this;this.schedule(function t(){1==e.adCtrl.rewardState&&e.adCtrl.rewardTag==e.rewardType?(e.unschedule(t),e.adCtrl.iniReward()):0==e.adCtrl.rewardState&&null==e.adCtrl.rewardTag&&e.unschedule(t)},.2)},getMaxOrMin:function(e,t){var n=e[0],o=0,i={num:null,index:null};if("max"==t){for(var a=0;a<e.length;a++)e[a]>n&&(n=e[a],o=a);return i.num=n,i.index=o,i}if("min"==t){for(var s=0;s<e.length;s++)e[s]<n&&(n=e[s],o=s);return i.num=n,i.index=o,i}},arrRemoveDuplicate:function(e){var t=e;t.sort(function(e,t){return e-t});for(var n=0;n<t.length;n++)for(var o=n+1;o<t.length;o++)t[n]==t[o]&&(t.splice(o,1),o--);return t}};n.default=i,t.exports=n.default,cc._RF.pop()},{userData:"userData"}],gameOverUI:[function(e,t,n){"use strict";cc._RF.push(t,"71ca9kNfEZOO70Ql8dnumW3","gameOverUI");var o=function(e){return e&&e.__esModule?e:{default:e}}(e("cache"));var i=e("userData"),a=e("config"),s=1,c=0;cc.Class({extends:cc.Component,properties:{whiteBlinkNode:cc.Node,top1_node:cc.Node,top2_node:cc.Node,bottom_node:cc.Node,clickRestLabel:cc.Label,touchScreen:cc.Node,cumScoreLabel:cc.Label,eggProgressBar:cc.Node,red_tips_array:[cc.Node],buffGroup:cc.Node,eggIconNode:cc.Node},iniAnim:function(){var e=this,t=0;cc.tween(this.whiteBlinkNode).to(1,{opacity:0},{easing:"sineOut"}).start(),cc.tween(this.top1_node).delay(t+=.4).to(.4,{x:0},{easing:"backOut"}).start(),cc.tween(this.top2_node).delay(t+=.4).to(.4,{x:0},{easing:"backOut"}).call(function(){e.fishAnim(),e.setBuffState()}).start(),cc.tween(this.bottom_node).delay(t+=.4).to(.4,{x:0},{easing:"backOut"}).call(function(){0==i.noviceGuide.gameOver&&e.gameScene.createNoviceGuideUI("gameOver"),e.setClickRest()}).start()},iniData:function(){var e=this.top1_node.getChildByName("maxScore").getComponent(cc.Label),t=this.top1_node.getChildByName("score").getComponent(cc.Label);e.string=i.maxScore,t.string=i.nowScore;var n=i.haveFishArr.length;1==i.haveEgg&&n++;var o=a.getFish[n];i.cumScore>=o&&(i.cumScore=o),this.cumScoreLabel.string=i.cumScore+"/"+o;var s=i.cumScore/o*580;cc.tween(this.eggProgressBar).to(.4,{width:s},{easing:"backOut"}).start()},preloadHomeScene:function(){this.scheduleOnce(function(){cc.director.preloadScene("homeScene"),cc.log("\u5df2\u9884\u52a0\u8f7dhome\u573a\u666f")},2)},fishAnim:function(){var e=this;this.playerFishCopy=o.default.playerFishCopy,this.playerFishCopy.scale=0,this.playerFishCopy.group="default",this.fishNode.active=!0,this.fishNode.childrenCount>0&&this.fishNode.children.forEach(function(e){e.destroy()}),this.playerFishCopy.parent=this.fishNode,cc.tween(this.playerFishCopy).to(.4,{scale:.5},{easing:"backOut"}).call(function(){e.playerFishCopy.getComponent("playerFishEvent").playAnim("idleAnim")}).start()},setClickRest:function(){this.clickRestLabel.node.active=!0,cc.log(i.dieCount,"\u6b7b\u4ea1\u6b21\u6570"),this.clickType="normal",this.clickRestLabel.string="\u70b9\u51fb\u91cd\u8bd5",cc.tween(this.clickRestLabel.node).repeatForever(cc.tween().to(.4,{opacity:255}).to(.8,{opacity:0})).start(),this.touchScreen.on("touchend",this.clickRestEvent,this)},clickRestEvent:function(){switch(this.clickType){case"video":cc.log("play videoAd"),this.adCtrl.showVideoAd("reBorn"),this.videoJudge();break;case"normal":this.gameRules.restGame(),this.gameScene.onNodeKill(this.node)}},videoJudge:function(){var e=this;this.schedule(function t(){1==e.adCtrl.rewardState&&"reBorn"==e.adCtrl.rewardTag?(e.unschedule(t),e.adCtrl.iniReward(),e.gameRules.restGame(),e.gameScene.onNodeKill(e.node)):0==e.adCtrl.rewardState&&null==e.adCtrl.rewardTag&&e.unschedule(t)},.2)},onHomeBtnClick:function(){this.btnState!=s&&(this.btnState=c,o.default.backHomeType="normal",this.resetClickState(),this.loadHomeScene())},onEggBtnClick:function(){this.btnState!=s&&(this.btnState=c,o.default.backHomeType="egg",this.resetClickState(),this.loadHomeScene())},onFishBtnClick:function(){this.btnState!=s&&(this.btnState=c,o.default.backHomeType="fish",this.resetClickState(),this.loadHomeScene())},onMoneyBtnClick:function(){this.btnState!=s&&(this.btnState=c,o.default.backHomeType="money",this.resetClickState(),this.loadHomeScene())},loadHomeScene:function(){this.soundCtrl.stopSound(),this.gameScene.onNodeKill(this.node),cc.director.loadScene("homeScene")},resetClickState:function(){var e=this;this.scheduleOnce(function(){e.btnState=c},1)},onTapeShareBtnClick:function(){if(((new Date).getTime()-this.adCtrl.tapeStartTime)/1e3<3)return console.log("\u5f55\u5c4f\u65f6\u95f4\u5c0f\u4e8e3\u79d2"),void this.gameScene.createTipsUI("tapeNoTime");this.gameScene.createTapeShareUI("gameOver")},setBuffState:function(){for(var e=0;e<this.buffGroup.children.length;e++){this.buffGroup.children[e].getChildByName("buffIcon").opacity=30}for(var t=0;t<i.dieCount;t++){var n=this.buffGroup.children[t].getChildByName("buffIcon");cc.tween(n).to(.2,{opacity:255}).to(.4,{scale:.4}).to(.2,{scale:.22}).start()}},onBuffClick:function(){this.gameScene.createCommonUI("buff"),this.soundCtrl.playSoundEffect("btnClick")},iniNode:function(){this.gameRules=cc.find("Canvas").getComponent("gameRules"),this.gameScene=cc.find("ctrlNode").getComponent("gameScene"),this.adCtrl=cc.find("ctrlNode").getComponent("adCtrl"),this.soundCtrl=cc.find("ctrlNode").getComponent("soundCtrl"),this.fishNode=this.node.getChildByName("fishNode"),this.tapeShareGroup=cc.find("top2/tapeShareIcon",this.node),this.tapeShareGroup.active=!0,this.btnState=c,o.default.gameOverEgg=this.eggIconNode,o.default.gameOverUI=this.node.getComponent("gameOverUI"),this.soundCtrl.playSoundEffect("dieBuff"),this.iniData(),this.whiteBlinkNode.active=!0,this.whiteBlinkNode.opacity=255,this.fishNode.active=!1,this.top1_node.x=800,this.top2_node.x=800,this.bottom_node.x=800,this.clickRestLabel.node.opacity=0,this.clickRestLabel.node.active=!1,this.touchScreen.off("touchend",this.clickRestEvent,this),this.iniAnim()},onLoad:function(){this.node.getComponent(cc.Widget).updateAlignment(),this.preloadHomeScene()},start:function(){}}),cc._RF.pop()},{cache:"cache",config:"config",userData:"userData"}],gameRules:[function(e,t,n){"use strict";cc._RF.push(t,"d67fcBhN/RJXKr9EospZR0B","gameRules");var o=a(e("cache")),i=a(e("fx"));function a(e){return e&&e.__esModule?e:{default:e}}var s=e("userData"),c=e("config"),r=-1,l=1,d=0,h=2,u=1,f=0;cc.Class({extends:cc.Component,properties:{bgNode:cc.Node,joyStickNode:cc.Node,goldLabel:cc.Label,goldIcon:cc.Node,scoreLabel:cc.Label,UICamera:cc.Node,bgNode2:cc.Node},shakeCamera:function(){var e=Math.random()/100,t=.4*Math.random();0==e&&(e=.01),cc.tween(this.mainCamera.node).by(.01,{x:t,y:t}).start()},shakePhone:function(e){if("undefined"!=typeof wx)switch(e){case"sort":wx.vibrateShort();break;case"long":wx.vibrateLong()}},cameraAnim:function(){this.shakeCamera(),cc.tween(this.playerCamera).to(.1,{zoomRatio:1.3}).to(.1,{zoomRatio:1}).start()},enemyCameraCtrl:function(){cc.tween(this.mainCamera).to(1,{zoomRatio:c.enemyCameraScale[this.playerLevel-1]},{easing:"sineOut"}).start(),this.bgNode.parent.scale=this.playerLevel},playerHpDecay:function(e){this.playerState===l&&(this.gameCumTime+=e,this.playerHp-=this.playerHpDecayNum,this.playerHp<=0&&(this.playerState=d,this.playerHp=0,cc.log("\u73a9\u5bb6\u6b7b\u4ea1")),this.hpProgressBar.angle=-132*(1-this.playerHp/this.playerHpMax),this.playerHp>=this.playerHpMax&&this.updatePlayerData())},gameOverJudge:function(e){var t=this;this.playerState==d&&(this.soundCtrl.playSoundEffect("playerDie"),s.cumDieCount++,s.dieCount++,s.dieCount>7&&(s.dieCount=1),this.playerState=r,s.cumScore+=s.nowScore,s.giftNeedScore=Math.floor(s.nowScore/2),i.default.save(),this.shakePhone("long"),this.scoreLabel.node.active=!1,this.goldLabel.node.parent.active=!1,this.createScene.createKillEffect("killPlayer",this.playerNode.position),this.joyStickJs.offTouchEvent(),this.playerNode.active=!1,this.manager.enabled=!1,this.gameScene.createGameOverUI(),1==this.giftState&&this.scheduleOnce(function(){t.gameScene.createGiftBoxUI()},.4))},godTime:function(){this.playerState=h,cc.tween(this.playerFish).then(cc.tween().to(.15,{opacity:50}).to(.15,{opacity:255})).repeat(10).start()},restGame:function(){this.createScene.clearEnemyGroup(),this.iniNode(),this.godTime(),this.enemyCameraCtrl()},addGold:function(){this.soundCtrl.playSoundEffect("killGold"),s.gold+=c.bgGold,cc.tween(this.goldIcon).to(.1,{scale:1.5}).to(.2,{scale:1}).start(),this.createScene.createKillEffect("getGold",this.playerNode.position),this.updateGold()},updateGold:function(){this.goldLabel.string=s.gold+""},updateScore:function(e){if(this.scoreAnimState===f){this.scoreAnimState=u;var t=10;this.schedule(function n(){t--;var o=parseInt(e/t);if(this.scoreLabel.string=s.nowScore+o,t<=0)return this.scoreAnimState=f,s.nowScore+=e,this.scoreLabel.string=s.nowScore+"",s.nowScore>=s.maxScore&&(s.maxScore=s.nowScore),s.nowScore>=s.giftNeedScore&&this.getGift(),void this.unschedule(n)},.03)}else s.nowScore+=e},clickFishGetGold:function(e){if(1===this.moreSkill.skill0&&(this.clickFishGetGoldTime+=e,!(this.clickFishGetGoldTime<=c.clickFishGetGoldTime))){this.clickFishGetGoldTime=0,cc.log("\u70b9\u9c7c\u6210\u91d1");for(var t=0;t<this.enemyGroup.children.length;t++){var n=this.playerNode.position.sub(this.enemyGroup.children[t].position).mag(),o=this.enemyGroup.children[t].getComponent("enemy").enemyLevel,i=this.enemyGroup.children[t].getComponent("enemy").enemyType,a=this.enemyGroup.children[t].position;n<=500/this.mainCamera.zoomRatio&&o&&o<=this.playerLevel&&(cc.log(n,"\u8ddd\u79bb"),cc.log(o,"enmeyLevel"),cc.log(i,"type"),this.createScene.createBoomEffect(a,o),this.createScene.createBgGoldOne(a),this.createScene.onEnemyKill(this.enemyGroup.children[t],i))}}},killEnemy:function(e,t){this.soundCtrl.playSoundEffect("killEnemy"),this.cameraAnim(),this.playerHp+=c.enemyDetail[e].addHp;var n=c.enemyDetail[e].addScore*this.skill3;this.updateScore(n),this.createScene.createScoreEffect(n),this.createScene.createKillEffect("killEnemy",this.playerNode.position,t);var o=cc.find("Canvas/player/playerHp/mask/bar/progressFloor");cc.tween(o).to(.2,{opacity:255}).to(.2,{opacity:0},{easing:"sineOut"}).start()},killSpecialEnemy:function(e,t){var n=c.enemyDetail[e].addGold;switch(e){case"goldFish":this.soundCtrl.playSoundEffect("killGoldFish"),this.createScene.createKillEffect("killEnemy",this.playerNode.position,t),this.createScene.createRewardGoldEffect(n),s.gold+=n,this.updateGold()}},playerHpAnim:function(){},changeBg:function(){var e=this;this.bgNode2.active=!0,cc.tween(this.bgNode).to(.5,{opacity:0}).call(function(){e.bgNode.active=!1}).start()},updatePlayerData:function(){this.soundCtrl.playSoundEffect("levelUp"),this.createScene.createLevelUpEffect(),this.playerLevel++,this.playerLevel>6&&(this.playerLevel=6),this.playerHpMax=c.playerHpMax[this.playerLevel-1],this.playerHp=this.playerHpMax/2,this.playerHpDecayNum=c.playerHpDecayNum[this.playerLevel-1]*this.skill2*this.dieBuff,this.playerSpeed=c.playerSpeed[this.playerLevel-1]*this.skill1/this.mainCamera.zoomRatio,cc.tween(this.playerFish).to(.2,{scale:.1}).delay(.2).to(.1,{scale:c.playerFishScale[this.playerLevel-1]}).start(),this.enemyCameraCtrl(),4==this.playerLevel&&this.changeBg(),cc.log(this.playerLevel,"\u73a9\u5bb6\u7b49\u7ea7")},playerFishBornAnim:function(){var e=this;this.soundCtrl.playSoundEffect("playerBorn"),cc.tween(this.playerFish).to(.4,{scale:c.playerFishScale[this.playerLevel-1]},{easing:"backOut"}).call(function(){e.playerProgress.active=!0}).start()},getFishSkill:function(){var e=s.useFish;switch(s.fishArr[e].level){case 1:this.skill1=1,this.skill2=1,this.skill3=1;break;case 2:this.skill1=1.05,this.skill2=1,this.skill3=1;break;case 3:this.skill1=1.05,this.skill2=.8,this.skill3=1;break;case 4:this.skill1=1.05,this.skill2=.8,this.skill3=2}},createNewFishNode:function(e){var t=this;this.playerFish&&this.playerFish.destroy();var n="prefabs/player/fish"+e,i=null,a=null;cc.loader.loadRes(n,cc.Prefab,function(e,n){i=cc.instantiate(n),a=cc.instantiate(n),i.parent=t.playerNode,i.scale=0,o.default.playerFish=i,o.default.playerFishCopy=a,t.playerFish=o.default.playerFish,t.playerNode.getComponent("player").fishNode=i})},createFishNode:function(){var e=this;this.playerFish&&this.playerFish.destroy();var t="prefabs/player/fish"+s.useFish,n=null,i=null;cc.loader.loadRes(t,cc.Prefab,function(t,a){n=cc.instantiate(a),i=cc.instantiate(a),n.parent=e.playerNode,n.scale=0,o.default.playerFish=n,o.default.playerFishCopy=i,e.playerFish=o.default.playerFish,e.playerNode.getComponent("player").fishNode=n})},playerFishAnimJudge:function(){if(0!=this.enemyGroup.children.length&&null!=this.playerFish){for(var e=[],t=0,n=0;n<this.enemyGroup.children.length;n++){var o=this.playerNode.position.sub(this.enemyGroup.children[n].position);e.push(o.mag())}for(var i=e[0],a=0;a<e.length;a++)i>e[a]&&(i=e[a],t=a);i>200/this.mainCamera.zoomRatio?this.playerFish.getComponent("playerFishEvent").playAnim("idleAnim"):this.enemyGroup.children[t].getComponent("enemy").enemyLevel<=this.playerLevel?this.playerFish.getComponent("playerFishEvent").playAnim("eatAnim"):this.playerFish.getComponent("playerFishEvent").playAnim("idleAnim")}},setGiftGrop:function(){var e=this;s.cumDieCount<=3?this.giftBoxGroup.active=!1:(s.giftNeedScore<=10&&(s.giftNeedScore=10),this.giftState=!1,this.giftTipsLabel.node.active=!0,this.giftBoxGroupFloor.width=239,this.giftGetIcon.active=!1,this.giftTipsLabel.string="\u8fbe\u5230"+s.giftNeedScore+"\u5206",this.scheduleOnce(function(){cc.tween(e.giftBoxGroup).to(.4,{x:-675},{easing:"sineIn"}).start()},5))},getGift:function(){s.cumDieCount<=3?this.giftBoxGroup.active=!1:1!=this.giftState&&(this.giftState=!0,this.giftBoxGroup.active=!0,this.giftTipsLabel.node.active=!1,this.giftBoxGroupFloor.width=84,this.giftGetIcon.active=!0,cc.tween(this.giftBoxGroup).to(.4,{x:-375},{easing:"sineOut"}).start())},iniAnim:function(){var e=0;cc.tween(this.goldIcon.parent).to(.4,{scale:1},{easing:"sineIn"}).start(),cc.tween(this.scoreLabel.node).delay(e+=.4).to(.4,{scale:1},{easing:"sineIn"}).start(),cc.tween(this.giftBoxGroup).delay(e+=.4).to(.4,{x:-375},{easing:"sineIn"}).start(),cc.tween(this.moreSkillGroup).delay(e+=.4).to(.4,{x:-375},{easing:"sineIn"}).start()},setMoreSkillGroup:function(){var e="",t=this.moreSkillGroup.getChildByName("skillIcon").getComponent(cc.Sprite);1==this.moreSkill.skill0&&(e="texture/prop/skillIcon0",this.moreSkillGroup.active=!0,cc.loader.loadRes(e,cc.SpriteFrame,function(e,n){e&&cc.log(e),t.spriteFrame=n})),1==this.moreSkill.skill1&&(e="texture/prop/skillIcon1",this.moreSkillGroup.active=!0,cc.loader.loadRes(e,cc.SpriteFrame,function(e,n){e&&cc.log(e),t.spriteFrame=n})),1==this.moreSkill.skill2&&(e="texture/prop/skillIcon2",this.moreSkillGroup.active=!0,cc.loader.loadRes(e,cc.SpriteFrame,function(e,n){e&&cc.log(e),t.spriteFrame=n})),1==this.moreSkill.skill1&&this.updatePlayerData()},gameStart:function(){var e=this;this.playerNode.active=!0,this.updateGold(),this.setMoreSkillGroup(),this.setGiftGrop(),this.iniAnim(),this.playerState?this.scheduleOnce(function(){e.playerState=l},3):this.playerState=l,this.scheduleOnce(function(){e.playerFishBornAnim()},.1),s.cumDieCount<=3&&this.gameScene.createGameSzTips()},iniNode:function(){this.createFishNode(),this.manager=cc.director.getCollisionManager(),this.manager.enabled=!0,this.manager.enabledDebugDraw=!1,this.bgNode.active=!0,this.bgNode.opacity=255,this.bgNode2.active=!1,this.goldIcon.parent.scale=0,this.scoreLabel.node.scale=0,this.scoreLabel.string=0,this.scoreLabel.node.active=!0,this.playerProgress.active=!1,this.goldLabel.node.parent.active=!0,this.giftBoxGroup.x=-675,this.moreSkillGroup.x=-675,this.moreSkillGroup.active=!1,this.scoreAnimState=f,this.getFishSkill(),this.mainCamera.zoomRatio=1,this.clickFishGetGoldTime=0,this.playerLevel=1,this.playerHpMax=c.playerHpMax[this.playerLevel-1],this.playerHp=this.playerHpMax/2,this.dieBuff=1-.05*s.dieCount,this.playerHpDecayNum=c.playerHpDecayNum[this.playerLevel-1]*this.skill2*this.dieBuff,s.nowScore=0,this.hpProgressBar.angle=-132*(1-this.playerHp/this.playerHpMax),this.playerSpeed=c.playerSpeed[this.playerLevel-1]*this.skill1,this.joyStickJs.onTouchEvent(),this.gameCumTime=0,this.moreSkill={skill0:0,skill1:0,skill2:0},this.gameScene.createMoreSkillUI(),this.adCtrl.tapeStart()},onLoad:function(){this.soundCtrl=cc.find("ctrlNode").getComponent("soundCtrl"),this.adCtrl=cc.find("ctrlNode").getComponent("adCtrl"),this.soundCtrl.playBgSound("gameBgSound"),this.hpProgressBar=cc.find("Canvas/player/playerHp/mask/bar"),this.joyStickJs=this.joyStickNode.getComponent("joyStick"),this.playerCamera=cc.find("Canvas/Main Camera/playerCamera").getComponent(cc.Camera),this.mainCamera=cc.find("Canvas/Main Camera").getComponent(cc.Camera),this.playerNode=cc.find("Canvas/player"),this.gameScene=cc.find("ctrlNode").getComponent("gameScene"),this.playerProgress=cc.find("Canvas/player/playerHp"),this.createScene=this.node.getComponent("createScene"),this.bgGroup=cc.find("Canvas/bgGroup"),this.enemyGroup=cc.find("Canvas/groupCtrl/enemyGroup"),this.giftBoxGroup=cc.find("Canvas/top/giftBoxGroup"),this.giftBoxGroupFloor=cc.find("Canvas/top/giftBoxGroup/giftBoxFloorSmall"),this.giftGetIcon=cc.find("Canvas/top/giftBoxGroup/giftGetIcon"),this.giftTipsLabel=cc.find("Canvas/top/giftBoxGroup/giftTipsLabel").getComponent(cc.Label),this.moreSkillGroup=cc.find("Canvas/top/moreSkillGroup"),s.dieCount=0,this.iniNode()},start:function(){},update:function(e){this.playerFishAnimJudge(),this.playerHpDecay(),this.gameOverJudge(),this.clickFishGetGold(e)},lateUpdate:function(){this.bgGroup.setPosition(this.playerNode.position)}}),cc._RF.pop()},{cache:"cache",config:"config",fx:"fx",userData:"userData"}],gameScene:[function(e,t,n){"use strict";cc._RF.push(t,"ead52qBREZMNLJfAHOa13ub","gameScene"),cc.Class({extends:cc.Component,properties:{},iniUINodePool:function(){this.commonUINodePool=new cc.NodePool,this.doubleGoldUINodePool=new cc.NodePool,this.eggUINodePool=new cc.NodePool,this.gameOverUINodePool=new cc.NodePool,this.moneyUINodePool=new cc.NodePool,this.propUINodePool=new cc.NodePool,this.optionUINodePool=new cc.NodePool,this.shopUINodePool=new cc.NodePool,this.tipsUINodePool=new cc.NodePool,this.upTreaSureBoxUINodePool=new cc.NodePool,this.fishUINodePool=new cc.NodePool,this.giftBoxUINodePool=new cc.NodePool,this.moreSkillUINodePool=new cc.NodePool,this.getRewardUINodePool=new cc.NodePool,this.lotteryUINodePool=new cc.NodePool},createGiftBoxUI:function(){var e=this,t=null;this.giftBoxUINodePool.size()>0?((t=this.giftBoxUINodePool.get()).parent=this.UINodeGroup,t.getComponent("giftBoxUI").iniNode()):cc.loader.loadRes("prefabs/UI/giftBoxUI",cc.Prefab,function(n,o){(t=cc.instantiate(o)).parent=e.UINodeGroup,t.getComponent("giftBoxUI").iniNode()})},createCommonUI:function(e){var t=this,n=null;this.commonUINodePool.size()>0?((n=this.commonUINodePool.get()).parent=this.UINodeGroup,n.getComponent("commonUI").iniNode(e)):cc.loader.loadRes("prefabs/UI/commonUI",cc.Prefab,function(o,i){(n=cc.instantiate(i)).parent=t.UINodeGroup,n.getComponent("commonUI").iniNode(e)})},createDoubleGoldUI:function(){var e=this,t=null;this.doubleGoldUINodePool.size()>0?((t=this.doubleGoldUINodePool.get()).parent=this.UINodeGroup,t.getComponent("doubleGoldUI").iniNode()):cc.loader.loadRes("prefabs/UI/doubleGoldUI",cc.Prefab,function(n,o){(t=cc.instantiate(o)).parent=e.UINodeGroup,t.getComponent("doubleGoldUI").iniNode()})},createEggUI:function(e){var t=null;this.eggUINodePool.size()>0?((t=this.eggUINodePool.get()).parent=e,t.getComponent("eggUI").iniNode()):cc.loader.loadRes("prefabs/UI/eggUI",cc.Prefab,function(n,o){(t=cc.instantiate(o)).parent=e,t.getComponent("eggUI").iniNode()})},createGameOverUI:function(){var e=this,t=null;this.gameOverUINodePool.size()>0?((t=this.gameOverUINodePool.get()).parent=this.UINodeGroup,t.getComponent("gameOverUI").iniNode()):cc.loader.loadRes("prefabs/UI/gameOverUI",cc.Prefab,function(n,o){(t=cc.instantiate(o)).parent=e.UINodeGroup,t.getComponent("gameOverUI").iniNode()})},createMoneyUI:function(e){var t=null;this.moneyUINodePool.size()>0?((t=this.moneyUINodePool.get()).parent=e,t.getComponent("moneyUI").iniNode()):cc.loader.loadRes("prefabs/UI/moneyUI",cc.Prefab,function(n,o){(t=cc.instantiate(o)).parent=e,t.getComponent("moneyUI").iniNode()})},createNewPropUI:function(e,t){var n=this,o=null;this.propUINodePool.size()>0?((o=this.propUINodePool.get()).parent=this.UINodeGroup,o.getComponent("newPropUI").iniNode(e,t)):cc.loader.loadRes("prefabs/UI/newPropUI",cc.Prefab,function(i,a){(o=cc.instantiate(a)).parent=n.UINodeGroup,o.getComponent("newPropUI").iniNode(e,t)})},createOptionUI:function(){var e=this,t=null;this.optionUINodePool.size()>0?((t=this.optionUINodePool.get()).parent=this.UINodeGroup,t.getComponent("optionUI").iniNode()):cc.loader.loadRes("prefabs/UI/optionUI",cc.Prefab,function(n,o){(t=cc.instantiate(o)).parent=e.UINodeGroup,t.getComponent("optionUI").iniNode()})},createShopUI:function(e){var t=null;this.shopUINodePool.size()>0?((t=this.shopUINodePool.get()).parent=e,t.getComponent("shopUI").iniNode()):cc.loader.loadRes("prefabs/UI/shopUI",cc.Prefab,function(n,o){(t=cc.instantiate(o)).parent=e,t.getComponent("shopUI").iniNode()})},createFishUI:function(e){var t=null;this.fishUINodePool.size()>0?((t=this.fishUINodePool.get()).parent=e,t.getComponent("fishUI").iniNode()):cc.loader.loadRes("prefabs/UI/fishUI",cc.Prefab,function(n,o){(t=cc.instantiate(o)).parent=e,t.getComponent("fishUI").iniNode()})},createMoreSkillUI:function(){var e=this,t=null;this.moreSkillUINodePool.size()>0?((t=this.moreSkillUINodePool.get()).parent=this.UINodeGroup,t.getComponent("moreSkillUI").iniNode()):cc.loader.loadRes("prefabs/UI/moreSkillUI",cc.Prefab,function(n,o){(t=cc.instantiate(o)).parent=e.UINodeGroup,t.getComponent("moreSkillUI").iniNode()})},createTipsUI:function(e){var t=this,n=null;this.tipsUINodePool.size()>0?((n=this.tipsUINodePool.get()).parent=this.UINodeGroup,n.getComponent("tipsUI").iniNode(e)):cc.loader.loadRes("prefabs/UI/tipsUI",cc.Prefab,function(o,i){(n=cc.instantiate(i)).parent=t.UINodeGroup,n.getComponent("tipsUI").iniNode(e)})},createGiftCenterTipsUI:function(){var e=this,t=null;cc.loader.loadRes("prefabs/UI/giftCenterTipsUI",cc.Prefab,function(n,o){(t=cc.instantiate(o)).parent=e.UINodeGroup,t.getComponent("giftCenterTipsUI").iniNode()})},createRewardEffect:function(e,t,n,o){var i,a,s,c,r=this;t.parent&&n.parent?(s=t.parent.convertToWorldSpaceAR(t.position),c=n.parent.convertToWorldSpaceAR(n.position),i=this.UINodeGroup.convertToNodeSpaceAR(s),a=this.UINodeGroup.convertToNodeSpaceAR(c)):(i=cc.v2(0,0),a=cc.v2(480,750));o>=30&&(o=30);var l="prefabs/rewardProp/"+e;cc.loader.loadRes(l,cc.Prefab,function(e,t){if(e)cc.log(e);else for(var n=t,s=function(e){var t=Math.random()>.5?1:-1,o=Math.floor(Math.random()*(200*t)+i.x),s=Math.floor(Math.random()*(200*t)+i.y),c=a.sub(i).mag(),l=cc.instantiate(n);l.parent=r.UINodeGroup,cc.tween(l).to(.2,{position:cc.v2(o,s)}).call(function(){cc.tween(l).to(c/800+e/50,{position:a},{easing:"sineOut"}).call(function(){cc.log("score\u9500\u6bc1"),l.destroy()}).start()}).start()},c=0;c<o;c++)s(c)})},createUpTreaSureBoxUI:function(){var e=this,t=null;this.upTreaSureBoxUINodePool.size()>0?((t=this.upTreaSureBoxUINodePool.get()).parent=this.UINodeGroup,t.getComponent("upTreaSureBoxUI").iniNode()):cc.loader.loadRes("prefabs/UI/upTreaSureBoxUI",cc.Prefab,function(n,o){(t=cc.instantiate(o)).parent=e.UINodeGroup,t.getComponent("upTreaSureBoxUI").iniNode()})},createGiftCenterUI:function(){var e=this,t=null;cc.loader.loadRes("prefabs/UI/giftCenterUI",cc.Prefab,function(n,o){(t=cc.instantiate(o)).parent=e.UINodeGroup,t.getComponent("giftCenterUI").iniNode()})},createNoviceGuideUI:function(e){var t=this,n=null;cc.loader.loadRes("prefabs/UI/noviceGuideUI",cc.Prefab,function(o,i){(n=cc.instantiate(i)).parent=t.UINodeGroup,n.getComponent("noviceGuideUI").iniNode(e)})},createGameSzTips:function(){var e=this,t=null;cc.loader.loadRes("prefabs/prop/gameSzTips",cc.Prefab,function(n,o){(t=cc.instantiate(o)).parent=e.UINodeGroup,t.getComponent("gameSzTips").iniNode()})},createSigninUI:function(){var e=this,t=null;cc.loader.loadRes("prefabs/UI/signInUI",cc.Prefab,function(n,o){(t=cc.instantiate(o)).parent=e.UINodeGroup,t.getComponent("signInUI").iniNode()})},createGetRewardUI:function(e,t){var n=this,o=null;this.getRewardUINodePool.size()>0?((o=this.getRewardUINodePool.get()).parent=this.UINodeGroup,o.getComponent("getRewardUI").iniNode(e,t)):cc.loader.loadRes("prefabs/UI/getRewardUI",cc.Prefab,function(i,a){(o=cc.instantiate(a)).parent=n.UINodeGroup,o.getComponent("getRewardUI").iniNode(e,t)})},createLotteryUI:function(){var e=this,t=null;this.lotteryUINodePool.size()>0?((t=this.lotteryUINodePool.get()).parent=this.UINodeGroup,t.getComponent("lotteryUI").iniNode()):cc.loader.loadRes("prefabs/UI/lotteryUI",cc.Prefab,function(n,o){(t=cc.instantiate(o)).parent=e.UINodeGroup,t.getComponent("lotteryUI").iniNode()})},createTapeShareUI:function(e){var t=this,n=null;cc.loader.loadRes("prefabs/UI/tapeShareUI",cc.Prefab,function(o,i){(n=cc.instantiate(i)).parent=t.UINodeGroup,n.getComponent("tapeShareUI").iniNode(e)})},autoNodeKill:function(){for(var e=this.UINodeGroup.children.length-1;e>=0;e--)this.onNodeKill(this.UINodeGroup.children[e])},onNodeKill:function(e){switch(e.name){case"upTreaSureBoxUI":this.upTreaSureBoxUINodePool.put(e);break;case"tipsUI":this.tipsUINodePool.put(e);break;case"shopUI":this.shopUINodePool.put(e);break;case"optionUI":this.optionUINodePool.put(e);break;case"commonUI":this.commonUINodePool.put(e);break;case"newPropUI":this.propUINodePool.put(e);break;case"doubleGoldUI":this.doubleGoldUINodePool.put(e);break;case"gameOverUI":this.gameOverUINodePool.put(e);break;case"moneyUI":this.moneyUINodePool.put(e);break;case"eggUI":this.eggUINodePool.put(e);break;case"fishUI":this.fishUINodePool.put(e);break;case"giftBoxUI":this.giftBoxUINodePool.put(e);break;case"moreSkillUI":this.moreSkillUINodePool.put(e);break;case"getRewardUI":this.getRewardUINodePool.put(e);break;case"lotterUI":this.lotteryUINodePool.put(e);break;default:return cc.log("\u672a\u6b63\u786e\u56de\u6536\u7684\u8282\u70b9",e.name),void e.destroy()}cc.log(e.name,"\u653e\u5165\u8282\u70b9\u6c60")},onLoad:function(){cc.game.addPersistRootNode(this.node),this.UINodeGroup=cc.find("ctrlNode/UINodeGroup"),this.UINodeGroup.zIndex=100,this.iniUINodePool(),this.homeCacheArr=[]},start:function(){}}),cc._RF.pop()},{}],gameSzTips:[function(e,t,n){"use strict";cc._RF.push(t,"8332eiyaVBMMJ2Bnz80c91Q","gameSzTips"),cc.Class({extends:cc.Component,properties:{},iniNode:function(){var e=this;this.scheduleOnce(function(){e.node.destroy()},5)},start:function(){}}),cc._RF.pop()},{}],getRewardUI:[function(e,t,n){"use strict";cc._RF.push(t,"29005opzZZJu7oQLpuN4a9B","getRewardUI");var o=e("userData"),i=e("fx"),a=e("cache");cc.Class({extends:cc.Component,properties:{iconSprite:cc.Sprite,rewardCountLabel:cc.Label,lockedNode:cc.Node,exitNode:cc.Node,centerNode:cc.Node},onToggleBtnClick:function(){this.soundCtrl.playSoundEffect("btnClick"),"ad"==this.getType?(this.getType="free",this.lockedNode.active=!1):(this.getType="ad",this.lockedNode.active=!0)},setSprite:function(e){var t=this,n="";switch(e){case"crystla":n="texture/getReward/getCrystla";break;case"smallGold":n="texture/getReward/getSmallGold";break;case"bigGold":n="texture/getReward/getBigGold";break;case"bubbleGold":n="texture/getReward/getBubble";break;case"score":n="texture/getReward/getScore"}cc.loader.loadRes(n,cc.SpriteFrame,function(e,n){e&&cc.log(e),t.iconSprite.spriteFrame=n})},iniNode:function(e,t){this.gameScene=cc.find("ctrlNode").getComponent("gameScene"),this.adCtrl=cc.find("ctrlNode").getComponent("adCtrl"),this.soundCtrl=cc.find("ctrlNode").getComponent("soundCtrl"),this.soundCtrl.playSoundEffect("getProp"),this.rewardType=e,this.rewardCount=t,this.setSprite(e),this.rewardCountLabel.string="x"+i.unitConversion(t),this.centerNode.scale=0,this.getType="free",this.lockedNode.active=!0,this.exitNode.y=-420,cc.tween(this.centerNode).to(.2,{scale:1},{easing:"backOut"}).start(),this.adCtrl.showBannerAd()},onExit:function(){var e=this;this.soundCtrl.playSoundEffect("exit"),this.adCtrl.hideBannerAd(),this.getReward(),cc.tween(this.centerNode).to(.1,{scale:0}).call(function(){e.gameScene.onNodeKill(e.node)}).start()},getReward:function(){var e,t,n;switch(e=a.goldIconNode,t=a.crystlaNode,n=a.bubbleGoldNode,isNaN(this.rewardCount)&&(this.rewardCount=0),this.rewardType){case"crystla":o.crystla+=this.rewardCount,this.gameScene.createRewardEffect("rewardCrystla",this.node,t,this.rewardCount);break;case"smallGold":case"bigGold":o.gold+=this.rewardCount,this.gameScene.createRewardEffect("rewardGold",this.node,e,this.rewardCount);break;case"score":o.cumScore+=this.rewardCount,this.gameScene.createRewardEffect("rewardScore",this.node,e,this.rewardCount);break;case"tapeScore":o.cumScore+=this.rewardCount,this.gameScene.createRewardEffect("rewardScore",this.node,a.gameOverEgg,this.rewardCount);break;case"bubbleGold":o.bubbleGold+=this.rewardCount,this.gameScene.createRewardEffect("rewardBubble",this.node,n,this.rewardCount)}},videoJudge:function(){var e=this;this.schedule(function t(){1==e.adCtrl.rewardState&&e.adCtrl.rewardTag==e.rewardType?(e.unschedule(t),e.adCtrl.iniReward(),e.rewardCount*=2,e.rewardCountLabel.string="x"+i.unitConversion(e.rewardCount),e.getType="free",e.onExit()):0==e.adCtrl.rewardState&&null==e.adCtrl.rewardTag&&e.unschedule(t)},.2)},start:function(){}}),cc._RF.pop()},{cache:"cache",fx:"fx",userData:"userData"}],giftBoxUI:[function(e,t,n){"use strict";cc._RF.push(t,"d4c9eSd1MhBu6zH3h7Flnya","giftBoxUI");var o=a(e("userData")),i=a(e("cache"));function a(e){return e&&e.__esModule?e:{default:e}}e("config");var s=e("fx");cc.Class({extends:cc.Component,properties:{giftBoxAnim:cc.Animation,exitBtnNode:cc.Node,centerNode:cc.Node,progressBar:cc.ProgressBar,bgNode:cc.Node,bottomNode:cc.Node,rewardGroup:cc.Node,rewardScoreLabel:cc.Label,blinkNode:cc.Node},iniNode:function(){var e=this;this.gameScene=cc.find("ctrlNode").getComponent("gameScene"),this.soundCtrl=cc.find("ctrlNode").getComponent("soundCtrl"),this.giftBoxAnim.play("giftBoxIdle"),this.exitBtnNode.active=!1,this.centerNode.scale=0,this.progressBar.progress=0,this.bgNode.opacity=155,this.bottomNode.scale=0,this.bottomNode.active=!0,this.giftBoxAnim.node.active=!0,this.rewardGroup.active=!1,this.blinkNode.active=!1,this.progressBar.node.active=!0,this.needProgress=Math.random()+.3,this.needProgress>1&&(this.needProgress=1),this.scheduleOnce(function(){e.exitBtnNode.active=!0},3),cc.tween(this.centerNode).to(.4,{scale:1},{easing:"backOut"}).start(),cc.tween(this.bottomNode).delay(.4).to(.4,{scale:1},{easing:"backOut"}).start(),this.iniState=!0},onYellowBtnClick:function(){this.soundCtrl.playSoundEffect("btnClick"),this.progressBar.progress+=.2},onExitBtnClick:function(){this.exit()},exit:function(){var e=this;this.soundCtrl.playSoundEffect("exit"),cc.tween(this.bgNode).to(.2,{opacity:0},{easing:"sineIn"}).start(),cc.tween(this.bottomNode).to(.2,{scale:0},{easing:"sineIn"}).start(),cc.tween(this.centerNode).delay(.2).to(.2,{scale:0},{easing:"sineIn"}).call(function(){if(0==e.iniState){var t=Math.floor(10*e.needProgress);e.gameScene.createRewardEffect("rewardScore",e.rewardGroup,i.default.gameOverEgg,t),i.default.gameOverUI.iniData(),s.save()}e.gameScene.onNodeKill(e.node)}).start()},getRewardScore:function(){this.bottomNode.active=!1,this.progressBar.node.active=!1,this.giftBoxAnim.node.active=!1,this.rewardGroup.active=!0,this.blinkNode.opacity=255,this.blinkNode.active=!0,this.soundCtrl.playSoundEffect("getProp");var e=Math.floor(o.default.nowScore*this.needProgress*.5)+1;o.default.cumScore+=e,this.rewardScoreLabel.string="\u989d\u5916\u5206\u6570+"+e,cc.tween(this.blinkNode).to(.4,{opacity:255},{easing:"sineOut"}).to(.4,{opacity:0}).start(),s.save()},start:function(){},update:function(e){this.iniState&&(this.progressBar.progress>=this.needProgress&&(this.iniState=!1,this.getRewardScore(),cc.log("\u83b7\u5f97\u5956\u52b1")),this.progressBar.progress>=0&&(this.progressBar.progress-=.015))}}),cc._RF.pop()},{cache:"cache",config:"config",fx:"fx",userData:"userData"}],giftCenterTipsUI:[function(e,t,n){"use strict";cc._RF.push(t,"48bb1hplN5Kybjh1zpIzVih","giftCenterTipsUI"),cc.Class({extends:cc.Component,properties:{bgNode:cc.Node,centerNode:cc.Node},iniNode:function(){this.centerNode.scale=0,this.bgNode.opacity=0,cc.tween(this.bgNode).to(.2,{opacity:175}).start(),cc.tween(this.centerNode).to(.2,{scale:1},{easing:"backOut"}).start()},onTouchExit:function(){var e=this;cc.tween(this.bgNode).to(.1,{opacity:175}).start(),cc.tween(this.centerNode).to(.1,{scale:0}).call(function(){e.node.destroy()}).start()},start:function(){}}),cc._RF.pop()},{}],giftCenterUI:[function(e,t,n){"use strict";cc._RF.push(t,"57c46KbWl1F/aPPY6exwlFi","giftCenterUI");var o=function(e){return e&&e.__esModule?e:{default:e}}(e("userData"));var i=e("config");cc.Class({extends:cc.Component,properties:{btnArr:[cc.Node],bgNode:cc.Node,centerNode:cc.Node},iniNode:function(){this.homeRules=cc.find("Canvas").getComponent("homeRules"),this.gameScene=cc.find("ctrlNode").getComponent("gameScene"),this.soundCtrl=cc.find("ctrlNode").getComponent("soundCtrl"),this.adCtrl=cc.find("ctrlNode").getComponent("adCtrl"),this.adCtrl.showBannerAd(),this.bgNode.opacity=0,this.centerNode.y=2095,cc.tween(this.bgNode).to(.4,{opacity:175},{easing:"sineIn"}).start(),cc.tween(this.centerNode).to(.4,{y:0},{easing:"backOut"}).start(),this.setBtnState()},setSprite:function(e,t){var n="texture/prop/"+t;cc.loader.loadRes(n,cc.SpriteFrame,function(t,n){e.getComponent(cc.Sprite).spriteFrame=n})},setBtnState:function(){0==o.default.giftCenter.myGame?(this.setSprite(this.btnArr[0],"goBtn"),this.btnArr[0].getComponent(cc.Button).interactable=!0):(this.setSprite(this.btnArr[0],"completedBtn"),this.btnArr[0].getComponent(cc.Button).interactable=!1),0==o.default.giftCenter.colorSign?(this.setSprite(this.btnArr[1],"goBtn"),this.btnArr[1].getComponent(cc.Button).interactable=!0):(this.setSprite(this.btnArr[1],"completedBtn"),this.btnArr[1].getComponent(cc.Button).interactable=!1),0==o.default.giftCenter.subscription?(this.setSprite(this.btnArr[2],"goBtn"),this.btnArr[2].getComponent(cc.Button).interactable=!0):(this.setSprite(this.btnArr[2],"completedBtn"),this.btnArr[2].getComponent(cc.Button).interactable=!1),0==o.default.giftCenter.todayVideo?(this.setSprite(this.btnArr[3],"goBtn"),this.btnArr[3].getComponent(cc.Button).interactable=!0):(this.setSprite(this.btnArr[3],"completedBtn"),this.btnArr[3].getComponent(cc.Button).interactable=!1),o.default.giftCenter.todayShare<1?(this.setSprite(this.btnArr[4],"goBtn"),this.btnArr[4].getComponent(cc.Button).interactable=!0):(this.setSprite(this.btnArr[4],"completedBtn"),this.btnArr[4].getComponent(cc.Button).interactable=!1)},addColorSign:function(){tt.addColorSign({succes:function(){},fail:function(){self.gameScene.createTipsUI("addFail")},complete:function(){}}),this.colorSignJudge()},colorSignJudge:function(){var e=this,t=0;this.schedule(function n(){tt.isColorSignExistSync()?(e.unschedule(n),e.gameScene.createGetRewardUI("smallGold",i.addColorSign),o.default.giftCenter.colorSign=1,e.setBtnState()):(t+=.2)>=20&&e.unschedule(n)},.2)},subscription:function(){},todayShare:function(){this.type="todyShare",this.adCtrl.manualShare(this.type),this.shareJudge()},todayVideo:function(){this.type="todayVideo",this.adCtrl.showVideoAd(this.type),this.videoJudgee()},shareJudge:function(){var e=this;this.schedule(function t(){1==e.adCtrl.rewardState&&e.adCtrl.rewardTag==e.type?(e.unschedule(t),e.adCtrl.iniReward(),e.gameScene.createGetRewardUI("smallGold",i.todayVideo),o.default.giftCenter.todayShare=1,e.setBtnState()):0==e.adCtrl.rewardState&&null==e.adCtrl.rewardTag&&e.unschedule(t)},.2)},videoJudgee:function(){var e=this;this.schedule(function t(){1==e.adCtrl.rewardState&&e.adCtrl.rewardTag==e.type?(e.unschedule(t),e.adCtrl.iniReward(),e.gameScene.createGetRewardUI("smallGold",i.todayVideo),o.default.giftCenter.todayVideo=1,e.setBtnState()):0==e.adCtrl.rewardState&&null==e.adCtrl.rewardTag&&e.unschedule(t)},.2)},onBtnClick:function(e,t){if(this.soundCtrl.playSoundEffect("btnClick"),"undefined"!=typeof tt)switch(t){case"myGame":this.gameScene.createGiftCenterTipsUI();break;case"colorSign":this.addColorSign();break;case"subscription":this.subscription();break;case"todayVideo":this.todayVideo();break;case"todayShare":this.todayShare()}},onExitBtnClick:function(){var e=this;this.soundCtrl.playSoundEffect("exit"),this.adCtrl.hideBannerAd(),cc.tween(this.bgNode).to(.4,{opacity:0},{easing:"sineIn"}).start(),cc.tween(this.centerNode).to(.4,{y:2095},{easing:"backIn"}).call(function(){e.node.destroy()}).start()},start:function(){}}),cc._RF.pop()},{config:"config",userData:"userData"}],gunFishTips:[function(e,t,n){"use strict";cc._RF.push(t,"642b7BV17pH1K2OuMPP8VlC","gunFishTips");var o=function(e){return e&&e.__esModule?e:{default:e}}(e("cache"));cc.Class({extends:cc.Component,properties:{},iniNode:function(){this.soundCtrl.playSoundEffect("gunFishTips"),this.gunFish=o.default.gunFish,o.default.gunFishTips=this.node,this.node.y=0,this.node.scale=0,cc.tween(this.node).to(.2,{scale:2}).to(.2,{scale:.5}).to(.2,{scale:1}).start(),this.iniState=!0},onLoad:function(){this.createScene=cc.find("Canvas").getComponent("createScene"),this.gameRules=cc.find("Canvas").getComponent("gameRules"),this.soundCtrl=cc.find("ctrlNode").getComponent("soundCtrl"),this.playerNode=cc.find("Canvas/player"),this.mainCamera=cc.find("Canvas/Main Camera").getComponent(cc.Camera)},start:function(){},update:function(e){if(this.iniState)if(this.gunFish.position.x>=this.playerNode.position.x){this.node.opacity=255;var t=this.gunFish.y-this.playerNode.y;this.node.y=t,this.node.y>=667&&(this.node.y=667),this.node.y<=-667&&(this.node.y=-667)}else this.node.destroy()}}),cc._RF.pop()},{cache:"cache"}],homeRules:[function(e,t,n){"use strict";cc._RF.push(t,"532b0NsSOJEYYJf+YI+2/jf","homeRules");var o=s(e("userData")),i=s(e("fx")),a=s(e("cache"));function s(e){return e&&e.__esModule?e:{default:e}}var c=1,r=0;cc.Class({extends:cc.Component,properties:{bottomNode:cc.Node,logoNode:cc.Node,blinkNode:cc.Node,click_button_array:[cc.Node],goldLabel:cc.Label,goldIconNode:cc.Node,optionBtnNode:cc.Node,esayModelNode:cc.Node,normalModelNode:cc.Node},playerLogin:function(){0==o.default.loginDate?(o.default.loginDate=(new Date).getDate(),o.default.loginTime=(new Date).getTime(),o.default.getOfflineGoldTime=(new Date).getTime()):o.default.loginDate!==(new Date).getDate()&&(o.default.giftCenter.todayVideo=0,o.default.giftCenter.todayShare=0,o.default.giftCenter.todaySignIn=0,o.default.giftCenter.lotteryCount=0,o.default.giftCenter.todayVideoCount=0,o.default.giftCenter.getBigCrystla=0,o.default.loginDate=(new Date).getDate()),0==o.default.giftCenter.todaySignIn&&1!==o.default.sevenDaySignIn[6]&&this.gameScene.createSigninUI()},blinkAnim:function(){this.blinkNode.active=!0,cc.tween(this.blinkNode).to(1.5,{opacity:0},{easing:"sineIn"}).start()},preLoadScene:function(){this.scheduleOnce(function(){cc.director.preloadScene("gameScene"),cc.director.preloadScene("oceanScene")},2)},updateGoldSch:function(){var e=this;this.schedule(function(){e.updateGoldAnimState!=c&&(e.goldLabel.string=o.default.gold)},1)},updateGold:function(e){var t=this,n=10,i=o.default.gold;if(this.updateGoldAnimState==c)return o.default.gold+=e,void(this.goldLabel.string=o.default.gold);this.schedule(function a(){t.updateGoldAnimState=c;var s=parseInt(e/n);n--,t.goldLabel.string=i+s,n<=0&&(t.updateGoldAnimState=r,o.default.gold+=e,o.default.gold<0&&(o.default.gold=0),t.goldLabel.string=o.default.gold,t.unschedule(a))},.03)},getHaveFish:function(){for(var e=Object.keys(o.default.fishArr),t=o.default.haveFishArr,n=0;n<e.length;n++)1==o.default.fishArr[n].have&&(o.default.ocean.fish[n].have=1,t.push(n));t.sort(function(e,t){return e-t});for(var i=0;i<t.length;i++)t[i]==t[i+1]&&t.splice(i,1);o.default.haveFishArr=t,cc.log(t,"\u7528\u6237\u62e5\u6709\u7684\u9c7c")},onGameModelBtnClick:function(e,t){var n=this;switch(t){case"easyModel":this.gameScene.autoNodeKill(),this.blinkAnim(),this.scheduleOnce(function(){n.soundCtrl.stopSound(),cc.director.loadScene("oceanScene")},1);break;case"normalModel":this.gameScene.autoNodeKill(),this.blinkAnim(),this.scheduleOnce(function(){n.soundCtrl.stopSound(),cc.director.loadScene("gameScene")},1)}},playLogoAnim:function(){var e=this.logoNode.getComponent(cc.Animation);e.play("logoStart"),e.on("finished",function(t,n){"logoStart"==n.name&&e.play("logoIdle")},this)},iniAnim:function(){this.playLogoAnim();var e=0;cc.tween(this.esayModelNode).delay(e+=.2).to(.3,{scale:1},{easing:"backOut"}).start(),cc.tween(this.normalModelNode).delay(e+=.2).to(.3,{scale:1},{easing:"backOut"}).start(),cc.tween(this.bottomNode).delay(e+=.2).to(.3,{scale:1},{easing:"backOut"}).start()},autoClickBtn:function(){if(a.default.backHomeType){switch(a.default.backHomeType){case"normal":break;case"egg":this.buttonEvents.onEggBtnClick();break;case"fish":this.buttonEvents.onFishBtnClick();break;case"shop":this.buttonEvents.onShopBtnClick();break;case"money":this.buttonEvents.onMoneyBtnClick()}a.default.backHomeType=null}},preLoadPlayerFish:function(){cc.loader.loadResDir("prefabs/player",function(e,t,n){},function(e,t){cc.log("\u73a9\u5bb6\u9c7c\u5df2\u9884\u52a0\u8f7d")})},preLoadOceanSceneUI:function(){cc.loader.loadResDir("ocean/prefabs/UI",function(e,t,n){},function(e,t){cc.log("\u6d77\u6d0bUI\u5df2\u9884\u52a0\u8f7d")})},loadMoreUI:function(){var e=cc.find("Canvas/UINodeGroup");this.gameScene.createEggUI(e),this.gameScene.createFishUI(e),this.gameScene.createMoneyUI(e),this.gameScene.createShopUI(e)},launchGameReward:function(){var e=this;3003==this.adCtrl.launchScene&&0==o.default.giftCenter.myGame&&this.scheduleOnce(function(){o.default.giftCenter.myGame=1,cc.log("\u53d1\u653e\u6dfb\u52a0\u5230\u5c0f\u7a0b\u5e8f\u5956\u52b1"),e.gameScene.createGetRewardUI("crystla",5),e.gameScene.createTipsUI("addMyGmaeSucces")},1.5)},onTapeShareBtnClick:function(){if(((new Date).getTime()-this.adCtrl.tapeStartTime)/1e3<3)return console.log("\u5f55\u5c4f\u65f6\u95f4\u5c0f\u4e8e3\u79d2"),void this.gameScene.createTipsUI("tapeNoTime");this.gameScene.createTapeShareUI("homeScene")},iniNode:function(){var e=this;a.default.goldIconNode=this.goldIconNode,a.default.crystlaNode=this.optionBtnNode,a.default.bubbleGoldNode=this.goldIconNode,this.mainCamera=cc.find("Canvas/Main Camera"),this.logoNode.scale=0,this.bottomNode.scale=0,this.blinkNode.active=!1,this.blinkNode.opacity=255,this.esayModelNode.scale=0,this.normalModelNode.scale=0,this.updateGoldAnim=r,this.iniAnim(),this.goldLabel.string=o.default.gold,this.buttonEvents=this.node.getComponent("buttonEvents"),this.getHaveFish(),this.playerLogin(),this.scheduleOnce(function(){e.buttonEvents.iniNode(),e.buttonEvents.onGameBtnClick(),e.autoClickBtn()},.2),this.updateGoldSch(),this.adCtrl.tapeStart()},onLoad:function(){i.default.load(),this.gameScene=cc.find("ctrlNode").getComponent("gameScene"),this.soundCtrl=cc.find("ctrlNode").getComponent("soundCtrl"),this.adCtrl=cc.find("ctrlNode").getComponent("adCtrl"),this.soundCtrl.playBgSound("homeBgSound"),this.iniNode()},start:function(){this.loadMoreUI(),this.preLoadScene(),this.preLoadPlayerFish(),this.preLoadOceanSceneUI(),this.launchGameReward()},update:function(e){}}),cc._RF.pop()},{cache:"cache",fx:"fx",userData:"userData"}],itemUI:[function(e,t,n){"use strict";cc._RF.push(t,"02291I5TtRA1KD6R5ZSQ/fK","itemUI");var o=a(e("ocConfig")),i=a(e("userData"));function a(e){return e&&e.__esModule?e:{default:e}}var s=e("fx");cc.Class({extends:cc.Component,properties:{iconSprite:cc.Sprite,nameLabel:cc.Label,btnSrite:cc.Sprite,btnLabel:cc.Label,costLabel:cc.Label,produceLabel:cc.Label,progressBar:cc.ProgressBar},dynamicSprite:function(e){var t="";switch(this.type){case"stone":t="ocean/texture/stone/"+this.index;break;case"decorate":t="ocean/texture/decorate/"+this.index;break;case"fish":t="ocean/texture/fish/"+this.index}cc.loader.loadRes(t,cc.SpriteFrame,function(t,n){e.spriteFrame=n})},dynimacBtnSprite:function(e,t){var n="ocean/texture/"+t;cc.loader.loadRes(n,cc.SpriteFrame,function(t,n){e.spriteFrame=n})},iniBtn:function(){var e=i.default.ocean[this.type][this.index].have;switch(this.type){case"stone":case"decorate":0==e?(this.dynimacBtnSprite(this.btnSrite,"unLockBtn"),this.btnLabel.string="\u89e3\u9501"):(this.dynimacBtnSprite(this.btnSrite,"levelUpBtn"),this.btnLabel.string="\u5347\u7ea7");break;case"fish":0==e?this.btnSrite.node.active=!1:(this.btnSrite.node.active=!0,this.dynimacBtnSprite(this.btnSrite,"levelUpBtn"),this.btnLabel.string="\u5347\u7ea7")}},iniData:function(){var e=i.default.ocean[this.type][this.index].have,t=i.default.ocean[this.type][this.index].level;this.nameLabel.string=o.default[this.type][this.index].name,this.costLabel.string=s.unitConversion(o.default[this.type][this.index].cost),t>=o.default.decorateMaxLevel&&(this.btnSrite.node.active=!1);var n=o.default[this.type][this.index].baseProduce,a=o.default.produceFactor[this.type],c=Math.round(n*Math.pow(a,t));this.produceLabel.string="\u989d\u5916\u4ea7\u51fa\u6c14\u6ce1"+s.unitConversion(c)+"/s";var r=0;switch(this.type){case"stone":case"decorate":if(0==e)this.unLockCost=o.default[this.type][this.index].unLockCost,this.costLabel.string=s.unitConversion(this.unLockCost);else{r=o.default[this.type][this.index].levelUpCost;var l=o.default.costFactor[this.type];this.levelUpCost=Math.round(r*Math.pow(l,t)),this.costLabel.string=s.unitConversion(this.levelUpCost)}break;case"fish":if(0==e);else{r=o.default[this.type][this.index].levelUpCost;var d=o.default.costFactor[this.type];this.levelUpCost=Math.round(r*Math.pow(d,t)),this.costLabel.string=s.unitConversion(this.levelUpCost)}}this.progressBar.progress=t/o.default.decorateMaxLevel,0!=e&&(i.default.bubbleGold>=this.levelUpCost?this.btnSrite.node.getComponent(cc.Button).interactable=!0:this.btnSrite.node.getComponent(cc.Button).interactable=!1)},updateData:function(){var e=this;this.schedule(function(){e.iniData()},.2)},onBtnClick:function(){var e=i.default.ocean[this.type][this.index].have;switch(this.type){case"stone":0==e?i.default.bubbleGold>=this.unLockCost?(this.soundCtrl.playSoundEffect("btnClick"),cc.log("createStone"),this.oceanRules.updateBubbleGold(-this.unLockCost),i.default.ocean[this.type][this.index].have=1,this.oceanScene.createStone(this.index),this.iniBtn(),this.gameScene.createTipsUI("unLockSceneSucces")):(this.soundCtrl.playSoundEffect("noMoney"),this.gameScene.createTipsUI("noBubbleGold")):i.default.bubbleGold>=this.levelUpCost?(this.soundCtrl.playSoundEffect("btnClick"),this.oceanRules.updateBubbleGold(-this.levelUpCost),i.default.ocean[this.type][this.index].level++):(this.soundCtrl.playSoundEffect("noMoney"),this.gameScene.createTipsUI("noBubbleGold"));break;case"decorate":0==e?i.default.bubbleGold>=this.unLockCost?(this.soundCtrl.playSoundEffect("btnClick"),this.oceanRules.updateBubbleGold(-this.unLockCost),i.default.ocean[this.type][this.index].have=1,this.oceanScene.createDecorate(this.index),this.iniBtn(),this.gameScene.createTipsUI("unLockSceneSucces")):(this.soundCtrl.playSoundEffect("noMoney"),this.gameScene.createTipsUI("noBubbleGold")):i.default.bubbleGold>=this.levelUpCost?(this.soundCtrl.playSoundEffect("btnClick"),this.oceanRules.updateBubbleGold(-this.levelUpCost),i.default.ocean[this.type][this.index].level++):(this.soundCtrl.playSoundEffect("noMoney"),this.gameScene.createTipsUI("noBubbleGold"));break;case"fish":i.default.bubbleGold>=this.levelUpCost?(this.soundCtrl.playSoundEffect("btnClick"),this.oceanRules.updateBubbleGold(-this.levelUpCost),i.default.ocean[this.type][this.index].level++):(this.soundCtrl.playSoundEffect("noMoney"),this.gameScene.createTipsUI("noBubbleGold"))}},iniNode:function(e,t){this.oceanRules=cc.find("Canvas").getComponent("oceanRules"),this.oceanScene=cc.find("Canvas").getComponent("oceanScene"),this.gameScene=cc.find("ctrlNode").getComponent("gameScene"),this.soundCtrl=cc.find("ctrlNode").getComponent("soundCtrl"),this.type=e,this.index=t,this.dynamicSprite(this.iconSprite),this.iniBtn(),this.iniData()},start:function(){this.updateData()}}),cc._RF.pop()},{fx:"fx",ocConfig:"ocConfig",userData:"userData"}],joyStick:[function(e,t,n){"use strict";cc._RF.push(t,"2bee0dNaoJLUbqG3hiSwyQp","joyStick");var o=1,i=0;cc.Class({extends:cc.Component,properties:{maxRadius:200,uiCameraNode:{type:cc.Node,default:null},touchNode:{type:cc.Node,default:null},watchStickNode:cc.Node},joyStickMove:function(e){this.moveState=o;var t=e.getLocation(),n=this.uiCameraNode.getComponent(cc.Camera).getScreenToWorldPoint(t),i=this.node.parent.convertToNodeSpaceAR(n),a=i.mag();this.dir.x=i.x/a,this.dir.y=i.y/a,a>this.maxRadius&&(i.x=i.x*this.maxRadius/a,i.y=i.y*this.maxRadius/a),this.node.setPosition(i),this.watchStickNode.setPosition(i)},moveEnd:function(){var e=this;cc.tween(this.node).to(1.5,{position:cc.v2(0,0)}).call(function(){e.moveState=i}).start(),cc.tween(this.watchStickNode).to(.3,{position:cc.v2(0,0)}).start()},setJoyStickPos:function(e){var t=e.getLocation(),n=cc.find("Canvas");t=this.uiCameraNode.getComponent(cc.Camera).getScreenToWorldPoint(t);var o=n.convertToNodeSpaceAR(t);this.node.parent.setPosition(o)},offTouchEvent:function(){this.moveEnd(),this.touchNode.off(cc.Node.EventType.TOUCH_START,this.setJoyStickPos,this),this.touchNode.off(cc.Node.EventType.TOUCH_MOVE,this.joyStickMove,this),this.touchNode.off(cc.Node.EventType.TOUCH_END,this.moveEnd,this),this.touchNode.off(cc.Node.EventType.TOUCH_CANCEL,this.moveEnd,this)},onTouchEvent:function(){this.dir=cc.v2(0,0),this.touchNode.on(cc.Node.EventType.TOUCH_START,this.setJoyStickPos,this),this.touchNode.on(cc.Node.EventType.TOUCH_MOVE,this.joyStickMove,this),this.touchNode.on(cc.Node.EventType.TOUCH_END,this.moveEnd,this),this.touchNode.on(cc.Node.EventType.TOUCH_CANCEL,this.moveEnd,this)},onLoad:function(){this.gameRules=cc.find("Canvas").getComponent("gameRules"),this.moveState=i},start:function(){}}),cc._RF.pop()},{}],jumbUI:[function(e,t,n){"use strict";cc._RF.push(t,"8132dOun05B37zr5MtyrP3v","jumbUI");var o=0,i=1;cc.Class({extends:cc.Component,properties:{centerNode:cc.Node,bgNode:cc.Node,redTipsNode:cc.Node},setAppid:function(e){var t=null;switch(e){case"0":t="wx4b7acfd163e9ac94";break;case"1":t="wx2d65e40cc7894824";break;case"2":t="wx33215cbe1ee93773"}return t},onGameIconClick:function(e,t){var n=this.setAppid(t);"undefined"!=typeof wx&&wx.navigateToMiniProgram({appId:n,path:"",success:function(e){}})},moreGameButtonClick:function(){var e=this;this.buttonState==o?(this.soundControl.play_sound_effect("button"),this.buttonState=i,this.redTipsNode.active=!1,this.bgNode.active=!0,cc.tween(this.centerNode).to(.3,{x:-166},{easing:"sineIn"}).start()):(this.soundControl.play_sound_effect("exit"),this.buttonState=o,cc.tween(this.centerNode).to(.3,{x:-359},{easing:"sineOut"}).call(function(){e.bgNode.active=!1}).start())},start:function(){this.buttonState=o,this.centerNode.x=-359,this.soundControl=cc.find("sound_control").getComponent("sound_control")}}),cc._RF.pop()},{}],killEffect:[function(e,t,n){"use strict";cc._RF.push(t,"f8442MjD0BLg76er62shLG6","killEffect"),cc.Class({extends:cc.Component,properties:{},iniNode:function(e,t,n){var o=this;switch(this.killEffect=this.node.getComponent(cc.ParticleSystem),this.killEffect.resetSystem(),e){case"killEnemy":this.node.setPosition(t),this.node.scale=.3*n,this.killEffect.startColor=new cc.color(255,255,255),this.killEffect.endColor=new cc.color(255,255,255);break;case"killPlayer":this.node.setPosition(t),this.node.scale=.2*this.gameRules.playerLevel,this.killEffect.startColor=new cc.color(255,255,255),this.killEffect.endColor=new cc.color(255,255,255);break;case"getGold":this.node.setPosition(t),this.node.scale=.5,this.killEffect.startColor=new cc.color(255,255,255),this.killEffect.endColor=new cc.color(255,255,255)}this.scheduleOnce(function(){o.createScene.onNodeKill(o.node)},2)},onLoad:function(){this.gameRules=cc.find("Canvas").getComponent("gameRules"),this.createScene=cc.find("Canvas").getComponent("createScene")},start:function(){}}),cc._RF.pop()},{}],levelUpEffect:[function(e,t,n){"use strict";cc._RF.push(t,"cc3dcVRa/9HKbkBkNv251fW","levelUpEffect"),cc.Class({extends:cc.Component,properties:{},iniNode:function(){var e=this;this.anim=this.node.getComponent(cc.Animation),this.anim.play("levelUp"),this.anim.once("finished",function(){cc.log("levelUpEffect destroy"),e.node.destroy()})},onLoad:function(){this.gameRules=cc.find("Canvas").getComponent("gameRules"),this.createScene=cc.find("Canvas").getComponent("createScene")},start:function(){}}),cc._RF.pop()},{}],loadingScene:[function(e,t,n){"use strict";cc._RF.push(t,"1035fehyq5J34eHiIM+tvJE","loadingScene");var o=1,i=0;cc.Class({extends:cc.Component,properties:{loadingBar:cc.ProgressBar,propgressLabel:cc.Label,waitTipsLabel:cc.Label},preLoadSubPackage:function(){var e=this;this.subPackagePath=["res","resources","ocean"],"undefined"==typeof tt?(cc.director.preloadScene("homeScene",function(t,n,o){t/n>e.loadingBar.progress&&(e.loadingBar.progress=t/n,e.propgressLabel.string="\u52a0\u8f7d\u573a\u666f~ ")},function(e,t){e?cc.log("\u52a0\u8f7d\u5931\u8d25"):(cc.director.loadScene("homeScene"),cc.log("\u52a0\u8f7d\u6210\u529f"))}),this.preLoadRes()):cc.loader.downloader.loadSubpackage(this.subPackagePath[this.packIndex],function(t){if(t)return console.error(t);console.log("load pack successfully.",e.subPackagePath[e.packIndex]),e.packIndex++,e.packIndex>=e.subPackagePath.length?e.LoadSubPackageSucce():e.preLoadSubPackage()})},LoadSubPackageSucce:function(){var e=this;this.loadPackageStat!=o&&this.packIndex>=this.subPackagePath.length&&(this.loadPackageState=o,cc.director.preloadScene("homeScene",function(e,t,n){},function(t,n){t?console.log(t,"loadScene fail"):(console.log(e.packIndex,"loadSceneSucces ,\u5168\u90e8\u5206\u5305\u52a0\u8f7d\u5b8c\u6bd5"),e.time=10,e.preLoadRes(),cc.director.loadScene("homeScene"))}))},preLoadRes:function(){cc.loader.loadResDir("prefabs/UI",function(e,t,n){},function(e,t){cc.log("UI\u5df2\u9884\u52a0\u8f7d")}),cc.loader.loadResDir("sounds",function(e,t,n){},function(e,t){cc.log("\u58f0\u97f3\u9884\u52a0\u8f7d")})},restLoadGame:function(e){this.time+=e,this.time>=15&&(this.time=0,this.restCount++,this.propgressLabel.string="\u6b63\u5728\u5c1d\u8bd5\u91cd\u65b0\u52a0\u8f7d~",this.restCount>=2&&(this.waitTipsLabel.string="\u7531\u4e8e\u7f51\u7edc\u6ce2\u52a8\u52a0\u8f7d\u5931\u8d25\uff0c\u8bf7\u6e05\u9664\u7f13\u5b58\u540e\u91cd\u65b0\u8fdb\u5165~o(\u2565\ufe4f\u2565)o~"),this.iniNode())},preLoadScene:function(){var e=this;this.preLoadRes(),cc.director.preloadScene("homeScene",function(t,n,o){t/n>e.loadingBar.progress&&(e.loadingBar.progress=t/n,e.propgressLabel.string="\u52a0\u8f7d\u573a\u666f~ ")},function(e,t){e?cc.log("\u52a0\u8f7d\u5931\u8d25"):(cc.director.loadScene("homeScene"),cc.log("\u52a0\u8f7d\u6210\u529f"))})},iniNode:function(){this.loadingBar.progress=0,this.loadSubPackState=i,this.packIndex=0,this.loadPackageState=i,this.preLoadScene()},onLoad:function(){this.time=0,this.restCount=0,this.cumTime=0,this.iniNode()},start:function(){},update:function(e){this.cumTime+=e}}),cc._RF.pop()},{}],lotteryUI:[function(e,t,n){"use strict";cc._RF.push(t,"8e11av9IeJDkZu6tnzOI83U","lotteryUI");var o=e("userData"),i=e("fx"),a=e("config");cc.Class({extends:cc.Component,properties:{centerNode:cc.Node,adIconNode:cc.Node,lotteryBody:cc.Node,tipsLabel:cc.Label},setGetType:function(){o.giftCenter.lotteryCount<a.lotteryReward.freeCount?(this.getType="free",this.adIconNode.active=!1):(this.getType="ad",this.adIconNode.active=!0);var e=a.lotteryReward.allCount-o.giftCenter.lotteryCount;e<=0&&(e=0),this.tipsLabel.string="\u4eca\u65e5\u5269\u4f59\u6b21\u6570:"+e},iniNode:function(){this.gameScene=cc.find("ctrlNode").getComponent("gameScene"),this.adCtrl=cc.find("ctrlNode").getComponent("adCtrl"),this.soundCtrl=cc.find("ctrlNode").getComponent("soundCtrl"),this.centerNode.scale=0,this.lotteryBody.angle=0,this.animState=a.animState.finished,this.setGetType(),cc.tween(this.centerNode).to(.2,{scale:1},{easing:"backOut"}).start()},setAngle:function(){this.rewardName=i.calWeight([{name:"smallGold",weight:20},{name:"smallGold",weight:20},{name:"bigGold",weight:10},{name:"smallScore",weight:20},{name:"smallScore",weight:20},{name:"bigScore",weight:10}]);var e=Math.random()>.5?1:-1;switch(this.rewardName){case"smallGold":this.animAngle=30*Math.random()*e-30-720;break;case"bigScore":this.animAngle=30*Math.random()*e-90-720;break;case"smallScore":this.animAngle=30*Math.random()*e-150-720;break;case"bigGold":this.animAngle=30*Math.random()*e-270-720}},startLottery:function(){var e=this;this.animState=a.animState.isPlaying,o.giftCenter.lotteryCount++,this.setGetType(),this.setAngle(),cc.log(this.rewardName,"\u5956\u52b1\u7269\u54c1"),this.lotteryBody.angle=0,cc.tween(this.lotteryBody).to(3,{angle:this.animAngle},{easing:"sineOut"}).call(function(){e.animState=a.animState.finished,e.getReward()}).start()},getReward:function(){var e=a.lotteryReward[this.rewardName];switch(this.rewardName){case"smallGold":this.gameScene.createGetRewardUI("smallGold",e);break;case"bigScore":case"smallScore":this.gameScene.createGetRewardUI("score",e);break;case"bigGold":this.gameScene.createGetRewardUI("bigGold",e)}i.save()},onGetBtnClick:function(){if(this.animState!==a.animState.isPlaying){if(o.giftCenter.lotteryCount>=10)return this.soundCtrl.playSoundEffect("noMoney"),void this.gameScene.createTipsUI("lotteryCountMax");this.soundCtrl.playSoundEffect("btnClick"),"free"==this.getType?this.startLottery():(this.adCtrl.showVideoAd("getCrystla"),this.videoJudge())}else this.gameScene.createTipsUI("waitLottery")},onExit:function(){var e=this;this.soundCtrl.playSoundEffect("exit"),cc.tween(this.centerNode).to(.1,{scale:0}).call(function(){e.gameScene.onNodeKill(e.node)}).start()},videoJudge:function(){var e=this;this.schedule(function t(){1==e.adCtrl.rewardState&&"getCrystla"==e.adCtrl.rewardTag?(e.unschedule(t),e.adCtrl.iniReward(),e.startLottery()):0==e.adCtrl.rewardState&&null==e.adCtrl.rewardTag&&e.unschedule(t)},.2)},start:function(){}}),cc._RF.pop()},{config:"config",fx:"fx",userData:"userData"}],moneyUI:[function(e,t,n){"use strict";cc._RF.push(t,"01f46NMY/JK7rG+IQcT4vYn","moneyUI");var o=e("userData"),i=e("config");cc.Class({extends:cc.Component,properties:{boxNode:cc.Node,upGradeBtnNode:cc.Node,boxGoldAllNode:cc.Node,growGoldNode:cc.Node,allFishNode:cc.Node},box_full:function(){var e=this.boxNode.getComponent(cc.Animation);e.getAnimationState("box_full").isPlaying||e.play("box_full")},box_idle:function(){var e=this.boxNode.getComponent(cc.Animation);e.getAnimationState("box_idle").isPlaying||e.play("box_idle")},setGoldAll:function(){this.schedule(function(){var e=this.boxGoldAllNode.getComponent(cc.Label),t=(new Date).getTime(),n=o.treaSureBoxLv,a=o.haveFishArr.length,s=Math.floor((t-o.getOfflineGoldTime)/1e3/60);this.offlineGold=s*i.growGold*a;var c=i.treaSureBoxCapacity[n-1];this.offlineGold>=c?(this.offlineGold=c,this.box_full()):s<c&&this.box_idle(),e.string=this.offlineGold+"/"+c},.3)},topAnim:function(){var e=this.growGoldNode.parent;cc.tween(e).delay(.2).to(.3,{scale:1},{easing:"elasticOut"}).start()},goldGroupAnim:function(){var e=this.boxGoldAllNode.parent;cc.tween(e).delay(.2).to(.3,{scale:1},{easing:"elasticOut"}).start()},upGradeBtnAnim:function(){cc.tween(this.upGradeBtnNode).delay(.3).to(.3,{scale:1},{easing:"elasticOut"}).start()},onTreaSureBoxClick:function(){this.soundCtrl.playSoundEffect("btnClick"),0!=this.offlineGold?this.gameScene.createDoubleGoldUI():this.gameScene.createTipsUI("noOfflineGold")},onUpGradeBoxBtnClick:function(){this.soundCtrl.playSoundEffect("btnClick"),this.gameScene.createUpTreaSureBoxUI()},setGrowGold:function(){var e=this.growGoldNode.getComponent(cc.Label),t=o.haveFishArr.length;this.allFishNode.getComponent(cc.Label).string=t,e.string=i.growGold*t},iniNode:function(){this.soundCtrl=cc.find("ctrlNode").getComponent("soundCtrl"),this.gameScene=cc.find("ctrlNode").getComponent("gameScene"),this.homeRules=cc.find("Canvas").getComponent("homeRules"),this.mainCamera=cc.find("Canvas/Main Camera");var e=this.growGoldNode.parent,t=this.boxGoldAllNode.parent;this.upGradeBtnNode.scale=0,e.scale=0,t.scale=0,this.topAnim(),this.goldGroupAnim(),this.upGradeBtnAnim(),this.setGrowGold(),this.iniState=!0},cameraOut:function(){if(this.mainCamera){var e=this.node.parent.convertToWorldSpaceAR(this.node.position),t=this.mainCamera.convertToNodeSpaceAR(e);Math.abs(t.x)>=750?this.node.opacity=0:this.node.opacity=255}},onLoad:function(){cc.log("\u52a0\u8f7d")},start:function(){this.setGoldAll()},update:function(e){this.iniState&&this.cameraOut()}}),cc._RF.pop()},{config:"config",userData:"userData"}],moreSkillUI:[function(e,t,n){"use strict";cc._RF.push(t,"b4946FciCNJqof6rhPuS0jx","moreSkillUI");e("userData");var o=e("config");cc.Class({extends:cc.Component,properties:{topNode:cc.Node,group0:cc.Node,group1:cc.Node,group2:cc.Node,group3:cc.Node,bgNode:cc.Node,goldGroupArr:[cc.Node],adGroupArr:[cc.Node],skillCostLableArr:[cc.Label]},setData:function(){this.moreSkillGetType={skill0:"ad",skill1:"ad",skill2:"ad"},this.skillCostLableArr[0].string=o.moreSkill.skill0.cost,this.skillCostLableArr[1].string=o.moreSkill.skill1.cost,this.skillCostLableArr[2].string=o.moreSkill.skill2.cost,this.goldGroupArr[0].active=!1,this.adGroupArr[0].active=!0,this.goldGroupArr[1].active=!1,this.adGroupArr[1].active=!0,this.goldGroupArr[2].active=!1,this.adGroupArr[2].active=!0},iniAnim:function(){this.topNode.scale=0,this.group0.x=512,this.group1.x=512,this.group2.x=512,this.group3.x=800,this.bgNode.opacity=0;var e=0;cc.tween(this.bgNode).to(.3,{opacity:175},{easing:"sineOut"}).start(),cc.tween(this.topNode).to(.3,{scale:1},{easing:"backOut"}).start(),cc.tween(this.group0).delay(e+=.3).to(.3,{x:-241},{easing:"backOut"}).start(),cc.tween(this.group1).delay(e+=.3).to(.3,{x:0},{easing:"backOut"}).start(),cc.tween(this.group2).delay(e+=.3).to(.3,{x:241},{easing:"backOut"}).start(),cc.tween(this.group3).delay(e+=.3).to(.3,{x:0},{easing:"backOut"}).start()},setRandomFish:function(){var e=[0,1,2,3,4,5,6,7,8];this.randomIndex=e[Math.floor(Math.random()*e.length)];var t="prefabs/player/fish"+this.randomIndex,n=null,o=cc.find("top/skillGroup3/fishGroup",this.node);o.childrenCount>0&&o.children.forEach(function(e){e.destroy()}),cc.loader.loadRes(t,cc.Prefab,function(e,t){e?cc.log(e):((n=cc.instantiate(t)).parent=o,n.scale=.5,n.group="ui",n.getComponent("playerFishEvent").playAnim("idleAnim"))})},iniNode:function(){this.gameRules=cc.find("Canvas").getComponent("gameRules"),this.gameScene=cc.find("ctrlNode").getComponent("gameScene"),this.adCtrl=cc.find("ctrlNode").getComponent("adCtrl"),this.soundCtrl=cc.find("ctrlNode").getComponent("soundCtrl"),this.soundCtrl.playSoundEffect("levelUpHome"),this.iniAnim(),this.setData(),this.setRandomFish()},onBtnClick:function(e,t){this.adCtrl.showVideoAd(t),this.videoJudge(t)},onNewFishBtnClick:function(){this.adCtrl.showVideoAd("newFish"),this.videoJudge("newFish")},videoJudge:function(e){var t=this;this.schedule(function n(){if(1==t.adCtrl.rewardState&&t.adCtrl.rewardTag==e){switch(t.unschedule(n),t.adCtrl.iniReward(),e){case"skill0":case"skill1":case"skill2":t.gameRules.moreSkill[e]=1,t.soundCtrl.playSoundEffect("levelUp");break;case"newFish":t.gameRules.createNewFishNode(t.randomIndex)}t.onExit()}else 0==t.adCtrl.rewardState&&null==t.adCtrl.rewardTag&&t.unschedule(n)},.2)},onExit:function(){this.soundCtrl.playSoundEffect("exit"),this.gameRules.gameStart(),this.gameScene.onNodeKill(this.node)},start:function(){}}),cc._RF.pop()},{config:"config",userData:"userData"}],newPropUI:[function(e,t,n){"use strict";cc._RF.push(t,"5a4181jCjlL36pOI+2x1Ssz","newPropUI");var o=function(e){return e&&e.__esModule?e:{default:e}}(e("fx"));var i=e("userData"),a=e("config");cc.Class({extends:cc.Component,properties:{nameLabel:cc.Label,topNode:cc.Node,centerNode:cc.Node,bottomNode:cc.Node,bgNode:cc.Node,tipsNodeFloor:cc.Node,tipsLabel:cc.Label,numLabel:cc.Label,yellowBtnNode:cc.Node,blueBtnNode:cc.Node,introduceLabel:cc.Label,iconSprite:cc.Sprite},exitAnim:function(){var e=this;cc.tween(this.centerNode).to(.2,{scale:0},{easing:"bounceIn"}).start(),cc.tween(this.node).to(.2,{opacity:0}).call(function(){e.gameScene.onNodeKill(e.node)}).start()},onBlueBtnClick:function(){this.soundCtrl.playSoundEffect("exit"),this.adCtrl.hideBannerAd(),o.default.save(),this.exitAnim()},setBtnOnce:function(){this.yellowBtnNode.active=!1,this.blueBtnNode.x=0},shareSucces:function(){var e=this.index;switch(this.type){case"fish":this.tipsLabel.string="\u606d\u559c\uff0c\u60a8\u7684\u5c0f\u9c7c\u5df2\u7ecf\u5347\u81f32\u7ea7\uff01",i.fishArr[e].level=2,cc.log("\u9c7c\u7b49\u7ea7\u5347\u81f32\u7ea7");break;case"crystla":this.tipsLabel.string="\u606d\u559c\uff0c\u83b7\u5f97\u53cc\u500d\u5956\u52b1\uff01",this.numLabel.string="x2",i.crystla++,cc.log("\u94bb\u77f3\u7ffb\u500d");break;case"gold":this.tipsLabel.string="\u606d\u559c\uff0c\u83b7\u5f97\u53cc\u500d\u5956\u52b1\uff01",this.numLabel.string="+"+2*this.gold,this.homeRules.updateGold(this.gold),cc.log("\u91d1\u5e01\u7ffb\u500d");break;default:return void cc.log("\u9519\u8bef\u7684\u7269\u54c1\u7f16\u53f7")}this.setBtnOnce()},shareJudge:function(){var e=this;this.schedule(function t(){1==e.adCtrl.rewardState&&"newProp"==e.adCtrl.rewardTag?(e.unschedule(t),e.adCtrl.iniReward(),e.shareSucces()):0==e.adCtrl.rewardState&&null==e.adCtrl.rewardTag&&e.unschedule(t)},.2)},onYellowBtnClick:function(){this.soundCtrl.playSoundEffect("btnClick"),this.adCtrl.manualShare("newProp"),this.shareJudge()},iniAnim:function(){var e=0;cc.tween(this.bgNode).to(.3,{opacity:255},{easing:"sineOut"}).start(),cc.tween(this.topNode).to(.2,{scale:1},{easing:"backOut"}).start(),cc.tween(this.centerNode).delay(e+=.2).to(.3,{scale:1},{easing:"backOut"}).start(),cc.tween(this.bottomNode).delay(e+=.2).to(.2,{scale:1},{easing:"backOut"}).start(),cc.tween(this.tipsNodeFloor).delay(e+=.2).to(.2,{scale:1},{easing:"backOut"}).start()},iniNode:function(e,t){this.gameScene=cc.find("ctrlNode").getComponent("gameScene"),this.soundCtrl=cc.find("ctrlNode").getComponent("soundCtrl"),this.homeRules=cc.find("Canvas").getComponent("homeRules"),this.adCtrl=cc.find("ctrlNode").getComponent("adCtrl"),this.adCtrl.showBannerAd(),this.soundCtrl.playSoundEffect("getProp"),this.centerNode.scale=0,this.bottomNode.scale=0,this.topNode.scale=0,this.bgNode.opacity=0,this.node.opacity=255,this.tipsNodeFloor.scale=0,this.blueBtnNode.x=-151,this.numLabel.node.active=!1,this.yellowBtnNode.active=!0,this.introduceLabel.node.active=!1;var n=0;switch(this.type=e,this.iniAnim(),e){case"crystla":this.numLabel.node.active=!0,this.nameLabel.string="\u661f\u8fb0\u6c34\u6676",this.tipsLabel.string="\u83b7\u5f97\u661f\u8fb0\u6c34\u6676\uff0c\u5206\u4eab\u7acb\u5373\u7ffb\u500d\uff01",this.numLabel.string="x1",this.setSprite(this.iconSprite,"prop","crystlaBigIcon"),i.crystla++;break;case"gold":this.numLabel.node.active=!0,this.nameLabel.string="\u4e00\u4e9b\u91d1\u5e01",this.tipsLabel.string="\u83b7\u5f97\u5927\u91cf\u91d1\u5e01\uff0c\u5206\u4eab\u7acb\u5373\u7ffb\u500d\uff01",n=this.getRandomGold(),this.gold=n,this.numLabel.string="+"+n,this.setSprite(this.iconSprite,"prop","someGoldIcon"),this.homeRules.updateGold(n);break;case"fish":i.fishArr[t].have=1,i.ocean.fish[t].have=1,this.introduceLabel.node.active=!0,this.numLabel.node.active=!1,this.index=t,this.tipsLabel.string="\u5206\u4eab\u540e\u53ef\u5c06\u5c0f\u9c7c\u5347\u81f32\u7ea7\uff01",this.introduceLabel.string=a.fish[t].introduce,this.setSprite(this.iconSprite,"fish",t),this.nameLabel.string=a.fish[t].name,this.homeRules.getHaveFish()}},setSprite:function(e,t,n){var o="";switch(t){case"fish":o="texture/icon/fishIcon"+n;break;case"prop":o="texture/prop/"+n}cc.loader.loadRes(o,cc.SpriteFrame,function(t,n){e.spriteFrame=n})},getRandomGold:function(){var e=i.treaSureBoxLv,t=a.treaSureBoxCapacity[e-1];return t+Math.floor(Math.random()*t)},onLoad:function(){},start:function(){}}),cc._RF.pop()},{config:"config",fx:"fx",userData:"userData"}],noviceGuideData:[function(e,t,n){"use strict";cc._RF.push(t,"3a9e8SJwYdPhYUgAgAGQPdv","noviceGuideData"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=0,i={ocean:[{desc:"\u6b22\u8fce\u6765\u5230\u5c0f\u9c7c\u4e4b\u5bb6\uff0c\u5728\u8fd9\u91cc\u4f60\u53ef\u4ee5\u6536\u96c6\u6c14\u6ce1\u6765\u89e3\u9501\u88c5\u9970\uff0c\u6253\u9020\u5c5e\u4e8e\u4f60\u7684\u5c0f\u9c7c\u4e4b\u5bb6\u54e6~",node:null,anyWhere:1,maskType:o},{desc:"\u70b9\u51fb\u5192\u6ce1\u6309\u94ae\uff0c\u5582\u517b\u4f60\u7684\u5c0f\u9c7c\uff0c\u83b7\u5f97\u66f4\u591a\u7684\u6c14\u6ce1\u5956\u52b1!",node:"Canvas/bottomGroup/bottomUI/bubbleBtn",anyWhere:0,maskType:o},{desc:"\u70b9\u51fb\u5347\u7ea7\u6309\u94ae\uff0c\u7528\u6536\u96c6\u5230\u7684\u6c14\u6ce1\u6765\u89e3\u9501\u65b0\u7684\u88c5\u9970\uff0c\u8fd8\u53ef\u4ee5\u5347\u7ea7\u4f60\u7684\u5c0f\u9c7c\u54e6\u3002",node:"Canvas/bottomGroup/bottomUI/create_button",anyWhere:0,maskType:o},{desc:"\u6240\u6709\u7684\u88c5\u9970\u90fd\u4f1a\u4e3a\u4f60\u5e26\u6765\u989d\u5916\u7684\u4ea7\u51fa\uff0c\u5feb\u53bb\u89e3\u9501\u5427",node:"Canvas/UINodeGroup/ocCreateUI/noviceTest",anyWhere:0,maskType:o}],fishUI:[{desc:"\u5728\u8fd9\u91cc\u4f60\u53ef\u4ee5\u5207\u6362\u4f7f\u7528\u4e0d\u540c\u7684\u5c0f\u9c7c\uff0c\u4e5f\u53ef\u4ee5\u7528\u91d1\u5e01\u5347\u7ea7\u4f60\u7684\u5c0f\u9c7c\uff0c\u8ba9\u5b83\u5728\u6d77\u6d0b\u91cc\u53d8\u5f97\u66f4\u5f3a\u58ee\u3002",node:null,anyWhere:1,maskType:o},{desc:"\u70b9\u51fb\u5347\u7ea7\u6309\u94ae\uff0c\u7d2f\u79ef\u8db3\u591f\u7684\u7ecf\u9a8c\u5c31\u53ef\u4ee5\u5347\u7ea7\u89e3\u9501\u65b0\u7684\u6280\u80fd",node:"Canvas/UINodeGroup/fishUI/bottom/yellow_button",anyWhere:0,maskType:o},{desc:"\u6bcf\u4e2a\u7ea7\u522b\u7684\u5c0f\u9c7c\u6709\u4e0d\u540c\u7684\u6280\u80fd\uff0c\u5347\u7ea7\u540e\u89e3\u9501\u66f4\u5f3a\u529b\u7684\u6280\u80fd",node:"Canvas/UINodeGroup/fishUI/noviceTestSkill",anyWhere:1,maskType:o}],eggUI:[{desc:"\u5728\u7ecf\u5178\u6a21\u5f0f\u91cc\u7545\u73a9\uff0c\u4f60\u7684\u5206\u6570\u4f1a\u7d2f\u79ef\uff0c\u79ef\u7d2f\u4e00\u5b9a\u7684\u5206\u6570\u5c31\u53ef\u4ee5\u83b7\u5f97\u65b0\u7684\u5c0f\u9c7c\u3002",node:null,anyWhere:1,maskType:o}],moneyUI:[{desc:"\u5b9d\u7bb1\u4f1a\u4ea7\u51fa\u91d1\u5e01\uff0c\u62e5\u6709\u7684\u5c0f\u9c7c\u8d8a\u591a\uff0c\u4ea7\u51fa\u901f\u5ea6\u8d8a\u5feb~",node:null,anyWhere:1,maskType:o},{desc:"\u70b9\u51fb\u5b9d\u7bb1\u5c31\u53ef\u4ee5\u9886\u53d6\u91d1\u5e01\uff0c\u8bb0\u5f97\u591a\u6765\u9886\u53d6\u54e6\uff01",node:"Canvas/UINodeGroup/moneyUI/noviceTestBox",anyWhere:0,maskType:o}],shopUI:[{desc:"\u5546\u5e97\u754c\u9762\u53ef\u4ee5\u4f7f\u7528\u6c34\u6676\u6362\u53d6\u5404\u79cd\u7a00\u6709\u9053\u5177\uff0c\u66f4\u6709\u5927\u91cf\u91d1\u5e01\u7b49\u4f60\u6765\u9886\u53d6\u54e6~",node:null,anyWhere:1,maskType:o}],gameOver:[{desc:"\u672c\u5c40\u6e38\u620f\u7ed3\u675f\u5566\uff0c\u7d2f\u79ef\u4e00\u5b9a\u7684\u5206\u6570\uff0c\u4f60\u5c31\u53ef\u4ee5\u83b7\u5f97\u4e00\u6761\u65b0\u7684\u5c0f\u9c7c",node:"ctrlNode/UINodeGroup/gameOverUI/top2/noviceTestFloor",anyWhere:1,maskType:o},{desc:"\u6bcf\u6b21\u6e38\u620f\u7ed3\u675f\u90fd\u4f1a\u83b7\u5f97\u4e00\u5c42\u795d\u798f\uff0c\u8ba9\u4f60\u8d8a\u6218\u8d8a\u52c7\uff01",node:"ctrlNode/UINodeGroup/gameOverUI/top2/noviceTestBuff",anyWhere:1,maskType:o},{desc:"\u70b9\u51fb\u91cd\u65b0\u5f00\u59cb\u6e38\u620f\uff0c\u6311\u6218\u66f4\u9ad8\u7684\u5206\u6570\u5427",node:"ctrlNode/UINodeGroup/gameOverUI/touchScreen",anyWhere:1,maskType:o}]};n.default=i,t.exports=n.default,cc._RF.pop()},{}],noviceGuideUI:[function(e,t,n){"use strict";cc._RF.push(t,"0ce19olnMJC74h1jjNLguyK","noviceGuideUI");var o=s(e("noviceGuideData")),i=s(e("userData")),a=s(e("fx"));function s(e){return e&&e.__esModule?e:{default:e}}var c=0,r=1;cc.Class({extends:cc.Component,properties:{maskNode:cc.Node,gudideLabel:cc.Label,maskType:{default:cc.Mask.Type.RECT,type:cc.Mask.Type},mask:cc.Mask,handNode:cc.Node,iconGroup:cc.Node,onceLabel:cc.Label},onLoad:function(){this.node.getComponent(cc.Widget).updateAlignment()},iniNode:function(e){this.node.zIndex=1e3,this.type=e,this.step=-1,this.iconGroup.x=-900,this.onceLabel.node.opacity=0,this.iniBlockEvents(),this.nextStep(),this.btnState=c},nextStep:function(){if(this.step++,this.step<o.default[this.type].length){this.iconGroupInAnim();var e=o.default[this.type][this.step];this.iniGuideStep(e)}else this.close()},iniGuideStep:function(e){if(this.gudideLabel.string=e.desc,1==e.anyWhere?(cc.tween(this.onceLabel.node).delay(.2).to(.4,{opacity:255}).start(),this.handNode.active=!1,this.maskNode.width=0):(this.onceLabel.node.opacity=0,this.handNode.active=!0),e.node){var t=cc.find(e.node);this.setClickRect(t),this.setMaskType(e.maskType)}},setClickRect:function(e){var t=e.parent.convertToWorldSpaceAR(e.position),n=cc.find("Canvas/Main Camera").getComponent(cc.Camera).getWorldToScreenPoint(t),o=this.maskNode.parent.convertToNodeSpaceAR(n);"gameOver"==this.type&&(o=this.maskNode.parent.convertToNodeSpaceAR(t)),this.maskNode.width=e.width,this.maskNode.height=e.height,cc.tween(this.maskNode).to(.2,{position:cc.v2(o.x,o.y)}).start(),cc.tween(this.handNode).to(.2,{position:cc.v2(o.x,o.y+e.height/2)}).start();var i=t.x-e.width/2,a=t.y-e.height/2;this.testRect=new cc.rect(i,a,e.width,e.height)},close:function(){i.default.noviceGuide[this.type]=1,a.default.save(),this.node.destroy()},setMaskType:function(e){this.mask.type=e,cc.Mask.Type.ELLIPSE===e&&(this.mask.segements=100)},iniBlockEvents:function(){var e=this;this.node.on("touchend",function(t){e.blockEventJudge(t)},this),this.node._touchListener.setSwallowTouches(!1)},blockEventJudge:function(e){if(1==o.default[this.type][this.step].anyWhere)return e.stopPropagation(),void this.iconGroupOutAnim();var t=e.getLocation(),n=cc.find("Canvas/Main Camera").getComponent(cc.Camera).getScreenToWorldPoint(t),i=this.testRect.contains(n);console.log("isallowisallow",i),t&&i?this.iconGroupOutAnim():e.stopPropagation()},iconGroupInAnim:function(){this.iconGroup.x=-900,cc.tween(this.iconGroup).to(.3,{x:0},{easing:"backOut"}).start()},iconGroupOutAnim:function(){var e=this;this.btnState===c&&(this.btnState=r,cc.tween(this.iconGroup).to(.3,{x:900},{easing:"backIn"}).call(function(){e.btnState=c,e.nextStep()}).start())},start:function(){}}),cc._RF.pop()},{fx:"fx",noviceGuideData:"noviceGuideData",userData:"userData"}],ocCommonUI:[function(e,t,n){"use strict";cc._RF.push(t,"f142b+CHl1GybV3X/dodBkd","ocCommonUI");var o=a(e("ocConfig")),i=a(e("../userData"));function a(e){return e&&e.__esModule?e:{default:e}}var s=e("config"),c=e("fx");cc.Class({extends:cc.Component,properties:{iconSprite:cc.Sprite,tittleLabel:cc.Label,tipsLabel:cc.Label,moreTipsLabel:cc.Label,centerNode:cc.Node,exitNode:cc.Node,greenBtnLabel:cc.Label,yellowBtnLabel:cc.Label,bgNode:cc.Node},dynamcSprite:function(){var e=this,t="ocean/texture/"+this.type;cc.loader.loadRes(t,cc.SpriteFrame,function(t,n){e.iconSprite.spriteFrame=n})},setOfflineProfit:function(){this.cumProduce=0;for(var e=0;e<i.default.ocean.fish.length;e++)if(1==i.default.ocean.fish[e].have){var t=i.default.ocean.fish[e].level,n=o.default.fish[e].baseProduce,a=o.default.produceFactor.fish,s=Math.floor(n*Math.pow(a,t));this.cumProduce+=s}var r=(new Date).getTime(),l=i.default.getOceanOfflineTime,d=Math.floor((r-l)/1e3);d>1800&&(d=1800,cc.log("\u5df2\u8fbe\u6700\u5927\u79bb\u7ebf\u65f6\u95f4",d)),this.tillCount=Math.floor(d/60),this.tillCount<=1&&(this.tillCount=1),this.cumProduce*=d,this.tipsLabel.string="+"+c.unitConversion(this.cumProduce)},setRewardGold:function(){var e=i.default.treaSureBoxLv,t=s.treaSureBoxCapacity[e-1];this.rewardGold=Math.floor((.2*Math.random()+.1)*t),this.tipsLabel.string="+"+this.rewardGold},iniData:function(){switch(this.type){case"superProfit":this.dynamcSprite(),this.tittleLabel.string="\u8d85\u7ea7\u6536\u76ca",this.tipsLabel.string="\u6240\u6709\u4ea7\u51fa\u901f\u5ea6x3",this.moreTipsLabel.string="\u52a0\u5feb\u6c14\u6ce1\u7684\u4ea7\u51fa\u901f\u5ea6",this.greenBtnLabel.string="\u82b1\u8d39\u6c34\u6676x1 \u514d\u8d39\u4f7f\u7528",this.yellowBtnLabel.string="\u514d\u8d39\u4f7f\u7528";break;case"offlineProfit":this.dynamcSprite(),this.tittleLabel.string="\u79bb\u7ebf\u6536\u76ca",this.setOfflineProfit(),this.moreTipsLabel.string="\u53ea\u6709\u73a9\u5bb6\u7684\u9c7c\u624d\u4f1a\u4ea7\u751f\u79bb\u7ebf\u6536\u76ca",this.greenBtnLabel.string="\u82b1\u8d39\u6c34\u6676x1 3\u500d\u9886\u53d6",this.yellowBtnLabel.string="2\u500d\u9886\u53d6";break;case"bigBubble":this.dynamcSprite(),this.tittleLabel.string="\u4e00\u5927\u6ce2\u9c7c",this.tipsLabel.string="\u4e00\u6b21\u53ec\u552430\u6761\u5c0f\u9c7c",this.moreTipsLabel.string="\u5582\u517b\u4f60\u7684\u5c0f\u9c7c\uff0c\u4ea7\u51fa\u66f4\u591a\u7684\u6c14\u6ce1",this.greenBtnLabel.string="\u82b1\u8d39\u6c34\u6676x1 \u514d\u8d39\u4f7f\u7528",this.yellowBtnLabel.string="\u514d\u8d39\u4f7f\u7528";break;case"rewardGold":this.dynamcSprite(),this.tittleLabel.string="\u5956\u52b1\u91d1\u5e01",this.moreTipsLabel.string="\u88c5\u9970\u7269\u6bcf\u9694\u4e00\u6bb5\u65f6\u95f4\u4ea7\u51fa\u91d1\u5e01",this.setRewardGold(),this.greenBtnLabel.string="\u82b1\u8d39\u6c34\u6676x1 3\u500d\u9886\u53d6",this.yellowBtnLabel.string="2\u500d\u9886\u53d6"}},videoJudge:function(e){this.schedule(function t(){if(1==this.adCtrl.rewardState&&this.adCtrl.rewardTag==e)switch(this.unschedule(t),this.adCtrl.iniReward(),e){case"superProfit":this.oceanRules.superProfitBuffSucces(),this.onExitBtnClick();break;case"offlineProfit":this.gameScene.createGetRewardUI("bubbleGold",this.cumProduce*o.default.videoScale),i.default.getOceanOfflineTime=(new Date).getTime(),this.type="",this.onExitBtnClick();break;case"bigBubble":this.oceanRules.bigBubble(),this.onExitBtnClick();break;case"rewardGold":this.gameScene.createGetRewardUI("smallGold",this.rewardGold*o.default.videoScale),this.onExitBtnClick();break;case"getCrystla":this.gameScene.createGetRewardUI("crystla",1)}else 0==this.adCtrl.rewardState&&null==this.adCtrl.rewardTag&&this.unschedule(t)},.2)},onYellowBtnClick:function(){this.soundCtrl.playSoundEffect("btnClick"),this.adCtrl.showVideoAd(this.type),this.videoJudge(this.type)},onGreenBtnClick:function(){if(this.soundCtrl.playSoundEffect("btnClick"),i.default.crystla>=1){switch(i.default.crystla--,this.type){case"superProfit":this.oceanRules.superProfitBuffSucces();break;case"offlineProfit":this.gameScene.createGetRewardUI("bubbleGold",this.cumProduce*o.default.crystlaScale),i.default.getOceanOfflineTime=(new Date).getTime(),this.type="";break;case"bigBubble":this.oceanRules.bigBubble();break;case"rewardGold":this.gameScene.createGetRewardUI("smallGold",this.rewardGold*o.default.crystlaScale)}this.onExitBtnClick()}else this.gameScene.createTipsUI("noCrystla")},onExitBtnClick:function(){var e=this;this.soundCtrl.playSoundEffect("exit"),this.adCtrl.hideBannerAd(),"offlineProfit"==this.type&&(this.gameScene.createGetRewardUI("bubbleGold",this.cumProduce),i.default.getOceanOfflineTime=(new Date).getTime()),cc.tween(this.bgNode).to(.1,{opacity:0}).start(),cc.tween(this.centerNode).to(.1,{scale:0}).call(function(){e.oceanScene.onNodeKill(e.node)}).start()},iniNode:function(e){var t=this;this.oceanScene=cc.find("Canvas").getComponent("oceanScene"),this.oceanRules=cc.find("Canvas").getComponent("oceanRules"),this.adCtrl=cc.find("ctrlNode").getComponent("adCtrl"),this.soundCtrl=cc.find("ctrlNode").getComponent("soundCtrl"),this.gameScene=cc.find("ctrlNode").getComponent("gameScene"),this.adCtrl.showBannerAd(),this.type=e,this.iniData(),this.exitNode.active=!1,this.centerNode.scale=0,this.bgNode.opacity=0,this.scheduleOnce(function(){t.exitNode.active=!0},2),cc.tween(this.centerNode).to(.2,{scale:1},{easing:"backOut"}).start(),cc.tween(this.bgNode).to(.2,{opacity:175}).start()},start:function(){}}),cc._RF.pop()},{"../userData":"userData",config:"config",fx:"fx",ocConfig:"ocConfig"}],ocConfig:[function(e,t,n){"use strict";cc._RF.push(t,"493f1eMHWZBR4l1dUpxPYId","ocConfig"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default={crystlaScale:3,videoScale:2,decorateMaxLevel:30,rewardGoldTime:30,createBubbleTime:1,rewardEnemy:100,superProfitTime:90,produceFactor:{stone:1.25,decorate:1.25,fish:1.25},costFactor:{stone:1.25,decorate:1.25,fish:1.25},stone:[{prefabName:"leftStone",name:"\u5149\u79c3\u79c3\u7684\u77f3\u5934",levelUpCost:1e3,unLockCost:1e3,baseProduce:1,zIndex:3},{prefabName:"rightStone",name:"\u957f\u7740\u5c0f\u82b1\u7684\u77f3\u5934",levelUpCost:2e3,unLockCost:5e3,baseProduce:2,zIndex:4},{prefabName:"leftBehindStone",name:"\u957f\u7740\u6d77\u8349\u7684\u77f3\u5934",levelUpCost:4e3,unLockCost:15e3,baseProduce:3,zIndex:1},{prefabName:"rightBehindStone",name:"\u8fdc\u5904\u9690\u7ea6\u53ef\u89c1\u7684\u77f3\u5934",levelUpCost:7e3,unLockCost:5e4,baseProduce:4,zIndex:2},{prefabName:"centerShell",name:"\u795e\u79d8\u7684\u8d1d\u58f3\u77f3",levelUpCost:1e4,unLockCost:1e5,baseProduce:5,zIndex:5},{prefabName:"boal",name:"\u635f\u574f\u7684\u6c89\u8239",levelUpCost:15e3,unLockCost:2e5,baseProduce:6,zIndex:0}],decorate:[{prefabName:"leftFlowerBottle",name:"\u74f6\u88c5\u73ca\u745a",levelUpCost:1e3,unLockCost:3e3,baseProduce:1,zIndex:2},{prefabName:"rightFlower",name:"\u591c\u5149\u6d77\u8475",levelUpCost:2e3,unLockCost:5e3,baseProduce:2,zIndex:6},{prefabName:"frontBottle",name:"\u6f02\u6d41\u74f6",levelUpCost:3e3,unLockCost:3e4,baseProduce:3,zIndex:3},{prefabName:"seaweed",name:"\u6447\u66f3\u6d77\u8349",levelUpCost:5e3,unLockCost:5e4,baseProduce:4,zIndex:5},{prefabName:"shell",name:"\u9ec4\u91d1\u6d77\u87ba",levelUpCost:7e3,unLockCost:2e5,baseProduce:5,zIndex:4},{prefabName:"leftBehindFlower",name:"\u6591\u70b9\u73ca\u745a",levelUpCost:1e4,unLockCost:4e5,baseProduce:6,zIndex:8},{prefabName:"rightFlowerBottle",name:"\u5de8\u578b\u82b1\u5349",levelUpCost:15e3,unLockCost:1e6,baseProduce:7,zIndex:0},{prefabName:"dolphin",name:"\u6d77\u8c5a\u96d5\u50cf",levelUpCost:2e4,unLockCost:8e6,baseProduce:8,zIndex:7}],fish:[{name:"\u91d1\u9c7c\u70b9\u70b9",levelUpCost:1e3,baseProduce:1},{name:"\u53cc\u9762\u9f9f\u9f9f",levelUpCost:1e3,baseProduce:1},{name:"\u975e\u6d32\u738b\u5b50",levelUpCost:1e3,baseProduce:1},{name:"\u96f7\u8fbe",levelUpCost:1e3,baseProduce:1},{name:"\u4e09\u89d2\u9cb7",levelUpCost:1e3,baseProduce:1},{name:"\u5927\u9ec4\u4e2b",levelUpCost:1e3,baseProduce:1},{name:"\u706b\u70c8\u9e1f",levelUpCost:1e3,baseProduce:1},{name:"\u73ca\u745a\u599e\u599e",levelUpCost:1e3,baseProduce:1},{name:"\u4e2d\u56fd\u9f99",levelUpCost:1e3,baseProduce:1}]},t.exports=n.default,cc._RF.pop()},{}],ocCreateUI:[function(e,t,n){"use strict";cc._RF.push(t,"e84d9BpZC1ClJv0nJ9TCI4f","ocCreateUI");var o=function(e){return e&&e.__esModule?e:{default:e}}(e("ocConfig"));cc.Class({extends:cc.Component,properties:{contentArr:[cc.Node],scrollViewArr:[cc.Node],toggleGroup:cc.Node,centerNode:cc.Node},onToggleBtnClick:function(e,t){this.soundCtrl.playSoundEffect("btnClick");for(var n=parseInt(t),o=0;o<this.scrollViewArr.length;o++)this.scrollViewArr[o].active=n==o;this.createItem(n)},createItemUI:function(e,t,n){cc.loader.loadRes("ocean/prefabs/UI/itemUI",cc.Prefab,function(o,i){var a=cc.instantiate(i);a.parent=t,a.getComponent("itemUI").iniNode(e,n)})},createItem:function(e){var t=this;if(0===this.contentArr[e].children.length)switch(e){case 0:for(var n=function(n){t.scheduleOnce(function(){t.createItemUI("stone",t.contentArr[e],n)},.02*n)},i=0;i<o.default.stone.length;i++)n(i);break;case 1:for(var a=function(n){t.scheduleOnce(function(){t.createItemUI("decorate",t.contentArr[e],n)},.02*n)},s=0;s<o.default.decorate.length;s++)a(s);break;case 2:for(var c=function(n){t.scheduleOnce(function(){t.createItemUI("fish",t.contentArr[e],n)},.02*n)},r=0;r<o.default.fish.length;r++)c(r)}},iniNode:function(){this.oceanScene=cc.find("Canvas").getComponent("oceanScene"),this.oceanRules=cc.find("Canvas").getComponent("oceanRules"),this.soundCtrl=cc.find("ctrlNode").getComponent("soundCtrl"),this.centerNode.y=-1200,cc.tween(this.centerNode).to(.4,{y:0},{easing:"backOut"}).start();for(var e=0;e<this.toggleGroup.children.length;e++)1==this.toggleGroup.children[e].getComponent(cc.Toggle).isChecked?(this.scrollViewArr[e].active=!0,this.createItem(e)):this.scrollViewArr[e].active=!1},onTouchExit:function(){var e=this;this.soundCtrl.playSoundEffect("exit"),cc.tween(this.centerNode).to(.4,{y:-1200},{easing:"backIn"}).call(function(){e.oceanScene.onNodeKill(e.node)}).start()},onLoad:function(){},start:function(){}}),cc._RF.pop()},{ocConfig:"ocConfig"}],ocEnemy:[function(e,t,n){"use strict";cc._RF.push(t,"dbdd9q6CyRM5aQKyPbQ+V5G","ocEnemy");var o=0;cc.Class({extends:cc.Component,properties:{},setRoamingPos:function(){this.roamingSpeed=100*Math.random()+30;var e=Math.random()>.5?1:-1,t=500*Math.random()*e,n=800*Math.random()*e;this.roamingPos=cc.v2(t,n),this.fishState=o},iniAnim:function(){var e=this,t=Math.random()>.5?1:-1,n=300*Math.random()*t,o=300*Math.random()*t;cc.tween(this.node).to(1.5,{position:cc.v2(n,o)},{easing:"backOut"}).call(function(){e.polygonCollider.enabled=!0,e.setRoamingPos()}).start()},iniNode:function(){this.polygonCollider=this.node.getComponent(cc.PolygonCollider),this.polygonCollider.enabled=!1,this.node.setPosition(cc.v2(0,900)),this.thinkTime=1,this.cumTime=0,this.standingTime=0,this.iniAnim(),this.iniState=!0},stateExecut:function(e){switch(this.fishState){case o:if(this.node.position.fuzzyEquals(this.roamingPos,50))return void this.setRoamingPos();var t=this.roamingPos.sub(this.node.position);this.roamingPos.x>=this.node.x?this.node.scaleX<0&&(this.node.scaleX=-this.node.scaleX):this.node.scaleX>0&&(this.node.scaleX=-this.node.scaleX),this.node.position=this.node.position.add(t.normalize().mul(this.roamingSpeed*e))}},start:function(){},update:function(e){this.iniState&&this.stateExecut(e)}}),cc._RF.pop()},{}],ocKillEffect:[function(e,t,n){"use strict";cc._RF.push(t,"479d4SlJRhKW6fj/5fG4QOG","ocKillEffect"),cc.Class({extends:cc.Component,properties:{},iniNode:function(e){var t=this;this.oceanScene=cc.find("Canvas").getComponent("oceanScene");var n=e.parent.convertToWorldSpaceAR(e.position),o=this.node.parent.convertToNodeSpaceAR(n);this.node.setPosition(o),this.killEffect=this.node.getComponent(cc.ParticleSystem),this.killEffect.resetSystem(),this.node.scale=.2,this.killEffect.startColor=new cc.color(255,255,255),this.killEffect.endColor=new cc.color(255,255,255),this.scheduleOnce(function(){t.oceanScene.onNodeKill(t.node)},2)},onLoad:function(){},start:function(){}}),cc._RF.pop()},{}],ocPlayerFishEvent:[function(e,t,n){"use strict";cc._RF.push(t,"4fd77OHel1G5KsB5hU+TzDD","ocPlayerFishEvent");var o=a(e("ocConfig")),i=a(e("userData"));function a(e){return e&&e.__esModule?e:{default:e}}var s=e("fx"),c=0,r=1;cc.Class({extends:cc.Component,properties:{},onCollisionEnter:function(e,t){this.oceanScene.onEnemyKill(e.node),this.oceanScene.createOcKillEffect(this.node),this.oceanScene.createBubbleGoldEffect(this.node,o.default.rewardEnemy),this.oceanRules.updateBubbleGold(o.default.rewardEnemy)},addBubbleGold:function(e){if(this.bubbleTime+=e,!(this.bubbleTime<o.default.createBubbleTime)){this.bubbleTime=0;var t=i.default.ocean[this.type][this.index].level,n=o.default[this.type][this.index].baseProduce,a=o.default.produceFactor[this.type],c=Math.floor(n*Math.pow(a,t));this.oceanRules.updateBubbleGold(c);var r=s.unitConversion(c);this.oceanScene.createBubbleGoldEffect(this.node,r)}},playAnim:function(e){this.anim=this.node.getComponent(cc.Animation);var t=this.anim.getClips(),n=t[0],o=t[1],i=this.anim.getAnimationState(n.name),a=this.anim.getAnimationState(o.name);switch(e){case"eatAnim":if(a.isPlaying)return;this.anim.play(o.name);break;case"idleAnim":if(i.isPlaying)return;this.anim.play(n.name)}},setRoamingPos:function(){this.roamingSpeed=150*Math.random()+30;var e=Math.random()>.5?1:-1,t=600*Math.random()*e,n=900*Math.random()*e;this.roamingPos=cc.v2(t,n),this.thinkTime=1*Math.random()+.3},iniNode:function(e,t){this.oceanScene=cc.find("Canvas").getComponent("oceanScene"),this.oceanRules=cc.find("Canvas").getComponent("oceanRules"),this.enemyGroup=cc.find("Canvas/enemyGroup"),this.attackSpeed=200,this.cumTime=0,this.bubbleTime=0,this.vision=300,this.type=e,this.index=t,this.fishState=c,this.node.setPosition(cc.v2(-600,0)),this.setRoamingPos(),this.iniState=!0},findEnemy:function(){if(0!=this.enemyGroup.children.length){for(var e=[],t=0;t<this.enemyGroup.children.length;t++){var n=this.node.position.sub(this.enemyGroup.children[t].position);e.push(n.mag())}for(var o=e[0],i=0,a=0;a<e.length;a++)e[a]<o&&(o=e[a],i=a);this.attackTarget=this.enemyGroup.children[i],this.attackTarget.position.sub(this.node.position).mag()<=this.vision?this.fishState=r:this.fishState=c}else this.fishState=c},think:function(e){this.cumTime+=e,this.cumTime>=this.thinkTime&&(this.cumTime=0,this.findEnemy())},stateExecut:function(e){switch(this.fishState){case c:if(this.playAnim("idleAnim"),this.node.position.fuzzyEquals(this.roamingPos,5))return void this.setRoamingPos();var t=this.roamingPos.sub(this.node.position);this.roamingPos.x>=this.node.x?this.node.scaleX<0&&(this.node.scaleX=-this.node.scaleX):this.node.scaleX>0&&(this.node.scaleX=-this.node.scaleX),this.node.position=this.node.position.add(t.normalize().mul(this.roamingSpeed*e));break;case r:if(this.playAnim("eatAnim"),this.node.position.fuzzyEquals(this.attackTarget.position,5))return this.setRoamingPos(),void(this.fishState=c);var n=this.attackTarget.position.sub(this.node.position);this.attackTarget.position.x>=this.node.x?this.node.scaleX<0&&(this.node.scaleX=-this.node.scaleX):this.node.scaleX>0&&(this.node.scaleX=-this.node.scaleX),this.node.position=this.node.position.add(n.normalize().mul(this.attackSpeed*e))}},start:function(){},update:function(e){this.iniState&&(this.think(e),this.stateExecut(e),this.addBubbleGold(e))}}),cc._RF.pop()},{fx:"fx",ocConfig:"ocConfig",userData:"userData"}],ocProp:[function(e,t,n){"use strict";cc._RF.push(t,"be2724lVYNDIJh4rTtDLWlm","ocProp");var o=s(e("ocConfig")),i=s(e("../userData")),a=s(e("cache"));function s(e){return e&&e.__esModule?e:{default:e}}var c=e("fx");cc.Class({extends:cc.Component,properties:{},iniNode:function(e,t){this.oceanScene=cc.find("Canvas").getComponent("oceanScene"),this.oceanRules=cc.find("Canvas").getComponent("oceanRules"),cc.log("\u751f\u6210\u5b8c\u6bd5",o.default[e][t].prefabName),this.bubbleGoldTime=0,this.rewardGoldTime=0,this.type=e,this.index=t,this.needTime=60*Math.random()+o.default.rewardGoldTime},addBubbleGold:function(e){if(this.bubbleGoldTime+=e,!(this.bubbleGoldTime<o.default.createBubbleTime)){this.bubbleGoldTime=0;var t=i.default.ocean[this.type][this.index].level,n=o.default[this.type][this.index].baseProduce,a=o.default.produceFactor[this.type],s=Math.round(n*Math.pow(a,t));this.oceanRules.updateBubbleGold(s);var r=c.unitConversion(s);this.oceanScene.createBubbleGoldEffect(this.node,r)}},createRewardGold:function(e){"decorate"===this.type&&(1!=a.default.ocRewardGold?(this.rewardGoldTime+=e,this.rewardGoldTime<this.needTime||(cc.log(this.needTime,"\u9700\u8981\u7684\u65f6\u95f4"),this.rewardGoldTime=0,a.default.ocRewardGold=1,this.needTime=Math.random()*o.default.rewardGoldTime+5,this.oceanScene.createRewardGold(this.node))):this.rewardGoldTime=0)},start:function(){},update:function(e){this.addBubbleGold(e),this.createRewardGold(e)}}),cc._RF.pop()},{"../userData":"userData",cache:"cache",fx:"fx",ocConfig:"ocConfig"}],ocRewardGold:[function(e,t,n){"use strict";cc._RF.push(t,"84cf89t+DJNPrlD/OHwTfSu","ocRewardGold");var o=function(e){return e&&e.__esModule?e:{default:e}}(e("cache"));cc.Class({extends:cc.Component,properties:{iconNode:cc.Node},iniNode:function(e){var t=this;this.oceanScene=cc.find("Canvas").getComponent("oceanScene"),this.soundCtrl=cc.find("ctrlNode").getComponent("soundCtrl"),this.soundCtrl.playSoundEffect("ocRewardGold");var n=e.parent.convertToWorldSpaceAR(e.position),i=this.node.parent.convertToNodeSpaceAR(n);this.node.setPosition(i),this.iconNode.on("touchstart",function(){o.default.ocRewardGold=0,t.oceanScene.createOcCommonUI("rewardGold"),t.node.destroy()},this),this.scheduleOnce(function(){o.default.ocRewardGold=0,t.node.destroy()},15)},start:function(){}}),cc._RF.pop()},{cache:"cache"}],oceanRules:[function(e,t,n){"use strict";cc._RF.push(t,"55448qzGhJKSZEL+WsuffL8","oceanRules");var o=s(e("userData")),i=s(e("./ocConfig")),a=s(e("fx"));function s(e){return e&&e.__esModule?e:{default:e}}var c=e("cache"),r=1,l=0;cc.Class({extends:cc.Component,properties:{progressBar:cc.ProgressBar,bubbleGoldLabel:cc.Label,superProfitProgressBar:cc.ProgressBar,offlineProfitBtn:cc.Button,bottomUI:cc.Node,goldLabel:cc.Label,crystlaLabel:cc.Label},superProfitBuffSucces:function(){var e=this;this.soundCtrl.playBgSound("guitar"),this.superProfitProgressBar.progress=1,i.default.createBubbleTime=.3,this.superProfitProgressBar.node.getComponent(cc.Button).interactable=!1;var t=i.default.superProfitTime;this.schedule(function n(){t-=.1,e.superProfitProgressBar.progress=t/i.default.superProfitTime,t<=0&&(e.unschedule(n),e.soundCtrl.playBgSound("ocBgSound"),i.default.createBubbleTime=1,e.superProfitProgressBar.node.getComponent(cc.Button).interactable=!0)},.1)},bigBubble:function(){var e=this;this.soundCtrl.playSoundEffect("moreEnemy");for(var t=0;t<30;t++)this.scheduleOnce(function(){e.oceanScene.createEnemy()},.04*t)},bubbleBtn:function(){var e=this;if(!0!==this.progressBar.node.active&&(this.progressBar.node.active=!0),0!=o.default.noviceGuide.ocean)this.progressBar.progress+=.1,this.progressBar.progress>=1&&(this.soundCtrl.playSoundEffect("aEnemy"),this.progressBar.progress=0,this.oceanScene.createEnemy());else{this.soundCtrl.playSoundEffect("moreEnemy");for(var t=0;t<30;t++)this.scheduleOnce(function(){e.oceanScene.createEnemy()},.04*t)}},onBtnClick:function(e,t){switch(t){case"createUI":this.soundCtrl.playSoundEffect("btnClick"),this.oceanScene.createOcCreateUI();break;case"bubble":this.soundCtrl.playSoundEffect("btnClick"),this.bubbleBtn();break;case"bigBubble":this.soundCtrl.playSoundEffect("btnClick"),this.oceanScene.createOcCommonUI("bigBubble");break;case"superProfit":this.soundCtrl.playSoundEffect("btnClick"),this.oceanScene.createOcCommonUI("superProfit");break;case"offlineProfit":this.soundCtrl.playSoundEffect("btnClick"),this.oceanScene.createOcCommonUI("offlineProfit");break;case"backHomeScene":this.soundCtrl.stopSound(),a.default.save(),cc.director.loadScene("homeScene")}},updateBubbleGold:function(e){var t=this;if(this.bubbleGoldAnimState!=r){this.bubbleGoldAnimState=r;var n=10;this.schedule(function i(){n--;var s=parseInt(e/n);if(t.bubbleGoldLabel.string=a.default.unitConversion(o.default.bubbleGold+s),n<=0)return t.bubbleGoldAnimState=l,o.default.bubbleGold+=e,t.bubbleGoldLabel.string=a.default.unitConversion(o.default.bubbleGold),t.unschedule(i),void(o.default.bubbleGold<0&&(o.default.bubbleGold=0))},.03)}else o.default.bubbleGold+=e},updateGold:function(e){var t=this;if(this.goldAnimState!=r){this.goldAnimState=r;var n=10;this.schedule(function i(){n--;var s=parseInt(e/n);if(t.goldLabel.string=a.default.unitConversion(o.default.gold+s),n<=0)return t.goldAnimState=l,o.default.gold+=e,t.goldLabel.string=a.default.unitConversion(o.default.gold),t.unschedule(i),void(o.default.gold<0&&(o.default.gold=0))},.03)}else o.default.gold+=e},updateCrystla:function(){var e=this;this.crystlaLabel.string=a.default.unitConversion(o.default.crystla);this.schedule(function(){o.default.crystla<0&&(o.default.crystla=0),e.crystlaLabel.string=a.default.unitConversion(o.default.crystla)},.1)},createOcean:function(){for(var e=this,t=function(t){e.scheduleOnce(function(){1==o.default.ocean.stone[t].have&&e.oceanScene.createStone(t)},.02*t)},n=0;n<i.default.stone.length;n++)t(n);for(var a=function(t){e.scheduleOnce(function(){1==o.default.ocean.decorate[t].have&&e.oceanScene.createDecorate(t)},.02*t)},s=0;s<i.default.decorate.length;s++)a(s);for(var c=function(t){e.scheduleOnce(function(){1==o.default.ocean.fish[t].have&&e.oceanScene.createPlayerFish(t)},.4*t)},r=0;r<i.default.fish.length;r++)c(r)},setOfflinProfit:function(){var e=this;this.schedule(function(){0==o.default.getOceanOfflineTime&&(n=o.default.getOceanOfflineTime);var t=(new Date).getTime(),n=o.default.getOceanOfflineTime;Math.floor((t-n)/1e3)<=300?e.offlineProfitBtn.node.active=!1:(e.offlineProfitBtn.node.active=!0,cc.tween(e.offlineProfitBtn.node).to(.2,{x:315},{easing:"backOut"}).start())},1)},autoSave:function(){this.schedule(function(){a.default.save()},30)},iniAnim:function(){var e=this;cc.tween(this.bottomUI).to(1,{x:0},{easing:"backOut"}).call(function(){0==o.default.noviceGuide.ocean&&e.gameScene.createNoviceGuideUI("ocean")}).start()},autoClick:function(e){!0!==this.progressBar.node.active&&(this.progressBar.node.active=!0),0!=o.default.noviceGuide.ocean&&(this.progressBar.progress+=e/5,this.progressBar.progress>=1&&(this.progressBar.progress=0,this.soundCtrl.playSoundEffect("aEnemy"),this.oceanScene.createEnemy()))},onTapeShareBtnClick:function(){if(((new Date).getTime()-this.adCtrl.tapeStartTime)/1e3<=3)return console.log("\u5f55\u5c4f\u65f6\u95f4\u5c0f\u4e8e3\u79d2"),void this.gameScene.createTipsUI("tapeNoTime");this.gameScene.createTapeShareUI("oceanScene")},iniNode:function(){c.goldIconNode=cc.find("Canvas/topGroup/goldGroup/goldIcon"),c.crystlaNode=cc.find("Canvas/topGroup/crystlaGroup/crystlaIcon"),c.bubbleGoldNode=cc.find("Canvas/topGroup/bubbleGroup/bubbleGoldIcon"),this.soundCtrl.playBgSound("ocBgSound"),this.bubbleGoldIcon=cc.find("Canvas/topGroup/bubbleGroup/bubbleGoldIcon"),this.goldIcon=cc.find("Canvas/topGroup/goldGroup/goldIcon"),this.bubbleGoldAnimState=l,this.goldAnimState=l,this.crystlaAnimState=l,this.createOcean(),this.progressBar.node.active=!1,this.manager=cc.director.getCollisionManager().enabled=!0,this.updateBubbleGold(0),this.updateGold(0),this.updateCrystla(),this.superProfitProgressBar.progress=0,this.offlineProfitBtn.node.x=500,this.bottomUI.x=-900,this.setOfflinProfit(),this.autoSave(),this.iniAnim(),this.scheduleOnce(function(){cc.director.preloadScene("homeScene")},1),i.default.createBubbleTime=1,this.adCtrl.tapeStart()},updateMoneySch:function(){var e=this;this.schedule(function(){e.bubbleGoldAnimState==r||(e.bubbleGoldLabel.string=a.default.unitConversion(o.default.bubbleGold)),e.goldAnimState==r||(e.goldLabel.string=a.default.unitConversion(o.default.gold)),e.crystlaAnimState==r||(e.crystlaLabel.string=a.default.unitConversion(o.default.crystla))},1)},onLoad:function(){this.oceanScene=cc.find("Canvas").getComponent("oceanScene"),this.soundCtrl=cc.find("ctrlNode").getComponent("soundCtrl"),this.gameScene=cc.find("ctrlNode").getComponent("gameScene"),this.adCtrl=cc.find("ctrlNode").getComponent("adCtrl"),this.iniNode(),this.cumTime=0,cc.log(c.crystlaNode)},start:function(){this.updateMoneySch()},update:function(e){this.autoClick(e),this.cumTime+=e}}),cc._RF.pop()},{"./ocConfig":"ocConfig",cache:"cache",fx:"fx",userData:"userData"}],oceanScene:[function(e,t,n){"use strict";cc._RF.push(t,"2ed59pR0QJM56xSCB83gza7","oceanScene");var o=function(e){return e&&e.__esModule?e:{default:e}}(e("ocConfig"));cc.Class({extends:cc.Component,properties:{},iniNodePool:function(){this.ocCreateUINodePool=new cc.NodePool,this.ocCommonUINodePool=new cc.NodePool,this.newEnemyNodePool(),this.newBubbleGoldLabelNodePool(),this.newOcKillEffectNodePool()},newEnemyNodePool:function(){var e=this;this.enemyNodePool=new cc.NodePool;for(var t=["ocean/prefabs/enemy/enemy1-1","ocean/prefabs/enemy/enemy1-2","ocean/prefabs/enemy/enemy1-3"],n=function(n){var o=t[n],i=null;cc.loader.loadRes(o,cc.Prefab,function(t,n){i=cc.instantiate(n),e.enemyNodePool.put(i)})},o=0;o<3;o++)n(o)},newBubbleGoldLabelNodePool:function(){var e=this;this.bubbleGoldNodePool=new cc.NodePool;cc.loader.loadRes("ocean/prefabs/effect/bubbleGoldEffect",cc.Prefab,function(t,n){var o=cc.instantiate(n);e.bubbleGoldNodePool.put(o)})},newOcKillEffectNodePool:function(){var e=this;this.ocKillEffectNodePool=new cc.NodePool;cc.loader.loadRes("ocean/prefabs/effect/ocKillEffect",cc.Prefab,function(t,n){var o=cc.instantiate(n);e.ocKillEffectNodePool.put(o)})},createEnemy:function(){var e=this,t=null,n=["ocean/prefabs/enemy/enemy1-1","ocean/prefabs/enemy/enemy1-2","ocean/prefabs/enemy/enemy1-3"];if(this.enemyNodePool.size()>0)(t=this.enemyNodePool.get()).parent=this.enemyGroup,t.getComponent("ocEnemy").iniNode();else{var o=n[Math.floor(Math.random()*n.length)],i=null;cc.loader.loadRes(o,cc.Prefab,function(t,n){(i=cc.instantiate(n)).parent=e.enemyGroup,i.getComponent("ocEnemy").iniNode()})}},createPlayerFish:function(e){var t=this,n="ocean/prefabs/player/fish"+e;cc.loader.loadRes(n,cc.Prefab,function(n,o){var i=cc.instantiate(o);i.parent=t.playerFishGroup,i.getComponent("ocPlayerFishEvent").iniNode("fish",e)})},createStone:function(e){var t=this,n="ocean/prefabs/prop/"+o.default.stone[e].prefabName;cc.loader.loadRes(n,cc.Prefab,function(n,i){var a=cc.instantiate(i);a.parent=t.stoneGroup,a.zIndex=o.default.stone[e].zIndex,a.getComponent("ocProp").iniNode("stone",e)})},createDecorate:function(e){var t=this,n="ocean/prefabs/prop/"+o.default.decorate[e].prefabName;cc.loader.loadRes(n,cc.Prefab,function(n,i){var a=cc.instantiate(i);a.parent=t.decorateGroup,a.zIndex=o.default.decorate[e].zIndex,a.getComponent("ocProp").iniNode("decorate",e)})},createOcCreateUI:function(){var e=this,t=null;this.ocCreateUINodePool.size()>0?((t=this.ocCreateUINodePool.get()).parent=this.UINodeGroup,t.getComponent("ocCreateUI").iniNode()):cc.loader.loadRes("ocean/prefabs/UI/ocCreateUI",cc.Prefab,function(t,n){var o=cc.instantiate(n);o.parent=e.UINodeGroup,o.getComponent("ocCreateUI").iniNode()})},createBubbleGoldEffect:function(e,t){var n=this,o=null;this.bubbleGoldNodePool.size()>0?((o=this.bubbleGoldNodePool.get()).parent=this.effectGroup,o.getComponent("bubbleGoldEffect").iniNode(e,t)):cc.loader.loadRes("ocean/prefabs/effect/bubbleGoldEffect",cc.Prefab,function(o,i){var a=cc.instantiate(i);a.parent=n.effectGroup,a.getComponent("bubbleGoldEffect").iniNode(e,t)})},createOcCommonUI:function(e){var t=this,n=null;this.ocCommonUINodePool.size()>0?((n=this.ocCommonUINodePool.get()).parent=this.UINodeGroup,n.getComponent("ocCommonUI").iniNode(e)):cc.loader.loadRes("ocean/prefabs/UI/ocCommonUI",cc.Prefab,function(n,o){var i=cc.instantiate(o);i.parent=t.UINodeGroup,i.getComponent("ocCommonUI").iniNode(e)})},createRewardGold:function(e){var t=this;cc.loader.loadRes("ocean/prefabs/UI/ocRewardGold",cc.Prefab,function(n,o){var i=cc.instantiate(o);i.parent=t.effectGroup,i.getComponent("ocRewardGold").iniNode(e)})},createOcKillEffect:function(e,t){var n=this,o=null;this.ocKillEffectNodePool.size()>0?((o=this.ocKillEffectNodePool.get()).parent=this.effectGroup,o.getComponent("ocKillEffect").iniNode(e)):cc.loader.loadRes("ocean/prefabs/effect/ocKillEffect",cc.Prefab,function(t,o){var i=cc.instantiate(o);i.parent=n.effectGroup,i.getComponent("ocKillEffect").iniNode(e)})},onEnemyKill:function(e){this.enemyNodePool.put(e),cc.log(e.name,"\u653e\u5165\u8282\u70b9\u6c60")},onNodeKill:function(e){switch(e.name){case"ocCreateUI":this.ocCreateUINodePool.put(e);break;case"bubbleGoldEffect":this.bubbleGoldNodePool.put(e);break;case"ocKillEffect":this.ocKillEffectNodePool.put(e);break;case"ocCommonUI":this.ocCommonUINodePool.put(e);break;default:e.destroy(),cc.log("\u672a\u6b63\u786e\u56de\u6536\u7684\u8282\u70b9\uff0c\u5df2\u9500\u6bc1",e.name)}cc.log(e.name,"\u5df2\u653e\u5165\u8282\u70b9\u6c60")},onLoad:function(){this.stoneGroup=cc.find("Canvas/bottomGroup/stoneGroup"),this.decorateGroup=cc.find("Canvas/bottomGroup/decorateGroup"),this.UINodeGroup=cc.find("Canvas/UINodeGroup"),this.playerFishGroup=cc.find("Canvas/playerFishGroup"),this.enemyGroup=cc.find("Canvas/enemyGroup"),this.effectGroup=cc.find("Canvas/effectGroup"),this.iniNodePool()},start:function(){},update:function(e){}}),cc._RF.pop()},{ocConfig:"ocConfig"}],oneDayGroup:[function(e,t,n){"use strict";cc._RF.push(t,"723a5xE8rRB8KArdtjLR5KZ","oneDayGroup");var o=e("config"),i=e("fx");cc.Class({extends:cc.Component,properties:{},setSprite:function(e){var t=this,n="";switch(e){case"crystla":n="texture/signInProp/signIn_crystla";break;case"smallGold":n="texture/signInProp/signIn_smallGold";break;case"bigGold":n="texture/signInProp/signIn_bigGold";break;case"score":n="texture/signInProp/signIn_score";break;case"bubbleGold":n="texture/signInProp/signIn_bubbleGold"}cc.loader.loadRes(n,cc.SpriteFrame,function(e,n){e&&cc.log(e),t.iconSprite.spriteFrame=n})},iniNode:function(e){if(6!=e){this.dayLabel=this.node.getChildByName("dayLabel").getComponent(cc.Label),this.countLabel=this.node.getChildByName("countLabel").getComponent(cc.Label),this.iconSprite=this.node.getChildByName("icon").getComponent(cc.Sprite);var t=o.sevenDaySignIn[e].count;this.dayLabel.string=o.sevenDaySignIn[e].name,this.countLabel.string="x"+i.unitConversion(t),6!=e&&this.setSprite(o.sevenDaySignIn[e].type)}},onLoad:function(){},start:function(){}}),cc._RF.pop()},{config:"config",fx:"fx"}],optionUI:[function(e,t,n){"use strict";cc._RF.push(t,"dd9ce1qWIpCY5t7pylkILzP","optionUI");var o=function(e){return e&&e.__esModule?e:{default:e}}(e("fx"));var i=e("userData");cc.Class({extends:cc.Component,properties:{option_label_node:cc.Node,shakeBtnNode:cc.Node,sound_music_button_node:cc.Node,novice_help_button_node:cc.Node,bg_node:cc.Node,back_button_node:cc.Node,close_icon_array:[cc.Node],shakeState_label_node:cc.Node,sound_music_label_node:cc.Node,novice_help_center_node:cc.Node,novice_help_node:cc.Node,mask_node:cc.Node,tips_label_node:cc.Node},bg_anim:function(){cc.tween(this.bg_node).to(.4,{opacity:230}).start()},tips_label_anim:function(){cc.tween(this.tips_label_node).to(.3,{opacity:255}).start()},iniAnim:function(){var e=0;this.option_label_node.active=!0,this.option_label_node.scale=0,this.novice_help_button_node.active=!0,this.novice_help_button_node.scale=0,this.sound_music_button_node.active=!0,this.sound_music_button_node.scale=0,this.shakeBtnNode.active=!0,this.shakeBtnNode.scale=0,this.back_button_node.active=!0,this.back_button_node.scale=0,cc.tween(this.option_label_node).to(.4,{scale:1},{easing:"backOut"}).start(),cc.tween(this.novice_help_button_node).delay(e+=.4).to(.4,{scale:1},{easing:"backOut"}).start(),cc.tween(this.sound_music_button_node).delay(e+=.4).to(.4,{scale:1},{easing:"backOut"}).start(),cc.tween(this.shakeBtnNode).delay(e+=.4).to(.4,{scale:1},{easing:"backOut"}).start(),cc.tween(this.back_button_node).delay(e+=.4).to(.4,{scale:.8},{easing:"backOut"}).start()},iniNode:function(){this.gameScene=cc.find("ctrlNode").getComponent("gameScene"),this.homeRules=cc.find("Canvas").getComponent("homeRules"),this.soundCtrl=cc.find("ctrlNode").getComponent("soundCtrl"),this.adCtrl=cc.find("ctrlNode").getComponent("adCtrl"),this.adCtrl.showBannerAd(),this.updateBtnState(),this.option_label_node.active=!1,this.shakeBtnNode.active=!1,this.sound_music_button_node.active=!1,this.novice_help_button_node.active=!1,this.back_button_node.active=!1,this.bg_node.opacity=0,this.node.opacity=255,this.novice_help_center_node.x=1e3,this.novice_help_node.active=!1,this.mask_node.active=!1,this.mask_node.opacity=0,this.tips_label_node.opacity=0,this.iniAnim(),this.bg_anim()},updateBtnState:function(){var e=this.shakeState_label_node.getComponent(cc.Label),t=this.sound_music_label_node.getComponent(cc.Label);1==i.shakeState?(this.close_icon_array[1].active=!1,e.string="\u5173\u95ed\u9707\u52a8"):(this.close_icon_array[1].active=!0,e.string="\u5f00\u542f\u9707\u52a8"),1==i.soundState?(this.close_icon_array[0].active=!1,t.string="\u5173\u95ed\u58f0\u97f3"):(this.close_icon_array[0].active=!0,t.string="\u5f00\u542f\u58f0\u97f3")},novice_help_center_anim:function(){cc.tween(this.novice_help_center_node).to(.3,{x:0},{easing:"backOut"}).start()},novice_help_button_click:function(){var e=this;this.soundCtrl.playSoundEffect("btnClick"),(this.mask_node.active=!0)&&cc.tween(this.mask_node).to(.4,{opacity:0}).call(function(){e.mask_node.active=!1}).start(),this.novice_help_node.active=!0,this.novice_help_center_anim()},onSoundBtnClick:function(){this.soundCtrl.playSoundEffect("btnClick"),1==i.soundState?(i.soundState=0,this.soundCtrl.pauseAllSound()):(i.soundState=1,this.soundCtrl.resumeAllSound(),this.soundCtrl.playBgSound("homeBgSound")),this.updateBtnState()},onShakeBtnClick:function(){this.soundCtrl.playSoundEffect("btnClick"),1==i.shakeState?i.shakeState=0:i.shakeState=1,this.updateBtnState()},on_back_button_click:function(){var e=this;this.soundCtrl.playSoundEffect("exit"),this.adCtrl.hideBannerAd(),cc.tween(this.node).to(.4,{opacity:0}).call(function(){o.default.save(),e.gameScene.onNodeKill(e.node)}).start()},on_back_novice_help_click:function(){var e=this;cc.tween(this.novice_help_center_node).to(.4,{x:1e3},{easing:"backIn"}).call(function(){e.novice_help_node.active=!1}).start()},on_novice_help:function(){0==i.newPlayer&&(this.mask_node.active=!0,cc.tween(this.mask_node).delay(1).to(.3,{opacity:255},{easing:"sineOut"}).start())},onLoad:function(){},start:function(){}}),cc._RF.pop()},{fx:"fx",userData:"userData"}],playerFishEvent:[function(e,t,n){"use strict";cc._RF.push(t,"4c820XG81VOCrLFqcX0NqvI","playerFishEvent"),cc.Class({extends:cc.Component,properties:{},onCollisionEnter:function(e,t){},playAnim:function(e){this.gameRules=cc.find("Canvas").getComponent("gameRules"),this.enemyGroup=cc.find("Canvas").getComponent("enemyGroup"),this.player=cc.find("Canvas/player").getComponent("player"),this.anim=this.node.getComponent(cc.Animation);var t=this.anim.getClips(),n=t[0],o=t[1],i=this.anim.getAnimationState(n.name),a=this.anim.getAnimationState(o.name);switch(e){case"eatAnim":if(a.isPlaying)return;this.anim.play(o.name);break;case"idleAnim":if(i.isPlaying)return;this.anim.play(n.name)}},onLoad:function(){},start:function(){},update:function(e){}}),cc._RF.pop()},{}],player:[function(e,t,n){"use strict";cc._RF.push(t,"2d26d73BrhI6JGw1Zt3UKsW","player");(function(e){e&&e.__esModule})(e("cache"));e("userData");cc.Class({extends:cc.Component,properties:{mainCamera:{type:cc.Node,default:null},joyStick:{type:e("joyStick"),default:null},watchStickNode:cc.Node},reverseFishLeft:function(){this.fishNode.scaleY<0||(this.fishNode.scaleY=-this.fishNode.scaleY)},reverseFishRight:function(){this.fishNode.scaleY<0&&(this.fishNode.scaleY=-this.fishNode.scaleY)},mainCameraMove:function(e){this.mainCamera.setPosition(this.node.position)},playerMove:function(e){if(this.playerSpeed=this.gameRules.playerSpeed,this.speedScale=this.joyStick.node.position.mag()/this.joyStick.maxRadius,this.nowSpeed=this.playerSpeed*this.speedScale,0!=this.joyStick.moveState){var t=this.joyStick.dir.x*this.nowSpeed*e,n=this.joyStick.dir.y*this.nowSpeed*e;if(isNaN(this.joyStick.dir.x))cc.log("\u65e0\u6548\u79fb\u52a8");else{this.node.x+=t,this.node.y+=n;var o=180*Math.atan2(this.joyStick.dir.y,this.joyStick.dir.x)/Math.PI;this.fishNode.angle=o,this.fishNode.angle>90||this.fishNode.angle<-90?this.reverseFishLeft():this.reverseFishRight()}}},onLoad:function(){this.gameRules=cc.find("Canvas").getComponent("gameRules"),this.fishNode=null},start:function(){},update:function(e){this.playerMove(e)},lateUpdate:function(){this.mainCameraMove()}}),cc._RF.pop()},{cache:"cache",joyStick:"joyStick",userData:"userData"}],push_config:[function(e,t,n){"use strict";cc._RF.push(t,"6eec1ubimVIWYJZ2xZe7wCo","push_config"),t.exports={star:{appid:"wx245c8b36c9db621b"},idleFram:{appid:"wx2d65e40cc7894824"}},cc._RF.pop()},{}],redTips:[function(e,t,n){"use strict";cc._RF.push(t,"160f2BWVchATYS61AQWF9q3","redTips");var o=function(e){return e&&e.__esModule?e:{default:e}}(e("userData"));var i=e("config");cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.node.opacity=0},start:function(){var e=this;this.schedule(function(){var t=o.default.haveFishArr.length,n=(new Date).getTime();switch(e.node.name){case"eggTips":if(1==o.default.haveEgg){t++;var a=n-o.default.eggStartTime,s=60*i.eggNeedTime*1e3;e.node.opacity=a>=s?255:0}else{if(o.default.cumScore>=i.getFish[t])return void(e.node.opacity=255);e.node.opacity=0}break;case"moneyTips":var c=o.default.treaSureBoxLv,r=Math.floor((n-o.default.getOfflineGoldTime)/1e3/60)*i.growGold*t,l=i.treaSureBoxCapacity[c-1];r>=l?(r=l,e.node.opacity=255):e.node.opacity=0;break;case"giftCenterTips":if(0==o.default.giftCenter.myGame)return void(e.node.opacity=255);if(0==o.default.giftCenter.colorSign)return void(e.node.opacity=255);if(0==o.default.giftCenter.subscription)return void(e.node.opacity=255);if(0==o.default.giftCenter.todayVideo)return void(e.node.opacity=255);if(0==o.default.giftCenter.todayShare)return void(e.node.opacity=255);e.node.opacity=0;break;case"shopTips":o.default.giftCenter.todayVideoCount>=20&&0==o.default.giftCenter.getBigCrystla?e.node.opacity=255:e.node.opacity=0;break;case"lotteryTips":o.default.giftCenter.lotteryCount<10?e.node.opacity=255:e.node.opacity=0;break;case"signInTips":0==o.default.giftCenter.todaySignIn&&1!==o.default.sevenDaySignIn[6]?e.node.opacity=255:e.node.opacity=0}},1)}}),cc._RF.pop()},{config:"config",userData:"userData"}],resPath:[function(e,t,n){"use strict";cc._RF.push(t,"72e51eSed9Cp7ma4COYzBHU","resPath"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default={},t.exports=n.default,cc._RF.pop()},{}],scoreEffect:[function(e,t,n){"use strict";cc._RF.push(t,"cf850i1jJhBe5xuCbnfHZ8Q","scoreEffect"),cc.Class({extends:cc.Component,properties:{},iniNode:function(e){var t=(Math.random()>.5?1:-1)*Math.random()*80;this.node.setPosition(cc.v2(t,0)),this.node.getComponent(cc.Label).string="+"+e,this.node.zIndex=1e3,this.node.opacity=0,this.startAnim()},startAnim:function(){var e=this;cc.tween(this.node).to(.2,{opacity:255}).call(function(){cc.tween(e.node).to(1,{y:300,opacity:0},{easing:"sineIn"}).call(function(){e.createScene.onNodeKill(e.node)}).start()}).start()},onLoad:function(){this.createScene=cc.find("Canvas").getComponent("createScene")},start:function(){}}),cc._RF.pop()},{}],shopUI:[function(e,t,n){"use strict";cc._RF.push(t,"da4afcqYcJHEZRWo343fWyd","shopUI");var o=e("userData"),i=e("config");cc.Class({extends:cc.Component,properties:{crystlaLabel:cc.Label,quickEggCountLabel:cc.Label,cumAdTipsLabel:cc.Label},onGetBtnClick:function(){if(1==o.giftCenter.getBigCrystla)return this.soundCtrl.playSoundEffect("noMoney"),void this.gameScene.createTipsUI("geted");this.soundCtrl.playSoundEffect("btnClick"),this.cumAdCount<20?this.gameScene.createTipsUI("noCumCount"):(this.gameScene.createGetRewardUI("crystla",10),o.giftCenter.getBigCrystla=1)},updateCystla:function(){var e=this;this.schedule(function(){e.crystlaLabel.string=o.crystla,e.cumAdCount=o.giftCenter.todayVideoCount,e.cumAdTipsLabel.string="\u5df2\u7d2f\u8ba1\u64ad\u653e\u89c6\u9891:"+e.cumAdCount},.5)},updateQuickEggCount:function(){o.quickEggCount;var e=10+10*o.quickEggCount;return this.quickEggCountLabel.string=e,e},onVideoGetCystlaClick:function(){this.soundCtrl.playSoundEffect("btnClick"),this.adCtrl.showVideoAd("getCrystla"),this.videoJudge()},videoJudge:function(){this.schedule(function e(){1==this.adCtrl.rewardState&&"getCrystla"==this.adCtrl.rewardTag?(this.unschedule(e),this.adCtrl.iniReward(),this.gameScene.createGetRewardUI("crystla",1)):0==this.adCtrl.rewardState&&null==this.adCtrl.rewardTag&&this.unschedule(e)},.2)},getRandomGold:function(){var e=o.treaSureBoxLv,t=i.treaSureBoxCapacity[e-1];return t+Math.floor(Math.random()*t)},onBuyBtnClick:function(e,t){var n=o.crystla,i=0,a=this.getRandomGold();if("gold"==t){if(!(n>=(i=5)))return this.soundCtrl.playSoundEffect("noMoney"),void this.gameScene.createTipsUI("noCrystla");this.soundCtrl.playSoundEffect("btnClick"),this.gameScene.createGetRewardUI("bigGold",a),o.crystla-=i}else{if("egg"!=t)return;if(!(n>=(i=this.updateQuickEggCount())))return this.soundCtrl.playSoundEffect("noMoney"),void this.gameScene.createTipsUI("noCrystla");var s=this.getRandomFish();if(void 0==s)return this.soundCtrl.playSoundEffect("noMoney"),void this.gameScene.createTipsUI("fishFull");this.soundCtrl.playSoundEffect("btnClick"),this.gameScene.createNewPropUI("fish",s),o.quickEggCount++,o.crystla-=i,this.updateQuickEggCount()}},getRandomFish:function(){for(var e=[],t=Object.keys(o.fishArr),n=0;n<t.length;n++)0==o.fishArr[n].have&&e.push(n);var i=Math.floor(Math.random()*e.length);return cc.log(i),e[i]},onHelpBtnClick:function(e,t){this.soundCtrl.playSoundEffect("btnClick"),this.gameScene.createCommonUI(t)},cameraOut:function(){if(this.mainCamera){var e=this.node.parent.convertToWorldSpaceAR(this.node.position),t=this.mainCamera.convertToNodeSpaceAR(e);Math.abs(t.x)>=750?this.node.opacity=0:this.node.opacity=255}},iniNode:function(){this.soundCtrl=cc.find("ctrlNode").getComponent("soundCtrl"),this.gameScene=cc.find("ctrlNode").getComponent("gameScene"),this.homeRules=cc.find("Canvas").getComponent("homeRules"),this.adCtrl=cc.find("ctrlNode").getComponent("adCtrl"),this.mainCamera=cc.find("Canvas/Main Camera"),this.updateQuickEggCount(),this.iniState=!0},onLoad:function(){},start:function(){this.updateCystla()},update:function(e){this.iniState&&this.cameraOut()}}),cc._RF.pop()},{config:"config",userData:"userData"}],signInUI:[function(e,t,n){"use strict";cc._RF.push(t,"83e3168BF1C2bB3gWiYGkcD","signInUI");var o=e("userData"),i=e("config"),a=e("fx");cc.Class({extends:cc.Component,properties:{groupNode:cc.Node,shadowGroup:cc.Node,lockedNode:cc.Node,bottomNode:cc.Node,exitNode:cc.Node,centerNode:cc.Node},onToggleBtnClick:function(){"ad"==this.getType?(this.getType="free",this.lockedNode.active=!1):(this.getType="ad",this.lockedNode.active=!0)},updateData:function(){for(var e=0;e<this.groupNode.children.length;e++)this.groupNode.children[e].getComponent("oneDayGroup").iniNode(e),1==o.sevenDaySignIn[e]?this.shadowGroup.children[e].active=!0:this.shadowGroup.children[e].active=!1},iniNode:function(){var e=this;this.gameScene=cc.find("ctrlNode").getComponent("gameScene"),this.adCtrl=cc.find("ctrlNode").getComponent("adCtrl"),this.soundCtrl=cc.find("ctrlNode").getComponent("soundCtrl"),this.updateData(),this.getType="ad",this.lockedNode.active=!0,this.bottomNode.y=-310,this.exitNode.active=!1,this.shadowGroup.active=!0,this.centerNode.scale=0,this.rewardScale=1,cc.tween(this.centerNode).to(.2,{scale:1},{easing:"backOut"}).start(),this.scheduleOnce(function(){e.exitNode.active=!0},2),this.adCtrl.showBannerAd()},onGetBtnClick:function(){0==o.giftCenter.todaySignIn&&1!==o.sevenDaySignIn[6]?(this.soundCtrl.playSoundEffect("btnClick"),"ad"==this.getType?(cc.log("showAd"),this.adCtrl.showVideoAd("getCrystla"),this.videoJudge()):this.getReward()):(this.soundCtrl.playSoundEffect("noMoney"),this.gameScene.createTipsUI("geted"))},videoJudge:function(){var e=this;this.schedule(function t(){1==e.adCtrl.rewardState&&"getCrystla"==e.adCtrl.rewardTag?(e.unschedule(t),e.adCtrl.iniReward(),e.rewardScale=2,e.getReward()):0==e.adCtrl.rewardState&&null==e.adCtrl.rewardTag&&e.unschedule(t)},.2)},getReward:function(){this.rewardType,this.rewardCount;for(var e=0;e<7;e++)if(0==o.sevenDaySignIn[e]){o.sevenDaySignIn[e]=1,o.giftCenter.todaySignIn=1,this.rewardType=i.sevenDaySignIn[e].type,this.rewardCount=i.sevenDaySignIn[e].count*this.rewardScale;break}this.updateData(),this.gameScene.createGetRewardUI(this.rewardType,this.rewardCount),this.onExit()},onExit:function(){var e=this;this.soundCtrl.playSoundEffect("exit"),this.adCtrl.hideBannerAd(),a.save(),cc.tween(this.centerNode).to(.1,{scale:0}).call(function(){e.node.destroy()}).start()},start:function(){}}),cc._RF.pop()},{config:"config",fx:"fx",userData:"userData"}],soundCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"d79d7yBVoRC/KsdT5fpsepa","soundCtrl");var o=function(e){return e&&e.__esModule?e:{default:e}}(e("userData"));cc.Class({extends:cc.Component,properties:{},playBgSound:function(e){if(0!=o.default.soundState){this.stopSound();var t="sounds/"+e;cc.loader.loadRes(t,cc.AudioClip,function(e,t){e&&console.log(e),cc.audioEngine.playMusic(t,!0,1)})}else cc.audioEngine.pauseMusic()},stopSound:function(){cc.audioEngine.stopMusic(),cc.audioEngine.stopAllEffects()},pauseAllSound:function(){cc.audioEngine.pauseAllEffects(),cc.audioEngine.pauseMusic()},resumeAllSound:function(){0!=o.default.soundState&&(cc.audioEngine.resumeMusic(),cc.audioEngine.resumeAllEffects())},playSoundEffect:function(e){if(0!=o.default.soundState){var t="";if("killEnemy"==e){var n=["killEnemy0","killEnemy1","killEnemy2"];t="sounds/"+n[Math.floor(Math.random()*n.length)]}else t="sounds/"+e;cc.loader.loadRes(t,cc.AudioClip,function(e,t){e&&console.log(e),cc.audioEngine.playEffect(t,!1,1)})}else cc.audioEngine.pauseAllEffects()},onLoad:function(){},start:function(){}}),cc._RF.pop()},{userData:"userData"}],tapeShareUI:[function(e,t,n){"use strict";cc._RF.push(t,"bc9370T5PRCxaEX6sGpkhN5","tapeShareUI");var o=e("cache"),i=e("config"),a=e("userData");cc.Class({extends:cc.Component,properties:{centerNode:cc.Node,rewardLabel:cc.Label},iniNode:function(e){switch(this.gameScene=cc.find("ctrlNode").getComponent("gameScene"),this.soundCtrl=cc.find("ctrlNode").getComponent("soundCtrl"),this.gameRules=cc.find("Canvas").getComponent("gameRules"),this.adCtrl=cc.find("ctrlNode").getComponent("adCtrl"),this.adCtrl.tapeStop(),this.type=e,e){case"gameOver":this.rewardLabel.string="\u989d\u5916\u5206\u6570\u5956\u52b1 +50";break;case"homeScene":this.rewardLabel.string="\u94bb\u77f3\u5956\u52b1 +1";break;case"oceanScene":this.rewardLabel.string="\u989d\u5916\u6c14\u6ce1\u5956\u52b1 +50000"}this.centerNode.scale=0,cc.tween(this.centerNode).to(.3,{scale:1},{easing:"backOut"}).start()},exit:function(){var e=this;this.soundCtrl.playSoundEffect("exit"),cc.tween(this.centerNode).to(.1,{scale:0}).call(function(){e.adCtrl.tapeStart(),e.gameScene.onNodeKill(e.node)}).start()},shareSucces:function(){switch(this.type){case"gameOver":a.cumScore+=50,this.gameScene.createRewardEffect("rewardScore",this.node,o.gameOverEgg,50),o.gameOverUI.iniData(),o.gameOverUI.tapeShareGroup.active=!1;break;case"homeScene":this.gameScene.createGetRewardUI("crystla",1);break;case"oceanScene":this.gameScene.createGetRewardUI("bubbleGold",5e4)}this.exit()},onShareBtnClick:function(){var e=this;if(this.soundCtrl.playSoundEffect("btnClick"),console.log(o.tapePath,"\u5f55\u5c4f\u8def\u5f84"),"undefined"!=typeof tt)if(null!=o.tapePath){console.log("\u8fdb\u5165\u5206\u4eab\u529f\u80fd");var t=i.tapeDesc[Math.floor(Math.random()*i.tapeDesc.length)];tt.shareAppMessage({channel:"video",title:"\u50cf\u7d20\u9c7c2\u8fdb\u5316",desc:t,templateId:"e3a1217gif2b1b4jff",extra:{videoPath:o.tapePath,videoTopics:["\u50cf\u7d20\u9c7c2\u8fdb\u5316","\u5c0f\u6e38\u620f"]},success:function(){console.log("\u5f55\u5c4f\u5206\u4eab\u6210\u529f"),e.shareSucces()},fail:function(){console.log("\u5f55\u5c4f\u5206\u4eab\u5931\u8d25",o.tapePath),e.gameScene.createTipsUI("tapeShareFail")}})}else this.gameScene.createTipsUI("tapeFail")},start:function(){}}),cc._RF.pop()},{cache:"cache",config:"config",userData:"userData"}],testGame:[function(e,t,n){"use strict";cc._RF.push(t,"3a9f9ptmHNEg5bzcQDxHObz","testGame"),cc.Class({extends:cc.Component,properties:{},onLevelUpBtnClick:function(){this.createScene.createLevelUpEffect(),this.gameRules.updatePlayerData()},onLoad:function(){this.createScene=cc.find("Canvas").getComponent("createScene"),this.gameRules=cc.find("Canvas").getComponent("gameRules")},start:function(){}}),cc._RF.pop()},{}],test:[function(e,t,n){"use strict";cc._RF.push(t,"5b0b3TUxaZMao28pUprP7iq","test");var o=a(e("userData")),i=a(e("fx"));function a(e){return e&&e.__esModule?e:{default:e}}cc.Class({extends:cc.Component,properties:{},unLockAll:function(){for(var e=0;e<o.default.ocean.stone.length;e++)o.default.ocean.stone[e].have=1;for(var t=0;t<o.default.ocean.decorate.length;t++)o.default.ocean.decorate[t].have=1;for(var n=0;n<o.default.ocean.fish.length;n++)o.default.ocean.fish[n].have=1;cc.log(o.default.ocean,"ocean")},onBtnClick:function(e,t){var n=this;switch(t){case"clearAll":i.default.clear();break;case"addGold":this.homeRules.updateGold(1e4);break;case"addScore":o.default.cumScore+=1e3;break;case"addOfflineTime":o.default.getOfflineGoldTime-=36e5;break;case"addCrystla":o.default.crystla+=1e3;break;case"addBubbleGold":o.default.bubbleGold+=1e5;break;case"addEggStartTime":o.default.eggStartTime-=36e5;break;case"addOceanOfflineTime":o.default.getOceanOfflineTime-=36e5;break;case"unLockAll":this.unLockAll();break;case"oceanScene":this.gameScene.autoNodeKill(),cc.director.loadScene("oceanScene");break;case"bigBubble":this.oceanScene=cc.find("Canvas").getComponent("oceanScene");for(var a=0;a<15;a++)this.scheduleOnce(function(){n.oceanScene.createEnemy()},.04*a)}},onLoad:function(){this.homeRules=cc.find("Canvas").getComponent("homeRules"),this.gameScene=cc.find("ctrlNode").getComponent("gameScene")},start:function(){}}),cc._RF.pop()},{fx:"fx",userData:"userData"}],tipsUI:[function(e,t,n){"use strict";cc._RF.push(t,"2d534WYS5NJGovNsHceurZt","tipsUI"),cc.Class({extends:cc.Component,properties:{label:cc.Label},iniData:function(e){switch(e){case"waitLottery":this.label.string="\u8bf7\u7b49\u5f85\u5f53\u524d\u62bd\u5956\u7ed3\u675f";break;case"lotteryCountMax":this.label.string="\u6bcf\u5929\u6700\u591a\u62bd\u595610\u6b21\u54e6~";break;case"geted":this.label.string="\u4eca\u5929\u5df2\u7ecf\u9886\u8fc7\u4e86~";break;case"getMoreSkill":this.label.string="\u83b7\u5f97\u989d\u5916\u7684\u6280\u80fd";break;case"noCumCount":this.label.string="\u6ca1\u6709\u64ad\u653e\u8db3\u591f\u7684\u89c6\u9891\uff0c\u5f85\u4f1a\u518d\u6765\u5427~";break;case"noBubbleGold":this.label.string="\u6ca1\u6709\u8db3\u591f\u7684\u6c14\u6ce1\u54e6~";break;case"noCrystla":this.label.string="\u661f\u8fb0\u6c34\u6676\u4e0d\u8db3";break;case"noGold":this.label.string="\u91d1\u5e01\u4e0d\u8db3";break;case"videoWait":this.label.string="\u8bf7\u7a0d\u7b49\u4e00\u4e0b~";break;case"noOfflineGold":this.label.string="\u6682\u65f6\u6ca1\u6709\u91d1\u5e01\u53ef\u4ee5\u9886\u53d6~";break;case"fishFull":this.label.string="\u8bf7\u7b49\u5f85\u66f4\u591a\u5c0f\u9c7c\u52a0\u5165\u5466~";break;case"addFail":this.label.string="\u6210\u529f\u6dfb\u52a0\u624d\u80fd\u83b7\u5f97\u5956\u52b1\u54e6";break;case"subscriptionFail":this.label.string="\u6210\u529f\u8ba2\u9605\u540e\u624d\u80fd\u83b7\u5f97\u5956\u52b1\u54e6";break;case"subscriptioned":this.label.string="\u53ea\u80fd\u9886\u53d6\u4e00\u6b21\u8ba2\u9605\u5956\u52b1\u54e6";break;case"addMyGmaeSucces":this.label.string="\u6211\u7684\u5c0f\u7a0b\u5e8f\u542f\u52a8\u5956\u52b1";break;case"haveEgg":this.label.string="\u8bf7\u5148\u5b75\u5316\u5f53\u524d\u86cb~";break;case"shareSucces":this.label.string="\u5206\u4eab\u6210\u529f~";break;case"shareFail":this.label.string="\u5206\u4eab\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5~";break;case"doubleScore":this.label.string="\u5f97\u5206\u7ffb\u500d~";break;case"videoFail":this.label.string="\u89c2\u770b\u5b8c\u6574\u89c6\u9891\u624d\u6709\u5956\u52b1\u54e6~";break;case"eggSpeedUp":this.label.string="\u52a0\u901f\u6210\u529f~";break;case"getDoubelGold":this.label.string="\u83b7\u5f97\u53cc\u500d\u91d1\u5e01\u5956\u52b1~";break;case"noBubble":this.label.string="\u6c14\u6ce1\u4e0d\u8db3";break;case"tapeNoTime":this.label.string="\u5f55\u5c4f\u65f6\u95f4\u8981\u5927\u4e8e3\u79d2";break;case"tapeOver":this.label.string="\u5f55\u5c4f\u5df2\u7ed3\u675f";break;case"tapeShareSucces":this.label.string="\u83b7\u5f97\u661f\u8fb0\u6c34\u6676x2";break;case"tapeTimeMax":this.label.string="\u5df2\u8fbe\u6700\u5927\u5f55\u5c4f\u65f6\u95f4";break;case"tapeShareFail":this.label.string="\u5206\u4eab\u540e\u624d\u80fd\u83b7\u5f97\u5956\u52b1~";break;case"tapeFail":this.label.string="\u5f55\u5c4f\u52a0\u8f7d\u51fa\u73b0\u9519\u8bef\uff0c\u8bf7\u91cd\u65b0\u5f55\u5236~";break;case"unLockSceneSucces":this.label.string="\u89e3\u9501\u4e86\u65b0\u7684\u573a\u666f\u88c5\u9970\uff01";break;default:return void cc.log("\u65e0\u6548\u7684\u540d\u79f0")}},tipsNodeAnim:function(){var e=this;this.node.y=0,cc.tween(this.node).to(.3,{y:30,opacity:255},{easing:"sineOut"}).delay(1).to(.3,{y:120,opacity:0},{easing:"sineIn"}).call(function(){e.gameScene.onNodeKill(e.node)}).start()},iniNode:function(e){this.gameScene=cc.find("ctrlNode").getComponent("gameScene"),this.iniData(e),this.tipsNodeAnim()},onLoad:function(){},start:function(){}}),cc._RF.pop()},{}],touchScroll_old:[function(e,t,n){"use strict";cc._RF.push(t,"a764aFj3nFKDr/91CjZgXKe","touchScroll_old");var o=e("fx"),i=e("userData");cc.Class({extends:cc.Component,properties:{},setFishIconGray:function(){for(var e=Object.keys(i.fishArr),t=0;t<e.length;t++){var n=i.fishArr[t].have,o=this.content.children[t].getChildByName("icon").getComponent(cc.Sprite);0==n?o.setMaterial(0,cc.MaterialVariant.createWithBuiltin("2d-gray-sprite",o)):o.setMaterial(0,cc.MaterialVariant.createWithBuiltin("2d-sprite",o))}},setSprite:function(e,t){var n="texture/icon/fishIcon"+t;cc.loader.loadRes(n,cc.SpriteFrame,function(t,n){t?cc.log(t):e.spriteFrame=n})},iniData:function(){},iniNode:function(){this.iniEvent();for(var e=0;e<2;e++){cc.instantiate(this.node.children[0]).parent=this.node}for(var t=0;t<this.node.childrenCount;t++){var n=this.node.children[t],o=n.getComponent("fishContent"),a=n.getChildByName("icon").getComponent(cc.Sprite);o.iniNode(.5+t/this.node.childrenCount,t),n.index=i.useFish+t,this.setSprite(a,n.index)}},iniEvent:function(){this.node.on("touchmove",this.touchMove,this),this.node.on("touchend",this.touchEnd,this)},eventDestroy:function(){this.node.off("touchmove",this.touchMove,this),this.node.off("touchend",this.touchEnd,this)},touchMove:function(e){var t=this;this.targetProgressArr=[],this.startPos=e.getStartLocation();var n=e.getDelta().x/this.node.width;this.node.children.forEach(function(e){var o=e.getComponent("fishContent"),i=e.getChildByName("icon").getComponent(cc.Sprite);o.progress=n>=0?(o.progress+n)%1:(o.progress+n+1)%1,o.progress<=0&&(e.index--,t.setSprite(i,e.index))})},touchEnd:function(e){for(var t=[],n=0;n<this.node.childrenCount;n++){var i=this.node.children[n].getComponent("fishContent");t.push(Math.abs(i.progress-.5))}for(var a=o.getMaxOrMin(t,"min"),s=.5-this.node.children[a[1]].getComponent("fishContent").progress,c=0;c<this.node.childrenCount;c++){var r=(this.node.children[c].getComponent("fishContent").progress+s)%1;this.targetProgressArr.push(r)}},updateScorllToCenter:function(e){if(this.targetProgressArr[0])for(var t=0;t<this.node.childrenCount;t++){var n=this.node.children[t].getComponent("fishContent");n.progress=cc.misc.lerp(n.progress,this.targetProgressArr[t],.1)}},onLoad:function(){this.iniNode()},start:function(){},update:function(e){this.targetProgressArr&&this.updateScorllToCenter()}}),cc._RF.pop()},{fx:"fx",userData:"userData"}],touchScroll:[function(e,t,n){"use strict";cc._RF.push(t,"009a3MR6oJOE5JWOfcXvtPt","touchScroll");var o=e("fx"),i=e("userData"),a=e("cache");cc.Class({extends:cc.Component,properties:{},setFishIconGray:function(){for(var e=Object.keys(i.fishArr),t=0;t<e.length;t++){var n=i.fishArr[t].have,o=this.node.children[t].getChildByName("icon").getComponent(cc.Sprite);0==n?o.setMaterial(0,cc.MaterialVariant.createWithBuiltin("2d-gray-sprite",o)):o.setMaterial(0,cc.MaterialVariant.createWithBuiltin("2d-sprite",o))}},setSprite:function(e,t){var n="texture/icon/fishIcon"+t;cc.loader.loadRes(n,cc.SpriteFrame,function(t,n){t?cc.log(t):e.spriteFrame=n})},iniNode:function(){var e=this;this.disInterval=250,this.targetPosArr=[],this.iniEvent();for(var t=0;t<8;t++){cc.instantiate(this.node.children[0]).parent=this.node}for(var n=0;n<this.node.childrenCount;n++){var o=this.node.children[n];o.x=n*this.disInterval;var a=o.getChildByName("icon").getComponent(cc.Sprite);this.setSprite(a,n)}this.setFishIconGray();var s=i.useFish;this.node.children.forEach(function(t){var n=t.x-s*e.disInterval;e.targetPosArr.push(n)})},iniEvent:function(){this.node.on("touchmove",this.touchMove,this),this.node.on("touchend",this.touchEnd,this),this.node.on("touchcancel",this.touchEnd,this)},eventDestroy:function(){this.node.off("touchmove",this.touchMove,this),this.node.off("touchend",this.touchEnd,this),this.node.off("touchcancel",this.touchEnd,this)},touchMove:function(e){this.targetPosArr=[];var t=e.getDelta().x;this.node.children.forEach(function(e){e.x+=t})},touchEnd:function(e){for(var t=this,n=[],i=0;i<this.node.childrenCount;i++)n.push(Math.abs(0-this.node.children[i].x));var a=o.getMaxOrMin(n,"min"),s=0-this.node.children[a.index].x;this.node.children.forEach(function(e){var n=e.x+s;t.targetPosArr.push(n)})},updateScorllToCenter:function(e){for(var t=0;t<this.node.childrenCount;t++){"number"!=typeof this.targetPosArr[0]||(this.node.children[t].x=cc.misc.lerp(this.node.children[t].x,this.targetPosArr[t],.1));var n=Math.abs(this.node.children[t].x),o=1-1*(n/this.disInterval)+.6;o>=1&&(o=1),this.node.children[t].scale=o,n<this.disInterval/2&&(a.centerIndex=t)}},onLoad:function(){this.iniNode()},start:function(){},update:function(e){this.targetPosArr&&this.updateScorllToCenter()}}),cc._RF.pop()},{cache:"cache",fx:"fx",userData:"userData"}],upTreaSureBoxUI:[function(e,t,n){"use strict";cc._RF.push(t,"1eb2f67v/VB7IojBjncu7hz","upTreaSureBoxUI");var o=e("userData"),i=e("config");cc.Class({extends:cc.Component,properties:{level_label_node:cc.Node,cost_label_node:cc.Node,center:cc.Node,upGrade_icons:{type:cc.Node,default:[]},yellow_button_node:cc.Node,bg_node:cc.Node},center_anim:function(){cc.tween(this.center).to(.3,{y:-220},{easing:"backOut"}).start()},setUpGradeIcons:function(){var e=o.treaSureBoxLv,t=this.level_label_node.getComponent(cc.Label);e>=5?(o.treaSureBoxLv=5,t.string="\u7b49\u7ea7MAX"):t.string="\u7b49\u7ea7"+e;for(var n=0;n<e;n++)this.upGrade_icons[n].active=!0;this.scheduleOnce(function(){this.setUpGradeIcons()},.5)},setBtnState:function(){var e=this.yellow_button_node.getComponent(cc.Button),t=this.cost_label_node.getComponent(cc.Label),n=o.treaSureBoxLv,a=i.treaSureBoxCost[n-1];n>=5?(o.treaSureBoxLv=5,e.interactable=!1,t.string="MAX"):t.string=a},videoJudge:function(){this.schedule(function e(){1==this.adCtrl.rewardState&&"getCrystla"==this.adCtrl.rewardTag?(this.unschedule(e),this.adCtrl.iniReward(),this.gameScene.createGetRewardUI("crystla",1)):0==this.adCtrl.rewardState&&null==this.adCtrl.rewardTag&&this.unschedule(e)},.2)},upGrade_treaSure_box_button_click:function(){var e=o.treaSureBoxLv,t=i.treaSureBoxCost[e-1];if(!(o.gold>=t))return this.soundCtrl.playSoundEffect("noMoney"),this.gameScene.createTipsUI("noGold"),void this.gameScene.createLotteryUI();this.soundCtrl.playSoundEffect("levelUpHome"),this.homeRules.updateGold(-t),o.treaSureBoxLv++,this.setBtnState()},exit_button_click:function(){var e=this;this.soundCtrl.playSoundEffect("exit"),cc.tween(this.center).to(.3,{y:-1100},{easing:"backIn"}).call(function(){cc.tween(e.bg_node).to(.1,{opacity:0}).call(function(){e.gameScene.onNodeKill(e.node)}).start()}).start()},iniNode:function(){this.soundCtrl=cc.find("ctrlNode").getComponent("soundCtrl"),this.homeRules=cc.find("Canvas").getComponent("homeRules"),this.gameScene=cc.find("ctrlNode").getComponent("gameScene"),this.adCtrl=cc.find("ctrlNode").getComponent("adCtrl"),this.center.y=-1100,this.bg_node.opacity=255,this.setUpGradeIcons(),this.center_anim(),this.setBtnState()},onLoad:function(){},start:function(){}}),cc._RF.pop()},{config:"config",userData:"userData"}],use_reversed_rotateBy:[function(e,t,n){"use strict";cc._RF.push(t,"e792cw+ZYRJGqREODbtvfCg","use_reversed_rotateBy"),cc.RotateBy._reverse=!0,cc._RF.pop()},{}],"use_v2.1-2.2.1_cc.Toggle_event":[function(e,t,n){"use strict";cc._RF.push(t,"b8c63pqz6xNs6qHzjsXVBrK","use_v2.1-2.2.1_cc.Toggle_event"),cc.Toggle&&(cc.Toggle._triggerEventInScript_isChecked=!0),cc._RF.pop()},{}],userData:[function(e,t,n){"use strict";cc._RF.push(t,"b2ee1kZ+o9NFJha9TTuKcKi","userData"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default={bubbleGold:0,gold:50,giftNeedScore:0,maxScore:0,useFish:0,haveFishArr:[],playerFish:0,cumScore:0,cumDieCount:0,dieCount:0,getOfflineGoldTime:0,nowTime:0,treaSureBoxLv:1,videoStar:0,haveEgg:0,eggStartTime:0,crystla:0,quickEggCount:0,soundState:1,shakeState:1,gameModel:0,loginDate:0,sevenDaySignIn:[0,0,0,0,0,0,0],noviceGuide:{ocean:0,fishUI:0,eggUI:0,moneyUI:0,shopUI:0,gameOver:0},getOceanOfflineTime:0,giftCenter:{myGame:0,colorSign:0,subscription:0,todayVideo:0,todayShare:0,todaySignIn:0,lotteryCount:0,todayVideoCount:0,getBigCrystla:0},fishArr:{0:{level:1,use:1,have:1,nowEx:0},1:{level:1,use:0,have:0,nowEx:0},2:{level:1,use:0,have:0,nowEx:0},3:{level:1,use:0,have:0,nowEx:0},4:{level:1,use:0,have:0,nowEx:0},5:{level:1,use:0,have:0,nowEx:0},6:{level:1,use:0,have:0,nowEx:0},7:{level:1,use:0,have:0,nowEx:0},8:{level:1,use:0,have:0,nowEx:0}},ocean:{stone:[{have:0,level:0},{have:0,level:0},{have:0,level:0},{have:0,level:0},{have:0,level:0},{have:0,level:0}],decorate:[{have:0,level:0},{have:0,level:0},{have:0,level:0},{have:0,level:0},{have:0,level:0},{have:0,level:0},{have:0,level:0},{have:0,level:0},{have:0,level:0}],fish:[{have:1,level:0},{have:0,level:0},{have:0,level:0},{have:0,level:0},{have:0,level:0},{have:0,level:0},{have:0,level:0},{have:0,level:0},{have:0,level:0}]}},t.exports=n.default,cc._RF.pop()},{}]},{},["use_reversed_rotateBy","use_v2.1-2.2.1_cc.Toggle_event","commonUI","doubleGoldUI","eggUI","errClickUI","fishContent","fishUI","fishUI_old","gameOverUI","gameSzTips","getRewardUI","giftBoxUI","giftCenterTipsUI","giftCenterUI","gunFishTips","jumbUI","lotteryUI","moneyUI","moreSkillUI","newPropUI","optionUI","redTips","shopUI","signInUI","tapeShareUI","tipsUI","touchScroll","touchScroll_old","upTreaSureBoxUI","config","push_config","resPath","oneDayGroup","adCtrl","soundCtrl","createScene","animEffect","bgGold","bgGoldGroup","bgGoldOne","bgShadow","bubbleEffect","killEffect","levelUpEffect","scoreEffect","enemy","enemyGoldFish","enemyGunFish","gameRules","gameScene","homeRules","loadingScene","noviceGuideData","noviceGuideUI","bubbleGoldEffect","itemUI","ocCommonUI","ocConfig","ocCreateUI","ocEnemy","ocKillEffect","ocPlayerFishEvent","ocProp","ocRewardGold","oceanRules","oceanScene","buttonEvents","cache","fx","joyStick","playerFishEvent","test","testGame","crab","player","userData"]);